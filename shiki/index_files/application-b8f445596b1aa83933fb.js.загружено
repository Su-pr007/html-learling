!function(e){function t(t){for(var n,r,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)r=o[l],a[r]&&d.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(p&&p(t);d.length;)d.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},r={application:0},a={application:0},i=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{1:1,2:1,3:1,4:1,5:1,6:1}[e]&&t.push(r[e]=new Promise(function(t,s){for(var n="css/"+({"codemirror~coremirror":"codemirror~coremirror",codemirror:"codemirror",coremirror:"coremirror","d3~franchise":"d3~franchise",franchise:"franchise",highcharts:"highcharts","nouislider.js":"nouislider.js","sortable.esm.js":"sortable.esm.js","vuedraggable.common.js":"vuedraggable.common.js","vuex.esm.js":"vuex.esm.js",pikaday:"pikaday",vue:"vue","vue-tags-input.js":"vue-tags-input.js"}[e]||e)+"-"+{0:"31d6cfe0",1:"568336c4",2:"2d9b5e83",3:"e50c28e8",4:"9f8cf66e",5:"ea66d2c5",6:"d2021b73",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0","codemirror~coremirror":"31d6cfe0",codemirror:"31d6cfe0",coremirror:"31d6cfe0","d3~franchise":"31d6cfe0",franchise:"31d6cfe0",highcharts:"31d6cfe0","nouislider.js":"31d6cfe0","sortable.esm.js":"31d6cfe0","vuedraggable.common.js":"31d6cfe0","vuex.esm.js":"31d6cfe0",pikaday:"31d6cfe0",vue:"31d6cfe0","vue-tags-input.js":"31d6cfe0"}[e]+".chunk.css",a=o.p+n,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=(p=i[c]).getAttribute("data-href")||p.getAttribute("href");if("stylesheet"===p.rel&&(u===n||u===a))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var p;if((u=(p=l[c]).getAttribute("data-href"))===n||u===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[e],d.parentNode.removeChild(d),s(i)},d.href=a,document.getElementsByTagName("head")[0].appendChild(d)}).then(function(){r[e]=0}));var s=a[e];if(0!==s)if(s)t.push(s[2]);else{var n=new Promise(function(t,n){s=a[e]=[t,n]});t.push(s[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+"js/"+({"codemirror~coremirror":"codemirror~coremirror",codemirror:"codemirror",coremirror:"coremirror","d3~franchise":"d3~franchise",franchise:"franchise",highcharts:"highcharts","nouislider.js":"nouislider.js","sortable.esm.js":"sortable.esm.js","vuedraggable.common.js":"vuedraggable.common.js","vuex.esm.js":"vuex.esm.js",pikaday:"pikaday",vue:"vue","vue-tags-input.js":"vue-tags-input.js"}[e]||e)+"-"+{0:"c458456ea4a05230cdc4",1:"09f14293d83e2b1e434b",2:"2bd415199a9071e8664e",3:"078983b6bb6125723de4",4:"d054c56682bfcfd1161d",5:"dce9d99397306b053bb3",6:"8e89db85e9f4c81f87d8",7:"cd0305915979e70f00c7",8:"82897e4dd752844df48f",9:"f84b349cdab05f56af1c","codemirror~coremirror":"20215a270024ce76c2b9",codemirror:"8d714d570f8fe044853c",coremirror:"8e0f92230d7a2660ec1c","d3~franchise":"ec87de62ac514530d894",franchise:"e73e2945dc0205441e4a",highcharts:"5b0fb122d0ecd49d5db7","nouislider.js":"fca8685cf54e7e907b76","sortable.esm.js":"4ff582b423481e766c10","vuedraggable.common.js":"96198384bb601e29a2ff","vuex.esm.js":"ab322225f6531ed57ef0",pikaday:"f90d3cd1dab85ca1f88b",vue:"94acd0a19b368b8a31ce","vue-tags-input.js":"a294637af086ca50b86a"}[e]+".chunk.js"}(e);var u=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(l);var s=a[e];if(0!==s){if(s){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",u.name="ChunkLoadError",u.type=n,u.request=r,s[1](u)}a[e]=void 0}};var l=setTimeout(function(){i({type:"timeout",target:c})},12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/packs/",o.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var p=u;i.push(["./app/assets/javascripts/packs/application.js","vendors"]),s()}({"./app/assets/javascripts/application.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./app/assets/javascripts/vendor/sugar.js"),n=s.n(t),r=s("./node_modules/turbolinks/dist/turbolinks.js"),a=s.n(r),i=s("./node_modules/moment/moment.js"),o=s.n(i),c=s("./node_modules/delay/index.js"),u=s.n(c),l=(s("./node_modules/magnific-popup/dist/jquery.magnific-popup.js"),s("./node_modules/magnific-popup/dist/magnific-popup.css"),s("./node_modules/nouislider/distribute/nouislider.css"),s("./node_modules/jquery-appear-original/index.js"),s("./node_modules/codemirror/lib/codemirror.css"),s("./node_modules/codemirror/theme/solarized.css"),s("./node_modules/codemirror/addon/hint/show-hint.css"),s("./node_modules/codemirror/addon/dialog/dialog.css"),s("./node_modules/codemirror/addon/display/fullscreen.css"),s("./node_modules/codemirror/addon/search/matchesonscrollbar.css"),s("./node_modules/throttle-debounce/index.esm.js")),p=s("./app/assets/javascripts/helpers/page_load.js"),d=s("./app/assets/javascripts/helpers/page_unload.js"),f=s("./app/assets/javascripts/models/shiki_user.js"),h=s("./app/assets/javascripts/services/faye_loader.coffee"),m=s("./app/assets/javascripts/services/comments_notifier.js"),v=s("./app/assets/javascripts/services/achievements_notifier.js"),_=s("./app/assets/javascripts/helpers/bindings.js");s("./app/assets/javascripts/helpers/using.js"),s("./app/assets/javascripts/helpers/p.js"),s("./app/assets/javascripts/i18n/translations.js");n.a.extend(),a.a.start();var g=s("./app/assets/javascripts/vendor sync ^\\.\\/.*$");g.keys().forEach(g),s("./node_modules/paste.js/paste.js"),s("./node_modules/imagesloaded/imagesloaded.js"),window.pageLoad=p.a,window.pageUnload=d.a;var y=s("./app/assets/javascripts/jquery.plugins sync recursive ^\\.\\/.*$");y.keys().forEach(y);var j=s("./app/assets/javascripts/views sync recursive ^\\.\\/.*$");j.keys().forEach(j);var b=s("./app/assets/javascripts/pages sync recursive ^\\.\\/.*$");b.keys().forEach(b);var w=s("./app/assets/javascripts/blocks sync recursive ^\\.\\/.*$");w.keys().forEach(w),$(document).one("turbolinks:load",function(){window.JS_EXPORTS||(window.JS_EXPORTS={});var t=$(document.body);window.ENV=t.data("env"),window.SHIKI_USER=new f.a(t.data("user")),window.LOCALE=t.data("locale"),window.FAYE_URL=t.data("faye_url"),window.CAMO_URL=t.data("camo_url"),window.SHIKI_USER&&(window.FAYE_CHANNEL=t.data("faye")),window.I18n=e,e.locale=window.LOCALE,o.a.locale(window.LOCALE),window.MOMENT_DIFF=o()(t.data("server_time")).diff(new Date),window.SHIKI_USER.isSignedIn&&!window.SHIKI_FAYE_LOADER&&(window.SHIKI_COMMENTS_NOTIFIER=new m.a,window.SHIKI_ACHIEVEMENTS_NOTIFIER=new v.a,u()(150).then(function(){return window.SHIKI_FAYE_LOADER=new h.a})),$.appear(".b-appear_marker.active"),$.formNavigate({size:250,message:e.t("frontend.application.sure_to_leave_page")});var s=window.location.hash.match(/^#(comment-\d+)$/);s&&$("a[name=".concat(s[1],"]")).closest(".b-comment").yellowFade(),$(window).on("resize",Object(l.a)(500,function(){return $(document.body).trigger("resize:debounced")})),$(window).on("scroll",Object(l.b)(750,function(){return $(document.body).trigger("scroll:throttled")}))}),$(document).on(Object.keys(_.a).join(" "),function(e){_.a[e.type].forEach(function(e){var t;t=e.conditions.length&&"."===e.conditions[0][0]?e.conditions.filter(function(e){return"."===e[0]}).map(function(e){return"p-".concat(e.slice(1)," ")}):[],e.conditions.length?t&&t.some(function(e){return-1!==document.body.className.indexOf(e)})?e.callback():e.conditions.some(function(e){return document.body.id===e})&&e.callback():e.callback()})})}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/blocks sync recursive ^\\.\\/.*$":function(e,t,s){var n={"./collapse":"./app/assets/javascripts/blocks/collapse.coffee","./collapse.coffee":"./app/assets/javascripts/blocks/collapse.coffee","./feedback":"./app/assets/javascripts/blocks/feedback.coffee","./feedback.coffee":"./app/assets/javascripts/blocks/feedback.coffee","./lang_trigger":"./app/assets/javascripts/blocks/lang_trigger.coffee","./lang_trigger.coffee":"./app/assets/javascripts/blocks/lang_trigger.coffee","./menu-toggler":"./app/assets/javascripts/blocks/menu-toggler.coffee","./menu-toggler.coffee":"./app/assets/javascripts/blocks/menu-toggler.coffee","./packery":"./app/assets/javascripts/blocks/packery.js","./packery.js":"./app/assets/javascripts/blocks/packery.js","./postloader":"./app/assets/javascripts/blocks/postloader.js","./postloader.js":"./app/assets/javascripts/blocks/postloader.js","./red_alert":"./app/assets/javascripts/blocks/red_alert.js","./red_alert.js":"./app/assets/javascripts/blocks/red_alert.js","./to_top":"./app/assets/javascripts/blocks/to_top.js","./to_top.js":"./app/assets/javascripts/blocks/to_top.js","./top_menu":"./app/assets/javascripts/blocks/top_menu.js","./top_menu.js":"./app/assets/javascripts/blocks/top_menu.js","./user-defined":"./app/assets/javascripts/blocks/user-defined.coffee","./user-defined.coffee":"./app/assets/javascripts/blocks/user-defined.coffee"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="./app/assets/javascripts/blocks sync recursive ^\\.\\/.*$"},"./app/assets/javascripts/blocks/collapse.coffee":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/js-cookie/src/js.cookie.js"),r=s.n(n);$(document).on("click",".collapse",function(e,t){var s,n,a,i,o,c;for(o=$(this).children(".action").html().match(/\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c|\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c|collapse|hide/),$(this).toggleClass("triggered",o),(n=$(this).next()).hasClass("collapsed")||(n=n.next()),(s=n.next()).exists()||(s=$(this).parent().next());s.last().next().hasClass("collapse-merged");)s=s.add(s.last().next());return s.length>1&&(s=s.filter(":not(.collapse-ignored)")),o?(n.show(),s.hide()):(s.show(),n.hide()),$(this).children(".action").html(function(){var e;return(e=$(this)).hasClass("half-hidden")&&(o?e.hide():e.show()),o?e.html().replace("\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c","\u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c").replace("\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c","\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c").replace("hide","show").replace("collapse","expand"):e.html().replace("\u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c","\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c").replace("\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c","\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c").replace("show","hide").replace("expand","collapse")}),t||(i=$(this).attr("id"))&&""!==i&&-1!==i.indexOf("-")&&(c=i.split("-").slice(1).join("-")+";",a=r.a.get("collapses")||"",o&&-1===a.indexOf(c)?r.a.set("collapses",a+c,{expires:730,path:"/"}):o||-1===a.indexOf(c)||r.a.set("collapses",a.replace(c,""),{expires:730,path:"/"})),n.next().trigger("show")}),$(document).on("click",".collapsed",function(){var e;return(e=$(this).prev()).hasClass("collapse")||(e=e.prev()),e.trigger("click")}),$(document).on("click",".hide-expanded",function(){return $(this).parent().prev().trigger("click")}),$(document).on("click",".spoiler.target",function(){if($(this).hasClass("dashed"))return $(this).hide().prev().show().prev().show()})},"./app/assets/javascripts/blocks/feedback.coffee":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./app/assets/javascripts/views/application/shiki_modal.js"),n=s("./app/assets/javascripts/services/flash.js");$(document).on("turbolinks:load",function(){var s;return s=$(".b-feedback"),$(".marker-positioner",s).on("ajax:success",function(s,r){var a,i;return(a=$(r)).find(".b-shiki_editor.unprocessed").shikiEditor(),i=new t.default(a),a.one("mouseover",function(){var e;if((e=a.find("input[data-antispam]")).length)return e.val(e.data("token").replace("antispam-",""))}).on("ajax:success",function(){return n.a.notice(e.t("frontend.blocks.feedback.message_sent")),i.close()})})})}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/blocks/lang_trigger.coffee":function(e,t){$(document).on("turbolinks:load",function(){return $(".b-lang_trigger").on("click",function(){var e;return(e=$(".english")).is(":visible")?(e.hide(),$(".russian").show(),$(".changes").show(),$(this).children().html("eng")):(e.show(),$(".russian").hide(),$(".changes").hide(),$(this).children().html("\u0440\u0443\u0441"))})})},"./app/assets/javascripts/blocks/menu-toggler.coffee":function(e,t){$(document).on("turbolinks:load",function(){var e,t;if((e=$(".menu-toggler")).exists())return e.on("click",function(){return $(".l-page").toggleClass("menu-expanded")}),$.detectSwipe.threshold=150,$.detectSwipe.preventDefault=!1,t=$(".l-page").on("swipeleft",function(){return t.addClass("menu-expanded")}).on("swiperight",function(){return t.removeClass("menu-expanded")})})},"./app/assets/javascripts/blocks/packery.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a);function o(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function c(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){o(a,n,r,i,c,"next",e)}function c(e){o(a,n,r,i,c,"throw",e)}i(void 0)})}}$(function(){return $(window).on("resize:debounced",function(){return $(".packery").each(c(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=$(this).data("packery")).layout(),e.next=4,i()(1250);case 4:t.layout();case 5:case"end":return e.stop()}},e,this)})))})})},"./app/assets/javascripts/blocks/postloader.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./node_modules/@babel/runtime/regenerator/index.js"),n=s.n(t),r=s("./app/assets/javascripts/helpers/axios.js");function a(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function i(e,t,s){var n=$(".".concat(s),t).toArray().map(function(e){return e.id}).filter(function(e){return e}).map(function(e){return".".concat(s,"#").concat(e)}).join(",");e.children().filter(n).remove()}$(function(){$.appear(".b-postloader")}),$(document).on("click appear",".b-postloader",function(){var t,s=(t=n.a.mark(function t(s){var a,o,c,u,l,p,d,f,h,m;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=s.currentTarget,o=s.type,!((c=$(a)).data("locked")||"appear"===o&&c.data("ignore-appear"))){t.next=4;break}return t.abrupt("return");case 4:return u=e.t("frontend.lib.postloader.loading"),l=c.data("remote"),p=c.data("filter"),c.html('<div class="ajax-loading vk-like" title="'.concat(u,'..." />')).data({locked:!0}),t.next=10,r.a.get(l);case 10:d=t.sent,f=d.data,h=$("<div>").append("".concat(f.content).concat(f.postloader)),p&&i(h,c.parent(),p),c.trigger("postloader:before",[h,f]),m=h.children(),c.replaceWith(m),m.process(f.JS_EXPORTS).first().trigger("postloader:success");case 18:case"end":return t.stop()}},t)}),function(){var e=this,s=arguments;return new Promise(function(n,r){var i=t.apply(e,s);function o(e){a(i,n,r,o,c,"next",e)}function c(e){a(i,n,r,o,c,"throw",e)}o(void 0)})});return function(e){return s.apply(this,arguments)}}())}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/blocks/red_alert.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/js-cookie/src/js.cookie.js"),i=s.n(a),o=s("./node_modules/delay/index.js"),c=s.n(o);function u(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}$(document).on("turbolinks:load",function(){$(".b-hot_topics-v2.red-alert .b-close").on("click",function(){var e,t=(e=r.a.mark(function e(t){var s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=$(".b-hot_topics-v2.red-alert"),i.a.set($(t.currentTarget).data("cookie-name"),"1",{expires:720}),s.addClass("removing"),e.next=5,c()(1e3);case 5:s.remove();case 6:case"end":return e.stop()}},e)}),function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){u(a,n,r,i,o,"next",e)}function o(e){u(a,n,r,i,o,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}())})},"./app/assets/javascripts/blocks/to_top.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/helpers/mobile_detect.js"),r=null,a=null,i=!1,o=!1;function c(){i||($(window).scrollTop()>$(".l-top_menu-v2").height()?null!==r&&!1!==r||(a.addClass("active"),r=!0):u())}function u(){null!==r&&!0!==r||(a.removeClass("active"),r=!1)}$(document).on("turbolinks:load",function(){Object(n.isMobile)()||(a=$(".b-to-top"),r=null,c(),a.on("click",function(){u(),i=!0,$("body,html").animate({scrollTop:0},50,function(){return i=!1})}),o||(o=!0,$(window).on("scroll:throttled",c)))})},"./app/assets/javascripts/blocks/top_menu.js":function(e,t,s){"use strict";s.r(t);var n,r=s("./node_modules/@babel/runtime/regenerator/index.js"),a=s.n(r),i=s("./node_modules/delay/index.js"),o=s.n(i),c=s("./node_modules/throttle-debounce/index.esm.js"),u=s("./app/assets/javascripts/views/search/global.js"),l=s("./app/assets/javascripts/helpers/global_handler.js"),p=s("./app/assets/javascripts/helpers/mobile_detect.js");function d(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function f(){var e=$(".l-top_menu-v2.is-search-mobile .search.mobile");e.length&&(e.click(),n.cancel())}$(document).on("turbolinks:load",function(){var e=$(".l-top_menu-v2 .global-search");e.length&&(n=new u.default(e)),e.find(".clear").on("click",f),$(".l-top_menu-v2 .menu-dropdown").each(function(e,t){var s,n,r=$(t),i=r.children("span"),u=r.children(".submenu").show(),h=u.children("a").on("focus",function(e){return function(e){e.setAttribute("tabindex",0),e.classList.add("active")}(e.currentTarget)}).on("blur",function(e){return function(e){e.setAttribute("tabindex",-1),e.classList.remove("active")}(e.currentTarget)}).hover(function(e){var t=e.currentTarget;return $(t).focus()},function(e){var t=e.currentTarget;return $(t).blur()}),m=function(e){e.preventDefault(),e.stopImmediatePropagation();var t=h.filter(".active");t.length&&$(h[h.index(t)-1]).focus()},v=function(e){e.preventDefault(),e.stopImmediatePropagation();var t=h.filter(".active");t.length?$(h[h.index(t)+1]).focus():h.first().focus()},_=function(){r.addClass("active"),$(".l-top_menu-v2").addClass("is-submenu"),l.a.on("up",m).on("down",v),f()},g=function(){r.removeClass("active"),$(".l-top_menu-v2 .menu-dropdown.active").length||$(".l-top_menu-v2").removeClass("is-submenu"),l.a.off("up",m).off("down",v)},y=!!i.children("a").length;!function(e){var t=e.$modal,s=e.$trigger,n=e.$outerNode,r=e.show,a=e.hide,i=e.onlyShow,c=e.isIgnored,u=e.isHidden,l=!1;function p(){return u?u():"none"!==t.css("display")}function d(e){var s=e.type;if("focus"===s||!c||!c()){var n=p()||"focus"===s?"modal:show":"modal:hide";"modal:hide"===n&&i||l||(t.trigger(n),l=!0,o()().then(function(){return l=!1}))}}function f(e){var s=e.target,r=$(s);s!==(n||t)[0]&&!r.closest(n||t).length&&r.parents("html").length&&t.trigger("modal:hide")}function h(e){27===e.keyCode&&t.trigger("modal:hide")}s.constructor===String?$(document).on("mousedown focus",s,d):s.on("mousedown focus",d),t.on("modal:show",function(){p()&&(r?r():t.show(),o()().then(function(){$(document.body).on("click",f),$(document.body).on("focus","*",f),$(document.body).on("keydown",h),$(document).one("turbolinks:before-cache",function(){$(document.body).off("click",f),$(document.body).off("focus","*",f),$(document.body).off("keydown",h)})}))}).on("modal:hide",function(){p()||(a?a():t.hide(),$(document.body).off("click",f),$(document.body).off("focus","*",f),$(document.body).off("keydown",h),s.is(":focus")&&s.blur())})}({$modal:u,$outerNode:r,$trigger:i,show:_,hide:(s=a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(),e.next=3,o()();case 3:i.blur();case 4:case"end":return e.stop()}},e)}),n=function(){var e=this,t=arguments;return new Promise(function(n,r){var a=s.apply(e,t);function i(e){d(a,n,r,i,o,"next",e)}function o(e){d(a,n,r,i,o,"throw",e)}i(void 0)})},function(){return n.apply(this,arguments)}),isIgnored:function(){return!Object(p.isTablet)()&&!Object(p.isMobile)()&&y},isHidden:function(){return!r.hasClass("active")}});var j=Object(c.a)(200,function(){b&&g()}),b=!1;r.hover(function(){Object(p.isTablet)()||Object(p.isMobile)()||(b=!1,_())},function(){Object(p.isTablet)()||Object(p.isMobile)()||(b=!0,j())})}),$(".l-top_menu-v2 .search.mobile").on("click",function(t){var s=t.currentTarget;$(s).toggleClass("active"),$(".l-top_menu-v2").toggleClass("is-search-mobile"),s.classList.contains("active")&&e.find("input").focus()})}),$(document).on("turbolinks:before-cache",function(){n&&(n.cancel(),n=void 0),$(".l-top_menu-v2").removeClass("is-submenu is-search-mobile"),$(".l-top_menu-v2 .submenu").prop("style",!1),$(".l-top_menu-v2 .active").removeClass("active")})},"./app/assets/javascripts/blocks/user-defined.coffee":function(e,t){$(document).on("click",".user-defined",function(){return this.classList.toggle("active")})},"./app/assets/javascripts/dynamic_elements/_parser.js":function(e,t,s){"use strict";var n,r=s("./app/assets/javascripts/dynamic_elements/authorized_action.coffee"),a=s("./app/assets/javascripts/views/application/view.coffee"),i={}.hasOwnProperty,o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)i.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,a["default"]),"nohighlight",t.prototype.initialize=function(){return this.klass=t,this.klass.hljs_initialize(),this.highlight()},t.prototype.highlight=function(){var e,t,s;if(e=null!=(s=(t=this.root.childNodes[0]).attributes["data-language"])?s.value:void 0,!t.classList.contains("nohighlight")&&e)return Modernizr.bloburls&&Modernizr.webworkers?(t.id="code_"+this.klass.last_id,this.klass.last_id+=1,this.klass.worker.postMessage({node_id:t.id,code:t.textContent,language:e})):console.error("webworkers are not supported")},t.hljs_initialize=function(){if(!this.hljs_initialized)return this.hljs_initialized=!0,this.last_id=0,this.worker=this.build_worker(function(){importScripts("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"),this.onmessage=function(e){var t;return t=self.hljs.highlight(e.data.language,e.data.code,!0),postMessage({html:t.value,node_id:e.data.node_id})}}),this.worker.onmessage=function(e){var t;return null!=(t=document.getElementById(e.data.node_id))?t.innerHTML=e.data.html:void 0}},t.build_worker=function(e){var t,s;return s=(s=e.toString()).substring(s.indexOf("{")+1,s.lastIndexOf("}")),t=new Blob([s],{type:"application/javascript"}),new Worker(URL.createObjectURL(t))},t}(),c=s("./app/assets/javascripts/dynamic_elements/comment.coffee"),u=s("./app/assets/javascripts/dynamic_elements/cutted_covers.coffee"),l=s("./app/assets/javascripts/dynamic_elements/day_registered_action.coffee"),p={}.hasOwnProperty;n=s("./app/assets/javascripts/helpers/mobile_detect.js");var d=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)p.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,a["default"]),t.prototype.initialize=function(){var e,t,s,n,r;if(r=this.$node.data("ad_provider"),s=this.$node.data("ad_html"),t=this.$node.data("ad_css_class"),e=this.$node.data("ad_params"),n=this.$node.data("platform"),this._platform_matches(n))return"yandex_direct"===r?new Ads.Yandex(this.$node,s,t,e):"mytarget"===r?new Ads.Mytarget(this.$node,s,t,e):new Ads.View(this.$node,s,t,e)},t.prototype._platform_matches=function(e){return"desktop"===e?n.isTablet()||!n.isMobile():n.mobileDetect.phone()||n.mobileDetect.tablet()},t}(),f=s("./app/assets/javascripts/dynamic_elements/forum.coffee"),h=s("./app/assets/javascripts/dynamic_elements/topic.coffee"),m={}.hasOwnProperty,v=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)m.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,h["a"]),t.prototype._before_comments_clickload=function(){},t.prototype._update_comments_loader=function(e){var t;return e.postloader?(t=$(e.postloader).process(),this.$comments_loader.replaceWith(t),this.$comments_loader=t):(this.$comments_loader.remove(),this.$comments_loader=null)},t}(),_=s("./node_modules/delay/index.js"),g=s.n(_),y=s("./node_modules/imagesloaded/imagesloaded.js"),j=s.n(y),b={}.hasOwnProperty,w=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)b.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,a["default"]),t.prototype.initialize=function(){return this.$node.magnificPopup({preloader:!1,type:"webm",mainClass:"mfp-no-margins mfp-img-mobile",closeOnContentClick:!0}),this._replace_image()},t.prototype._replace_image=function(e){var t,s;if(null==e&&(e=1),!this.$node.data("video").match(/\.mp3$/))return(t=new Image).src=this.$node.data("src"),j()(t).on("done",(s=this,function(){return s.node.src=s.$node.data("src"),s.node.srcset=s.$node.data("srcset")})).on("fail",function(t){return function(){if(e<=60)return g()(5e3*(e+1)).then(function(){return t._replace_image(e+1)})}}(this))},t}(),k=(s("./node_modules/urijs/src/URI.js"),s("./app/assets/javascripts/views/application/shiki_view.coffee")),x=s("./app/assets/javascripts/views/comments/ban_form.js"),C=function(e,t){return function(){return e.apply(t,arguments)}},O={}.hasOwnProperty,S=function(e){function t(){return this._remove=C(this._remove,this),this._hide_form=C(this._hide_form,this),this._show_form=C(this._show_form,this),this._prepare_form=C(this._prepare_form,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)O.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,k["default"]),t.prototype.initialize=function(){return this.$moderation=this.$(".moderation"),this.$(".reject[data-reason-prompt]",this.$moderation).on("click",this._reject_dialog),this.$(".ajax-action",this.$moderation).on("ajax:before",this._shade).on("ajax:success",this._reload),this.$(".delete",this.$moderation).on("ajax:before",this._shade).on("ajax:success",this._remove),this.$(".ban, .warn",this.$moderation).on("ajax:before",this._prepare_form).on("ajax:before",this._shade).on("ajax:complete",this._unshade).on("ajax:success",this._show_form)},t.prototype._prepare_form=function(){return this.$moderation.hide(),this.$(".spoiler.collapse .action").hide()},t.prototype._show_form=function(e,t){var s;return(s=this.$(".ban-form")).html(t).show(),new x.default(s),$(e.target).hasClass("warn")&&(s.find("#ban_duration").val("0m"),this.$root.find(".b-spoiler_marker").length&&s.find("#ban_reason").val("\u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b")),$(".cancel",s).on("click",this._hide_form),s.on("ajax:before",this._shade).on("ajax:complete",this._unshade).on("ajax:success",this._reload)},t.prototype._hide_form=function(){return this.$moderation.show(),this.$(".spoiler.collapse .action").show(),this.$(".ban-form").hide().empty(),this.$(".spoiler.collapse").click()},t.prototype._remove=function(){return this.$root.hide(),g()(1e4).then((e=this,function(){return e.$root.remove()}));var e},t.prototype._reject_dialog=function(e){var t,s;return t=$(e.target).data("href"),null!==(s=prompt($(e.target).data("reason-prompt")))&&$(e.target).attr({href:t+"?reason="+encodeURIComponent(s)})},t}(),T=s("./app/assets/javascripts/dynamic_elements/message.coffee"),P=s("./node_modules/@babel/runtime/regenerator/index.js"),E=s.n(P),I=s("./app/assets/javascripts/helpers/axios.js");function A(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function q(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,R(t).apply(this,arguments))}var s,n,r,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,k["default"]),s=t,(n=[{key:"initialize",value:(a=E.a.mark(function e(){var t,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get(this.$root.data("postloaded-url"));case 2:t=e.sent,s=t.data,this.$root.html(s).removeClass("b-ajax").process().trigger("postloaded:success");case 5:case"end":return e.stop()}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=a.apply(e,t);function i(e){A(r,s,n,i,o,"next",e)}function o(e){A(r,s,n,i,o,"throw",e)}i(void 0)})},function(){return i.apply(this,arguments)})}])&&q(s.prototype,n),r&&q(s,r),t}(),N=s("./app/assets/javascripts/dynamic_elements/clickloaded.js"),z=s("./app/assets/javascripts/dynamic_elements/short_dialog.coffee");function H(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,F(t).apply(this,arguments))}var s,n,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,k["default"]),s=t,(n=[{key:"initialize",value:function(){var e=this;this.$tabs=this.$("[data-tab]"),this.$tabSwitches=this.$("[data-tab-switch]"),this.$tabSwitches.on("click",function(t){var s=t.currentTarget;return e._switchTab(s)})}},{key:"_switchTab",value:function(e){var t=this.$tabSwitches.toArray().indexOf(e),s=$(this.$tabs[t]);this.$tabSwitches.removeClass("active"),e.classList.add("active"),this.$tabs.addClass("hidden"),s.removeClass("hidden"),s.process_hidden_content()}}])&&H(s.prototype,n),r&&H(s,r),t}();function W(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,K(t).apply(this,arguments))}var s,n,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,a["default"]),s=t,(n=[{key:"initialize",value:function(){var e=this;this.$node.data("texts").forEach(function(t){return e.addText(t)})}},{key:"addText",value:function(e){this.$("\n      .cc-collection-groups[data-index=".concat(e.group_index,"]\n      .b-catalog_entry#").concat(e.linked_id,"\n      .image-decor\n    ")).each(function(t,s){return $(s).append("<div class='text'>".concat(e.text,"</div>"))})}}])&&W(s.prototype,n),r&&W(s,r),t}(),X=s("./app/assets/javascripts/dynamic_elements/user_rates/button.coffee"),J=s("./app/assets/javascripts/helpers/jst.js"),Z=function(e,t){return function(){return e.apply(t,arguments)}},ee={}.hasOwnProperty,te=function(e){function t(){return this._change_score=Z(this._change_score,this),this._hide_form=Z(this._hide_form,this),this._show_form=Z(this._show_form,this),this._toggle_list=Z(this._toggle_list,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)ee.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,X["a"]),"user_rates/extended","user_rates/score",t.prototype.initialize=function(){return this.entry=this.$root.data("entry"),this.form_html=null,this.on("click",".cancel",this._hide_form),this.on("ajax:success",".remove",this._hide_form),this.on("ajax:success",".rate-edit",this._hide_form),this.on("rate:change",this._change_score),t.__super__.initialize.call(this)},t.prototype._toggle_list=function(e){return this._is_persisted()&&e.currentTarget.classList.contains("edit-trigger")?this.form_html?this._hide_form():this._fetch_form():t.__super__._toggle_list.call(this)},t.prototype._fetch_form=function(){return this._ajax_before(),I.a.get("/user_rates/"+this.model.id+"/edit").then((e=this,function(t){return e._ajax_complete(),e._show_form(t.data)}));var e},t.prototype._show_form=function(e){return this.form_html=e,this._render(),this.$(".remove.bottom").addClass("hidden"),this.$(".delete-button.top").removeClass("hidden")},t.prototype._hide_form=function(){return this.form_html=null,this._render()},t.prototype._change_score=function(e,t){return this.$('input[name="user_rate[score]"]').val(t),this.$("form").submit()},t.prototype._extended_html=function(){if(this._is_persisted())return this.form_html||this._render_extended()},t.prototype._render_extended=function(){return J.a["user_rates/extended"]({entry:this.entry,model:this.model,increment_url:this._is_persisted()?"/api/v2/user_rates/"+this.model.id+"/increment":void 0,rate_html:J.a["user_rates/score"]({score:this.model.score})})},t.prototype._render=function(){return t.__super__._render.call(this),this.$(".b-rate").rateable()},t}(),se=s("./app/assets/javascripts/dynamic_elements/week_registered_action.coffee");function ne(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}s.d(t,"a",function(){return re});var re=function(){function e(t){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.each(function(t,n){n.classList.remove(e.PENDING_CLASS),n.attributes["data-dynamic"].value.split(",").forEach(function(e){var t=e.camelize(!1);s[t]?s[t](n):console.error("unexpected processor: ".concat(t),n)})})}var t,s,n;return t=e,(s=[{key:"cuttedCovers",value:function(e){new u.a(e)}},{key:"textAnnotated",value:function(e){new Q(e)}},{key:"authorized",value:function(e){new r.a(e)}},{key:"dayRegistered",value:function(e){new l.a(e)}},{key:"weekRegistered",value:function(e){new se.a(e)}},{key:"html5Video",value:function(e){new w(e)}},{key:"logEntry",value:function(e){new S(e)}},{key:"desktopAd",value:function(e){new d(e)}},{key:"codeHighlight",value:function(e){new o(e)}},{key:"tabs",value:function(e){new B(e)}},{key:"forum",value:function(e){new f.a(e)}},{key:"topic",value:function(e){new h.a(e)}},{key:"comment",value:function(e){new c.a(e)}},{key:"message",value:function(e){new T.a(e)}},{key:"shortDialog",value:function(e){new z.a(e)}},{key:"fullDialog",value:function(e){new v(e)}},{key:"postloaded",value:function(e){new D(e)}},{key:"clickloaded",value:function(e){new N.a(e)}},{key:"userRate",value:function(e){"true"===e.attributes["data-extended"].value?new te(e):new X.a(e)}}])&&ne(t.prototype,s),n&&ne(t,n),e}();re.PENDING_CLASS="to-process"},"./app/assets/javascripts/dynamic_elements/authorized_action.coffee":function(e,t,s){"use strict";(function(e){var n=s("./app/assets/javascripts/services/flash.js"),r=s("./app/assets/javascripts/views/application/view.coffee"),a={}.hasOwnProperty;t.a=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)a.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,r["default"]),s.I18N_KEY="frontend.dynamic_elements.authorized_action",s.prototype.initialize=function(){return this.$node.on("click",function(t){if(!window.SHIKI_USER.isSignedIn)return n.a.info(e.t(s.I18N_KEY+".register_to_complete_action")),t.stopImmediatePropagation(),!1})},s}()}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/dynamic_elements/clickloaded.js":function(e,t,s){"use strict";(function(e){s.d(t,"a",function(){return j});var n,r=s("./node_modules/@babel/runtime/regenerator/index.js"),a=s.n(r),i=s("./node_modules/decko/dist/decko.js"),o=s("./app/assets/javascripts/views/application/shiki_view.coffee"),c=s("./app/assets/javascripts/helpers/axios.js");function u(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function l(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,m,v,_,g,y,j=(h=(n=function(t){function s(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=p(this,(e=d(s)).call.apply(e,[this].concat(r)))).isLoading=!1,t}var n,r,i,h,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,o["default"]),n=s,(r=[{key:"initialize",value:function(){this.$root.on("click",this.fetch)}},{key:"fetch",value:(h=a.a.mark(function t(){var s,n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isLoading){t.next=2;break}return t.abrupt("return");case 2:return this.isLoading=!0,s=this.$root.html(),this.$root.trigger("clickloaded:before"),this.$root.html("<div\n        class='ajax-loading vk-like'\n        title='".concat(e.t("frontend.blocks.click_loader.loading"),"'\n      />")),t.next=8,c.a.get(this.$root.data("clickloaded-url"));case 8:n=t.sent,r=n.data,this.$root.html(s),this.$root.trigger("clickloaded:success",[r]),this.isLoading=!1;case 13:case"end":return t.stop()}},t,this)}),m=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=h.apply(e,t);function a(e){u(r,s,n,a,i,"next",e)}function i(e){u(r,s,n,a,i,"throw",e)}a(void 0)})},function(){return m.apply(this,arguments)})}])&&l(n.prototype,r),i&&l(n,i),s}()).prototype,m="fetch",v=[i.bind],_=Object.getOwnPropertyDescriptor(n.prototype,"fetch"),g=n.prototype,y={},Object.keys(_).forEach(function(e){y[e]=_[e]}),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=v.slice().reverse().reduce(function(e,t){return t(h,m,e)||e},y),g&&void 0!==y.initializer&&(y.value=y.initializer?y.initializer.call(g):void 0,y.initializer=void 0),void 0===y.initializer&&(Object.defineProperty(h,m,y),y=null),n)}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/dynamic_elements/comment.coffee":function(e,t,s){"use strict";(function(e){var n,r,a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./app/assets/javascripts/services/flash.js"),c=s("./app/assets/javascripts/views/application/shiki_editor.coffee"),u=s("./app/assets/javascripts/views/application/shiki_editable.coffee"),l=s("./app/assets/javascripts/views/comments/ban_form.js"),p=function(e,t){return function(){return e.apply(t,arguments)}},d={}.hasOwnProperty;n="frontend.dynamic_elements.comment",t.a=function(t){function s(){return this._deactivate_inaccessible_buttons=p(this._deactivate_inaccessible_buttons,this),s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)d.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,u["default"]),s.prototype._type=function(){return"comment"},s.prototype._type_label=function(){return e.t(n+".type_label")},s.prototype._default_model=function(){return{can_destroy:!1,can_edit:!1,id:parseInt(this.root.id),is_viewed:!0,user_id:this.$root.data("user_id")}},s.prototype.initialize=function(){var t,s;if(this.model=this.$root.data("model")||this._default_model(),!window.SHIKI_USER.isUserIgnored(this.model.user_id))return this.$body=this.$(".body"),this.model&&!this.model.is_viewed&&this._activate_appear_marker(),this.$root.one("mouseover",this._deactivate_inaccessible_buttons),this.$(".item-mobile").one(this._deactivate_inaccessible_buttons),this.$inner.hasClass("check_height")&&((t=this.$body.find("img")).exists()?t.imagesLoaded(function(e){return function(){return i()(10).then(function(){return e._check_height()})}}(this)):this._check_height()),this.$(".item-reply").on("click",function(e){return function(t){var s,n,r;return s=e.root.id,n=e.$root.data("user_nickname"),r="["+e._type()+"="+s+"]"+n+"[/"+e._type()+"], ",e.$root.trigger("comment:reply",[r,e._is_offtopic()])}}(this)),this.$(".main-controls .item-edit").on("ajax:before",this._shade).on("ajax:complete",this._unshade).on("ajax:success",function(e){return function(t,s,n,r){var a;return a=$(s),new c.default(a).edit_comment(e.$root)}}(this)),this.$(".main-controls .item-moderation").on("click",function(e){return function(){return e.$(".main-controls").hide(),e.$(".moderation-controls").show()}}(this)),this.$(".item-offtopic, .item-summary").on("click",function(e){var t;return t=this.classList.contains("selected")?"remove":"add",$(this).attr("data-confirm",$(this).data("confirm-"+t))}),this.$(".item-spoiler, .item-abuse").on("ajax:before",function(e){var t;return null!==(t=prompt($(this).data("reason-prompt")))&&$(this).data({form:{reason:t}})}),this.$(".item-summary,.item-offtopic,.item-spoiler,.item-abuse,.b-offtopic_marker,.b-summary_marker").on("ajax:success",function(t){return function(s,a,i,c){return"affected_ids"in a&&a.affected_ids.length?(a.affected_ids.forEach(function(e){var t;return null!=(t=$(".b-comment#"+e).view())?t.mark(a.kind,a.value):void 0}),o.a.notice(r(a))):o.a.notice(e.t(n+".your_request_will_be_considered")),t.$(".item-moderation-cancel").trigger("click")}}(this)),this.$(".moderation-controls .item-moderation-cancel").on("click",function(e){return function(){return e._close_aside()}}(this)),this.$(".item-ban").on("ajax:success",function(e){return function(t,s){var n;return n=new l.default(s),e.$(".moderation-ban").html(n.$root).show(),e._close_aside()}}(this)),this.$(".moderation-ban").on("click",".cancel",function(e){return function(){return e.$(".moderation-ban").hide()}}(this)),this.$(".moderation-ban").on("ajax:success","form",function(e){return function(t,s){return e._replace(s.html)}}(this)),this.on("faye:comment:set_replies",function(e){return function(t,s){return e.$(".b-replies").remove(),$(s.replies_html).appendTo(e.$body).process()}}(this)),this.$(".hash").one("mouseover",function(){var e;return(e=$(this)).attr({href:e.data("url")}).changeTag("a")});this.$root.parent().length?this.$root.remove():i()().then((s=this,function(){return s.$root.remove()}))},s.prototype.mark=function(e,t){return this.$(".item-"+e).toggleClass("selected",t),this.$(".b-"+e+"_marker").toggle(t)},s.prototype._is_offtopic=function(){return"none"!==this.$(".b-offtopic_marker").css("display")},s.prototype._deactivate_inaccessible_buttons=function(){return this.model.can_edit||this.$(".item-edit").addClass("hidden"),this.model.can_destroy||this.$(".item-delete").addClass("hidden"),window.SHIKI_USER.isModerator?(this.$(".moderation-controls .item-abuse").addClass("hidden"),this.$(".moderation-controls .item-spoiler").addClass("hidden")):this.$(".moderation-controls .item-ban").addClass("hidden")},s}(),r=function(t){return t.value?"offtopic"===t.kind?t.affected_ids.length>1?o.a.notice(e.t(n+".comments_marked_as_offtopic")):o.a.notice(e.t(n+".comment_marked_as_offtopic")):o.a.notice(e.t(n+".comment_marked_as_summary")):"offtopic"===t.kind?o.a.notice(e.t(n+".comment_not_marked_as_offtopic")):o.a.notice(e.t(n+".comment_not_marked_as_summary"))}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/dynamic_elements/cutted_covers.coffee":function(e,t,s){"use strict";var n,r,a,i=s("./node_modules/delay/index.js"),o=s.n(i),c=s("./app/assets/javascripts/views/application/view.coffee"),u=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty;r=function(){return $("#injectCSSContainer").empty(),$("."+n.CLASS_NAME).each(function(){var e;return null!=(e=$(this).data(n.CLASS_NAME))?e.inject_css():void 0})},a=function(){return n.GLOBAL_HANDLER=!0,$(document).on("resize:debounced orientationchange",r)},t.a=n=function(e){function t(){return this.inject_css=u(this.inject_css,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)l.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,c["default"]),t.PRIOR_ID=0,t.RATIO={entry:318/225,person:350/225,character:350/225},t.CLASS_NAME="d-cutted_covers",t.GLOBAL_HANDLER=!1,t.prototype.initialize=function(){return o()().then((e=this,function(){var s;if(e._fetch_poster(),e.collection_id="cutted_covers_"+e._increment_id(),e.ratio_value=t.RATIO[e._node_ratio(e.node)]||t.RATIO.entry,e.inject_css(),e.node.id=e.collection_id,e.node.classList.add(t.CLASS_NAME),e.$node.data(((s={})[""+t.CLASS_NAME]=e,s)),!t.GLOBAL_HANDLER)return a()}));var e},t.prototype.inject_css=function(){var e,t,s;if($.contains(document.documentElement,this.$poster[0])||this._fetch_poster(),e=(this.$poster.width()*this.ratio_value).round(2),(s=this.$poster.width())>0&&e>0)return $.injectCSS(((t={})["#"+this.collection_id]={".image-cutter":{"max-width":s,"max-height":e}},t))},t.prototype._increment_id=function(){return t.PRIOR_ID=t.PRIOR_ID+1},t.prototype._node_ratio=function(e){var t;return null!=(t=this.node.attributes["data-ratio_type"])?t.value:void 0},t.prototype._fetch_poster=function(){return this.$poster=this.$(".b-catalog_entry:first-child .image-decor")},t}()},"./app/assets/javascripts/dynamic_elements/day_registered_action.coffee":function(e,t,s){"use strict";(function(e){var n=s("./app/assets/javascripts/services/flash.js"),r=s("./app/assets/javascripts/views/application/view.coffee"),a=s("./app/assets/javascripts/dynamic_elements/authorized_action.coffee"),i={}.hasOwnProperty;t.a=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)i.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,r["default"]),"frontend.dynamic_elements.day_registered_action",s.prototype.initialize=function(){return this.$node.on("click",function(t){return window.SHIKI_USER.isSignedIn?window.SHIKI_USER.isDayRegistered?void 0:(n.a.info(e.t("frontend.dynamic_elements.day_registered_action.action_will_be_available")),t.stopImmediatePropagation(),!1):(n.a.info(e.t(a.a.I18N_KEY+".register_to_complete_action")),t.stopImmediatePropagation(),!1)})},s}()}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/dynamic_elements/forum.coffee":function(e,t,s){"use strict";(function(e){var n=s("./app/assets/javascripts/views/application/shiki_view.coffee"),r={}.hasOwnProperty;t.a=function(t){var s;function a(){return a.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)r.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n["default"]),s=["faye:comment:marked","faye:comment:created","faye:comment:updated","faye:comment:deleted","faye:topic:updated","faye:topic:deleted","faye:comment:set_replies"],a.prototype.initialize=function(){var e;return this.on(s.join(" "),(e=this,function(t,s){var n;if(!window.SHIKI_USER.isTopicIgnored(s.topic_id)&&!window.SHIKI_USER.isUserIgnored(s.user_id))return(n=e.$(".b-topic#"+s.topic_id)).exists()?n.trigger(t.type,s):"faye:comment:created"===t.type?(e._faye_placeholder(s.topic_id),$(document.body).trigger("faye:added")):void 0})),this.on("faye:topic:created",function(e){return function(t,s){if(!window.SHIKI_USER.isUserIgnored(s.user_id))return e._faye_placeholder(s.topic_id),$(document.body).trigger("faye:added")}}(this))},a.prototype._faye_placeholder=function(t){var s,n;return(s=this.$(">.faye-loader")).exists()||(s=$('<div class="faye-loader to-process" data-dynamic="clickloaded"></div>').prependTo(this.$root).data({ids:[]}).process().on("clickloaded:success",function(e,t){var n;return n=$(t.content).process(t.JS_EXPORTS),s.replaceWith(n)})),-1===s.data("ids").indexOf(t)&&(s.data({ids:s.data("ids").add(t)}),s.data({"clickloaded-url":"/topics/chosen/"+s.data("ids").join(",")}),n=s.data("ids").length,s.html(p(n,e.t("frontend.lib.jquery_shiki_forum.new_topics_added.one",{count:n}),e.t("frontend.lib.jquery_shiki_forum.new_topics_added.few",{count:n}),e.t("frontend.lib.jquery_shiki_forum.new_topics_added.many",{count:n})))),s},a}()}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/dynamic_elements/message.coffee":function(e,t,s){"use strict";(function(e){var n=s("./app/assets/javascripts/dynamic_elements/comment.coffee"),r={}.hasOwnProperty;t.a=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)r.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,n["a"]),s.prototype._type=function(){return"message"},s.prototype._type_label=function(){return e.t("frontend.dynamic_elements.message.type_label")},s.prototype._deactivate_inaccessible_buttons=function(){},s}()}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/dynamic_elements/short_dialog.coffee":function(e,t,s){"use strict";(function(e){var n=s("./app/assets/javascripts/dynamic_elements/topic.coffee"),r={}.hasOwnProperty;t.a=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)r.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,n["a"]),s.prototype.initialize=function(){return this._check_height(),this.on("appear",this._appear),this.$(".item-reply").on("click",(e=this,function(t){return e.$(".b-new_marker.active").click(),!0}));var e},s.prototype._check_height=function(){return this.$inner.checkHeight({max_height:this.MAX_PREVIEW_HEIGHT,collapsed_height:this.COLLAPSED_HEIGHT})},s.prototype._type=function(){return"dialog"},s.prototype._type_label=function(){return e.t("frontend.dynamic_elements.dialog.type_label")},s}()}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/dynamic_elements/topic.coffee":function(e,t,s){"use strict";(function(e){var n=s("./node_modules/delay/index.js"),r=s.n(n),a=s("./app/assets/javascripts/views/application/shiki_editable.coffee"),i=s("./app/assets/javascripts/views/application/shiki_editor.coffee"),o=s("./app/assets/javascripts/views/application/shiki_gallery.js"),c=s("./app/assets/javascripts/helpers/axios.js"),u=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty;t.a=function(t){var s,n,d;function f(){return this._deactivate_inaccessible_buttons=u(this._deactivate_inaccessible_buttons,this),this._reload_url=u(this._reload_url,this),this._check_height=u(this._check_height,this),this._comments_clickloaded=u(this._comments_clickloaded,this),this._before_comments_clickload=u(this._before_comments_clickload,this),this._hide_editor=u(this._hide_editor,this),f.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)l.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(f,a["default"]),n="frontend.dynamic_elements.topic",s=["faye:comment:updated","faye:message:updated","faye:comment:deleted","faye:message:deleted","faye:comment:set_replies"],d=["topics_show","collections_show"],f.prototype._type=function(){return"topic"},f.prototype._type_label=function(){return e.t(n+".type_label")},f.prototype._default_model=function(){return{can_destroy:!1,can_edit:!1,id:parseInt(this.root.id),is_viewed:!0,user_id:this.$root.data("user_id")}},f.prototype.initialize=function(){if(this.model=this.$root.data("model")||this._default_model(),window.SHIKI_USER.isUserIgnored(this.model.user_id)||window.SHIKI_USER.isTopicIgnored(this.model.id)){if(!d.includes(document.body.id))return void(this.$root.parent().length?this.$root.remove():r()().then((t=this,function(){return t.$root.remove()})));this._toggle_ignored(!0)}var t;return this.$body=this.$inner.children(".body"),this.$editor_container=this.$(".editor-container"),this.$editor=this.$(".b-shiki_editor"),window.SHIKI_USER.isSignedIn&&window.SHIKI_USER.isDayRegistered&&this.$editor.length?this.editor=new i.default(this.$editor):this.$editor.replaceWith("<div class='b-nothing_here'> "+e.t("frontend.shiki_editor.not_available")+" </div>"),this.$comments_loader=this.$(".comments-loader"),this.$comments_hider=this.$(".comments-hider"),this.$comments_collapser=this.$(".comments-collapser"),this.$comments_expander=this.$(".comments-expander"),this.is_preview=this.$root.hasClass("b-topic-preview"),this.is_cosplay=this.$root.hasClass("b-cosplay-topic"),this.is_club_page=this.$root.hasClass("b-club_page-topic"),this.is_review=this.$root.hasClass("b-review-topic"),this.model&&!this.model.is_viewed&&this._activate_appear_marker(),this.model&&this._actualize_voting(),this.$inner.one("mouseover",this._deactivate_inaccessible_buttons),$(".item-mobile",this.$inner).one(this._deactivate_inaccessible_buttons),(this.is_preview||this.is_club_page)&&(this.$body.imagesLoaded(this._check_height),this._check_height()),this.is_cosplay&&!this.is_preview&&new o.default(this.$(".b-cosplay_gallery .b-gallery")),$(".item-reply",this.$inner).on("click",function(e){return function(){var t;return t=e.$root.data("generated")?"":"[entry="+e.$root.attr("id")+"]"+e.$root.data("user_nickname")+"[/entry], ",e.$root.trigger("comment:reply",[t])}}(this)),this.$editor.on("ajax:success",function(e){return function(t,s){var n;return n=$(s.html).process(s.JS_EXPORTS),e.$(".b-comments").find(".b-nothing_here").remove(),e.$editor.is(":last-child")?e.$(".b-comments").append(n):e.$(".b-comments").prepend(n),n.yellowFade(),e.editor.cleanup(),e._hide_editor()}}(this)),$(".item-ignore",this.$inner).on("ajax:before",function(){return $(this).toggleClass("selected")}).on("ajax:success",function(e){return function(t,s){return s.is_ignored?window.SHIKI_USER.ignoreTopic(s.topic_id):window.SHIKI_USER.unignoreTopic(s.topic_id),e._toggle_ignored(s.is_ignored)}}(this)),this.$(".footer-vote .vote").on("ajax:before",function(e){return function(t){var s;return e.$inner.find(".footer-vote").addClass("b-ajax"),(s=$(t.target).hasClass("yes"))&&!e.model.voted_yes?(e.model.votes_for+=1,e.model.voted_no&&(e.model.votes_against-=1)):s||e.model.voted_no||(e.model.voted_yes&&(e.model.votes_for-=1),e.model.votes_against+=1),e.model.voted_no=!s,e.model.voted_yes=s,e._actualize_voting()}}(this)),this.$(".footer-vote .vote").on("ajax:complete",function(){return $(this).closest(".footer-vote").removeClass("b-ajax")}),this.on("appear",this._appear),this.on("comment:reply",function(e){return function(t,s,n){if(e.editor)return e._show_editor(),e.editor.reply_comment(s,n)}}(this)),this.$(".b-shiki_editor").on("click",".hide",this._hide_editor),this.on("clickloaded:before",".comments-loader",this._before_comments_clickload),this.on("clickloaded:success",".comments-loader",this._comments_clickloaded),this.on("click",".comments-loader",function(e){return function(t){if("clickloaded"!==e.$comments_loader.data("dynamic"))return e.$comments_loader.addClass("hidden"),e.$(".comments-loaded").animatedExpand(),e.$comments_hider.show()}}(this)),this.$comments_collapser.on("click",function(e){return function(t){return e.$comments_collapser.addClass("hidden"),e.$comments_loader.addClass("hidden"),e.$comments_expander.show(),e.$(".comments-loaded").animatedCollapse()}}(this)),this.$comments_hider.on("click",function(e){return function(){return e.$comments_hider.hide(),e.$(".comments-loaded").animatedCollapse(),e.$comments_expander.show()}}(this)),this.$comments_expander.on("click",function(e){return function(t){return e.$comments_expander.hide(),e.$(".comments-loaded").animatedExpand(),e.$comments_loader?(e.$comments_loader.removeClass("hidden"),e.$comments_collapser.removeClass("hidden")):e.$comments_hider.show()}}(this)),this.on(s.join(" "),function(e){return function(t,s){var n,r;if(t.stopImmediatePropagation(),n=s[(r=t.type.match(/comment|message/)[0])+"_id"],t.target===e.$root[0])return e.$(".b-"+r+"#"+n).trigger(t.type,s)}}(this)),this.on("faye:comment:created faye:message:created",function(e){return function(t,s){var n,r,a;if(t.stopImmediatePropagation(),r=s[(a=t.type.match(/comment|message/)[0])+"_id"],!e.$(".b-"+a+"#"+r).exists())return n=e._faye_placeholder(r,a),$(document.body).trigger("faye:added"),window.SHIKI_USER.isCommentsAutoLoaded&&n.is(":appeared")&&!$("textarea:focus").val()?n.click():void 0}}(this)),this.on("faye:comment:marked",function(e,t){return e.stopImmediatePropagation(),$(".b-comment#"+t.comment_id).view().mark(t.mark_kind,t.mark_value)})},f.prototype._toggle_ignored=function(e){return $(".item-ignore",this.$inner).toggleClass("selected",e).data({method:e?"DELETE":"POST"}),this.$(".b-anime_status_tag.ignored").toggleClass("hidden",!e)},f.prototype._filter_present_entries=function(e){var t;return"b-comment",t=$(".b-comment",this.$root).toArray().map(function(e){return e.id}).filter(function(e){return e}).map(function(e){return".b-comment#"+e}).join(","),e.children().filter(t).remove()},f.prototype._show_editor=function(){if(this.is_preview&&!this.$editor_container.is(":visible"))return this.$editor_container.show()},f.prototype._hide_editor=function(){if(this.is_preview)return this.$editor_container.hide()},f.prototype._faye_placeholder=function(t,s){var r,a,i;return this.$(".b-comments .b-nothing_here").remove(),(r=this.$(".b-comments .faye-loader")).exists()||(r=$('<div class="faye-loader to-process" data-dynamic="clickloaded"></div>').appendTo(this.$(".b-comments")).data({ids:[]}).process().on("clickloaded:success",function(e,t){var s;return s=$(t.content).process(t.JS_EXPORTS),r.replaceWith(s),s.process()})),-1===(null!=(i=r.data("ids"))?i.indexOf(t):void 0)&&(r.data({ids:r.data("ids").add(t)}),r.data({"clickloaded-url":"/"+s+"s/chosen/"+r.data("ids").join(",")}),a=r.data("ids").length,r.html("message"===s?p(a,e.t(n+".new_message_added.one",{count:a}),e.t(n+".new_message_added.few",{count:a}),e.t(n+".new_message_added.many",{count:a})):p(a,e.t(n+".new_comment_added.one",{count:a}),e.t(n+".new_comment_added.few",{count:a}),e.t(n+".new_comment_added.many",{count:a})))),r},f.prototype._appear=function(e,t,s){var n,a,i,o,u;if((n=t.not(function(){return $(this).data("disabled")||!(this.classList.contains("b-appear_marker")&&this.classList.contains("active"))})).exists())return u=s?1:1500,i=n.closest(".shiki-object"),a=i.find(".b-new_marker.active"),o=i.map(function(){return $(this).data("appear_type")+"-"+this.id}).toArray(),c.a.post(a.data("appear_url"),{ids:o.join(",")}),n.remove(),a.data("reappear")?a.addClass("off"):r()(u).then(function(){return a.css({opacity:0}),r()(500).then(function(){return a.hide(),a.removeClass("active")})})},f.prototype._before_comments_clickload=function(e){var t;return t=this.$comments_loader.data("clickloaded-url-template").replace("SKIP",this.$comments_loader.data("skip")),this.$comments_loader.data({"clickloaded-url":t})},f.prototype._comments_clickloaded=function(e,t){var s;return s=$("<div class='comments-loaded'></div>").html(t.content),this._filter_present_entries(s),s.process(t.JS_EXPORTS).insertAfter(this.$comments_loader).animatedExpand(),this._update_comments_loader(t)},f.prototype._check_height=function(){var e;return this.is_review?(18,(e=this.$(".review-entry_cover img").height())>0?this.$(".body-truncated-inner").checkHeight({max_height:e-18,collapsed_height:e-18,expand_html:""}):void 0):this.$(".body-inner").checkHeight({max_height:this.MAX_PREVIEW_HEIGHT,collapsed_height:this.COLLAPSED_HEIGHT})},f.prototype._reload_url=function(){return"/"+this._type()+"s/"+this.$root.attr("id")+"/reload?is_preview="+this.is_preview},f.prototype._actualize_voting=function(){if(this.$inner.find(".footer-vote .vote.yes, .user-vote .voted-for").toggleClass("selected",this.model.voted_yes),this.$inner.find(".footer-vote .vote.no, .user-vote .voted-against").toggleClass("selected",this.model.voted_no),this.model.votes_for&&this.$inner.find(".votes-for").html(""+this.model.votes_for),this.model.votes_against)return this.$inner.find(".votes-against").html(""+this.model.votes_against)},f.prototype._deactivate_inaccessible_buttons=function(){if(this.model.can_edit||this.$inner.find(".item-edit").addClass("hidden"),!this.model.can_destroy)return this.$inner.find(".item-delete").addClass("hidden")},f.prototype._update_comments_loader=function(t){var s,r,a,i,o,c;return i=this.$comments_loader.data("limit"),(a=this.$comments_loader.data("count")-i)>0?(this.$comments_loader.data({skip:this.$comments_loader.data("skip")+i,count:a}),s=Math.min(i,a),r=this.$comments_loader.data("only-summaries-shown")?p(s,e.t(n+".summary.one"),e.t(n+".summary.few"),e.t(n+".summary.many")):p(s,e.t(n+".comment.one"),e.t(n+".comment.few"),e.t(n+".comment.many")),c=a>i?e.t(n+".of")+" "+a:"",o=e.t(n+".load_comments",{comment_count:s,of_total_comments:c,comment_word:r}),this.$comments_loader.html(o),this.$comments_collapser.removeClass("hidden")):(this.$comments_loader.remove(),this.$comments_loader=null,this.$comments_hider.show(),this.$comments_collapser.remove())},f}()}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/dynamic_elements/user_rates/button.coffee":function(e,t,s){"use strict";(function(e){var n=s("./node_modules/delay/index.js"),r=s.n(n),a=s("./app/assets/javascripts/services/flash.js"),i=s("./app/assets/javascripts/services/user_rates/tracker.coffee"),o=s("./app/assets/javascripts/views/application/view.coffee"),c=s("./app/assets/javascripts/helpers/jst.js"),u=s("./app/assets/javascripts/dynamic_elements/authorized_action.coffee"),l=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty;t.a=function(t){function s(){return this._ajax_success=l(this._ajax_success,this),this._ajax_complete=l(this._ajax_complete,this),this._ajax_before=l(this._ajax_before,this),this._submit_status=l(this._submit_status,this),this._toggle_list=l(this._toggle_list,this),s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)p.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,o["default"]),"user_rates/button","activerecord.attributes.user_rate.statuses",s.prototype.initialize=function(){return this.model=this.$root.data("model"),this._render(),this.on("click",".trigger-arrow",this._toggle_list),this.on("click",".edit-trigger",this._toggle_list),this.on("click",".add-trigger",this._submit_status),this.on("ajax:before",this._ajax_before),this.on("ajax:error",this._ajax_complete),this.on("ajax:success",this._ajax_success)},s.prototype._toggle_list=function(){return this.$(".b-add_to_list").toggleClass("expanded"),this.$(".expanded-options").data("height")||this.$(".expanded-options").data({height:this.$(".expanded-options").height()}).css({height:0}).show(),r()().then((e=this,function(){return e.$(".b-add_to_list").hasClass("expanded")?e.$(".expanded-options").css({height:e.$(".expanded-options").data("height")}):e.$(".expanded-options").css({height:0})}));var e},s.prototype._submit_status=function(e){var t;return(t=$(e.target).closest("form")).find('input[name="user_rate[status]"]').val($(e.currentTarget).data("status")),t.submit()},s.prototype._ajax_before=function(){return window.SHIKI_USER.isSignedIn?this.$root.addClass("b-ajax"):(a.a.info(e.t(u.a.I18N_KEY+".register_to_complete_action")),!1)},s.prototype._ajax_complete=function(){return this.$root.removeClass("b-ajax")},s.prototype._ajax_success=function(e,t){return i.a.update(t||this._new_user_rate()),this._ajax_complete()},s.prototype.update=function(e){return this.model=e,this._render()},s.prototype._is_persisted=function(){return!!this.model.id},s.prototype._render=function(){return this.html(c.a["user_rates/button"](this._render_params()))},s.prototype._render_params=function(){var t;return t=this._is_persisted()?"/api/v2/user_rates/"+this.model.id:"/api/v2/user_rates",{model:this.model,user_id:window.SHIKI_USER.id,statuses:e.t("activerecord.attributes.user_rate.statuses."+this.model.target_type.toLowerCase()),form_url:t,form_method:this._is_persisted()?"PATCH":"POST",destroy_url:this._is_persisted()?"/api/v2/user_rates/"+this.model.id:void 0,extended_html:this._extended_html()}},s.prototype._new_user_rate=function(){return{status:"planned",target_id:this.model.target_id,target_type:this.model.target_type}},s.prototype._extended_html=function(){},s}()}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/dynamic_elements/week_registered_action.coffee":function(e,t,s){"use strict";(function(e){var n=s("./app/assets/javascripts/services/flash.js"),r=s("./app/assets/javascripts/views/application/view.coffee"),a=s("./app/assets/javascripts/dynamic_elements/authorized_action.coffee"),i={}.hasOwnProperty;t.a=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)i.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,r["default"]),"frontend.dynamic_elements.week_registered_action",s.prototype.initialize=function(){return this.$node.on("click",function(t){return window.SHIKI_USER.isSignedIn?window.SHIKI_USER.isWeekRegistered?void 0:(n.a.info(e.t("frontend.dynamic_elements.week_registered_action.action_will_be_available")),t.stopImmediatePropagation(),!1):(n.a.info(e.t(a.a.I18N_KEY+".register_to_complete_action")),t.stopImmediatePropagation(),!1)})},s}()}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/helpers/axios.js":function(e,t,s){"use strict";var n=s("./node_modules/axios/index.js"),r=s.n(n),a=s("./app/assets/javascripts/helpers/csrf.js");t.a=r.a.create({headers:Object.assign(Object(a.a)().headers,{"X-Requested-With":"XMLHttpRequest"})})},"./app/assets/javascripts/helpers/bindings.js":function(e,t,s){"use strict";t.a={"turbolinks:load":[],"turbolinks:before-cache":[]}},"./app/assets/javascripts/helpers/csrf.js":function(e,t,s){"use strict";t.a=function(){var e,t,s,n=$("meta[name=csrf-param]").attr("content"),r=$("meta[name=csrf-token]").attr("content");return{post:(s=r,(t=n)in(e={})?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e),headers:{"X-CSRF-Token":r}}}},"./app/assets/javascripts/helpers/get_selection_text.js":function(e,t,s){"use strict";t.a=function(){var e;return window.getSelection?e=window.getSelection():document.getSelection?e=document.getSelection():document.selection&&(e=document.selection.createRange().text),(e.toString()||"").trim()}},"./app/assets/javascripts/helpers/global_handler.js":function(e,t,s){"use strict";var n,r=s("./node_modules/chain-decorator/index.js"),a=s("./node_modules/decko/dist/decko.js");function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var c={enter:13,esc:27,slash:[47,191],up:38,down:40},u=[38,40,47,191];function l(e){return u.includes(e)?"keydown":"keyup"}var p=new(o((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}var t,s,n;return t=e,(s=[{key:"on",value:function(e,t){var s=this;"focus"===e?this._bind("focus",null,t):e.constructor===String?c[e].constructor===Array?c[e].forEach(function(e){return s._bind(null,e,t)}):this._bind(null,c[e],t):this._bind(null,e,t)}},{key:"off",value:function(e,t){var s=this;"focus"===e?this._unbind("focus",null,t):e.constructor===String?c[e].constructor===Array?c[e].forEach(function(e){return s._unbind(null,e,t)}):this._unbind(null,c[e],t):this._unbind(null,e,t)}},{key:"_onKeyup",value:function(e){this.events.keyup&&this.events.keyup[e.keyCode]&&this.events.keyup[e.keyCode].forEach(function(t){return t(e)})}},{key:"_onKeydown",value:function(e){this.events.keydown&&this.events.keydown[e.keyCode]&&this.events.keydown[e.keyCode].forEach(function(t){return t(e)})}},{key:"_onFocus",value:function(e){this.events.focus&&this.events.focus.null&&this.events.focus.null.forEach(function(t){return t(e)})}},{key:"_bind",value:function(e,t,s){e||(e=l(t)),this.events[e]||("focus"===e?$(document.body).on(e,"*",this._handler(e)):$(document).on(e,this._handler(e)),Object.isEmpty(this.events)&&this._scheduleUnbind(),this.events[e]={}),this.events[e][t]||(this.events[e][t]=[]),this.events[e][t].push(s)}},{key:"_unbind",value:function(e,t,s){e||(e=l(t)),this.events[e]&&this.events[e][t]&&this.events[e][t].includes(s)&&(this.events[e][t].splice(this.events[e][t].indexOf(s),1),Object.isEmpty(this.events[e][t])&&delete this.events[e][t],Object.isEmpty(this.events[e])&&(this._unbindEvent(e),delete this.events[e]),Object.isEmpty(this.events)&&this._unScheduleUnbind())}},{key:"_unbindAll",value:function(){var e=this;Object.keys(this.events).forEach(function(t){return e._unbindEvent(t)}),this._unScheduleUnbind(),this.events={}}},{key:"_unbindEvent",value:function(e){"focus"===e?$(document.body).off(e,"*",this._handler(e)):$(document).off(e,this._handler(e))}},{key:"_handler",value:function(e){return this["_on".concat(e.capitalize())]}},{key:"_scheduleUnbind",value:function(){$(document).one("turbolinks:before-cache",this._unbindAll)}},{key:"_unScheduleUnbind",value:function(){$(document).off("turbolinks:before-cache",this._unbindAll)}}])&&i(t.prototype,s),n&&i(t,n),e}()).prototype,"on",[r.a],Object.getOwnPropertyDescriptor(n.prototype,"on"),n.prototype),o(n.prototype,"off",[r.a],Object.getOwnPropertyDescriptor(n.prototype,"off"),n.prototype),o(n.prototype,"_onKeyup",[a.bind],Object.getOwnPropertyDescriptor(n.prototype,"_onKeyup"),n.prototype),o(n.prototype,"_onKeydown",[a.bind],Object.getOwnPropertyDescriptor(n.prototype,"_onKeydown"),n.prototype),o(n.prototype,"_onFocus",[a.bind],Object.getOwnPropertyDescriptor(n.prototype,"_onFocus"),n.prototype),o(n.prototype,"_unbindAll",[a.bind],Object.getOwnPropertyDescriptor(n.prototype,"_unbindAll"),n.prototype),n);window.globalHandler=p;t.a=p},"./app/assets/javascripts/helpers/in_new_tab.js":function(e,t,s){"use strict";t.a=function(e){return 1===e.button||0===e.button&&(e.ctrlKey||e.metaKey)}},"./app/assets/javascripts/helpers/jst.js":function(e,t,s){"use strict";var n=s("./app/assets/javascripts/templates sync recursive ^\\.\\/.*$");t.a=n.keys().reduce(function(e,t){return e[t.replace(/^\.\/|\.\w+$/g,"")]=n(t),e},{})},"./app/assets/javascripts/helpers/mobile_detect.js":function(e,t,s){"use strict";s.r(t),s.d(t,"mobileDetect",function(){return r}),s.d(t,"isTablet",function(){return a}),s.d(t,"isMobile",function(){return i});var n=s("./node_modules/mobile-detect/mobile-detect.js"),r=new(s.n(n).a)(window.navigator.userAgent),a=function(){return!!r.tablet()||document.documentElement.clientWidth<=768},i=function(){return!!r.mobile()||document.documentElement.clientWidth<=480}},"./app/assets/javascripts/helpers/p.js":function(e,t){window.p=function(e){var t=parseInt(e,10),s=t%10===1&&t%100!==11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;s=0===t?0:s;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r[s]}},"./app/assets/javascripts/helpers/page_load.js":function(e,t,s){"use strict";var n=s("./app/assets/javascripts/helpers/bindings.js");t.a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var r=Math.max(t.length,1),a=t.slice(0,r-1),i=t[r-1];n.a["turbolinks:load"].push({conditions:a,callback:i})}},"./app/assets/javascripts/helpers/page_unload.js":function(e,t,s){"use strict";var n=s("./app/assets/javascripts/helpers/bindings.js");t.a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var r=Math.max(t.length,1),a=t.slice(0,r-1),i=t[r-1];n.a["turbolinks:before-cache"].push({conditions:a,callback:i})}},"./app/assets/javascripts/helpers/tooltip_options.coffee":function(e,t,s){"use strict";(function(e){s.d(t,"b",function(){return a}),s.d(t,"a",function(){return i});var n=s("./node_modules/urijs/src/URI.js"),r=s.n(n),a={delay:150,predelay:250,position:"top right",defaultTemplate:"<div> <div class='tooltip-inner'> <div class='tooltip-arrow'></div> <div class='clearfix'> <div class='close'></div> <div class='tooltip-details'> <div class='ajax-loading' title='"+e.t("frontend.blocks.tooltip.loading")+"' /> </div> </div> <div class='dropshadow-top'></div> <div class='dropshadow-top-right'></div> <div class='dropshadow-right'></div> <div class='dropshadow-bottom-right'></div> <div class='dropshadow-bottom'></div> <div class='dropshadow-bottom-left'></div> <div class='dropshadow-left'></div> <div class='dropshadow-top-left'></div> </div> </div>",onBeforeShow:function(){var e,t,s,n;if((t=this.getTrigger()).find("[title]").attr({title:""}),!(e=this.getTip().find(".close")).data("binded")&&(e.data({binded:!0}).on("click",(n=this,function(){return n.hide()})),(s=(t.data("href")||t.attr("href")||"").replace(/\/tooltip/,""))&&this.getTip().find(".link").attr({href:s}),s.match(/\/genres\//)))return this.getTip().find(".link").hide()}},i=Object.add(a,{offset:[-4,10,-10],position:"top right",predelay:350,ignoreSelector:".text",onBeforeFetch:function(){var e,t,s;if((e=(t=this.getTrigger()).find(".image-decor img")).exists()&&e.width()>=110)return s=r()(t.data("tooltip_url")).search({minified:"1"}).toString(),t.data({tooltip_url:s}),this.getTip().addClass("minified")}})}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/helpers/using.js":function(e,t){window.using=function(e){var t=window;return e.split(".").forEach(function(e){return t[e]||(t[e]={}),t=t[e]})}},"./app/assets/javascripts/helpers/with.js":function(e,t,s){"use strict";s.r(t),t.default=function(e,t){var s=t.filter(e);return s.length?t.find(e).add(s):t.find(e)}},"./app/assets/javascripts/i18n/translations.js":function(e,t,s){(function(e){e.translations||(e.translations={}),e.translations.ru=e.extend(e.translations.ru||{},{actions:{accept:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c",actions:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",apply:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",cancel_delete:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",confirm:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e. \u0422\u043e\u0447\u043d\u043e?",confirm_delete:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",confirm_sync:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438",create:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",delete_all:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0451",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",ignore:"\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c",markers:{offtopic:{add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430",confirm_add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430?",confirm_remove:"\u0421\u043d\u044f\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430?",remove:"\u0421\u043d\u044f\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430"},summary:{add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0442\u0437\u044b\u0432\u0430",confirm_add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0442\u0437\u044b\u0432\u0430?",confirm_remove:"\u0421\u043d\u044f\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0442\u0437\u044b\u0432\u0430?",remove:"\u0421\u043d\u044f\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0442\u0437\u044b\u0432\u0430"}},moderate:"\u041d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044e",moderation:{abuse:"\u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b",ban:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c",explain:{abuse:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435, \u0447\u0442\u043e \u0437\u0430 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 (\u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",spoiler:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435, \u0447\u0442\u043e \u0438\u043c\u0435\u043d\u043d\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u043e\u043c (\u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"},not_offtopic:"\u042d\u0442\u043e \u043d\u0435 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a",not_summary:"\u042d\u0442\u043e \u043d\u0435 \u043e\u0442\u0437\u044b\u0432",offtopic:"\u042d\u0442\u043e \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a",spoiler:"\u042d\u0442\u043e \u0441\u043f\u043e\u0439\u043b\u0435\u0440",summary:"\u042d\u0442\u043e \u043e\u0442\u0437\u044b\u0432"},quote:"\u0426\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",reject:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c",reply:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",rollback:"\u041e\u0442\u043a\u0430\u0442\u0438\u0442\u044c",start:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c",stop:"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",take:"\u0412\u0437\u044f\u0442\u044c",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",upload_image:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"},activerecord:{attributes:{anime:{aired_on:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u043a\u0430\u0437\u0430",cosplay:"\u041a\u043e\u0441\u043f\u043b\u0435\u0439",coub_tags:"\u0422\u0435\u0433\u0438 Coub",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)",description_en_source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f (\u0430\u043d\u0433\u043b)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_ru_source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",desynced:"\u041d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f",duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u044d\u043f\u0438\u0437\u043e\u0434\u0430",episodes:"\u042d\u043f\u0438\u0437\u043e\u0434\u044b",episodes_aired:"\u042d\u043f\u0438\u0437\u043e\u0434\u043e\u0432 \u0432\u044b\u0448\u043b\u043e",external_links:"\u0421\u0441\u044b\u043b\u043a\u0438",fandubbers:"\u041e\u0437\u0432\u0443\u0447\u043a\u0430",fansubbers:"\u0421\u0443\u0431\u0442\u0438\u0442\u0440\u044b",franchise:"\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430",genre_ids:"\u0416\u0430\u043d\u0440\u044b",genres:"\u0416\u0430\u043d\u0440\u044b",image:"\u041f\u043e\u0441\u0442\u0435\u0440",imageboard_tag:"\u0422\u0435\u0433 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434",imported_at:"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e",kind:"\u0422\u0438\u043f",license_name_ru:"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0420\u0424 \u043f\u043e\u0434 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c",licensor:"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e",name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",options:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",poster:"\u041f\u043e\u0441\u0442\u0435\u0440",rating:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",released_on:"\u0414\u0430\u0442\u0430 \u043a\u043e\u043d\u0446\u0430 \u043f\u043e\u043a\u0430\u0437\u0430",russian:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",score:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",screenshots:"\u041a\u0430\u0434\u0440\u044b",status:"\u0421\u0442\u0430\u0442\u0443\u0441",synonyms:"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",torrents_name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0442\u043e\u0440\u0440\u0435\u043d\u0442\u0430\u0445",videos:"\u0412\u0438\u0434\u0435\u043e"},anime_video:{anime_video_author_id:"\u0410\u0432\u0442\u043e\u0440",author_name:"\u0410\u0432\u0442\u043e\u0440",episode:"\u042d\u043f\u0438\u0437\u043e\u0434",is_first:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u043c \u0441\u0440\u0435\u0434\u0438 \u0442\u0430\u043a\u0438\u0445 \u0436\u0435",kind:"\u041f\u0435\u0440\u0435\u0432\u043e\u0434",language:"\u042f\u0437\u044b\u043a \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430",quality:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0438\u0434\u0435\u043e",state:"\u0421\u0442\u0430\u0442\u0443\u0441",url:"Url"},anime_video_author:{is_verified:"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},anime_video_report:{kind:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430",message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u0443"},ban:{duration:"\u0421\u0440\u043e\u043a",reason:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430"},character:{cosplay:"\u041a\u043e\u0441\u043f\u043b\u0435\u0439",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",desynced:"\u041d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f",image:"\u041f\u043e\u0441\u0442\u0435\u0440",imageboard_tag:"\u0422\u0435\u0433 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434",imported_at:"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e",japanese:"\u042f\u043f\u043e\u043d\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",poster:"\u041f\u043e\u0441\u0442\u0435\u0440",russian:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u0438\u043c\u044f"},club:{comment_policy:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",display_images:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a",image_upload_policy:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a",is_censored:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0434\u043b\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445 (18+)",join_policy:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f",logo:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",owner:"\u041e\u0441\u043d\u043e\u0432\u0430\u0442\u0435\u043b\u044c",topic_policy:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u043e\u043f\u0438\u043a\u043e\u0432"},club_invite:{dst:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",dst_id:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"},club_page:{layout:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",parent_page_id:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",text:"\u0422\u0435\u043a\u0441\u0442"},collection:{kind:"\u0422\u0438\u043f",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",state:"\u0421\u0442\u0430\u0442\u0443\u0441",text:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},collection_link:{group:"\u0413\u0440\u0443\u043f\u043f\u0430",text:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},comment:{body:"\u0422\u0435\u043a\u0441\u0442"},contest:{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",match_duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f",matches_interval:"\u0427\u0438\u0441\u043b\u043e \u0434\u043d\u0435\u0439 \u043c\u0435\u0436\u0434\u0443 \u044d\u0442\u0430\u043f\u0430\u043c\u0438",matches_per_round:"\u0427\u0438\u0441\u043b\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439 \u044d\u0442\u0430\u043f\u0430",member_type:"\u0422\u0438\u043f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",started_on:"\u0414\u0430\u0442\u0430 \u0441\u0442\u0430\u0440\u0442\u0430",strategy_type:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",suggestions_per_user:"\u0427\u0438\u0441\u043b\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u0439 \u043e\u0442 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",title_en:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c)",title_ru:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",user_vote_key:"\u041a\u043b\u044e\u0447 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},"doorkeeper/application":{name:"Name",redirect_uri:"Redirect URI"},external_link:{url:"\u0421\u0441\u044b\u043b\u043a\u0430"},genre:{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},list_import:{duplicate_policy:"\u0423\u0436\u0435 \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0435\u0435\u0441\u044f \u0432 \u0441\u043f\u0438\u0441\u043a\u0435",list:"\u0424\u0430\u0439\u043b \u0441\u043f\u0438\u0441\u043a\u0430",list_type:"\u0422\u0438\u043f \u0441\u043f\u0438\u0441\u043a\u0430",state:"\u0421\u0442\u0430\u0442\u0443\u0441"},manga:{aired_on:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0437\u0434\u0430\u043d\u0438\u044f",chapters:"\u0413\u043b\u0430\u0432\u044b",cosplay:"\u041a\u043e\u0441\u043f\u043b\u0435\u0439",coub_tags:"\u0422\u0435\u0433\u0438 Coub",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)",description_en_source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f (\u0430\u043d\u0433\u043b)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_ru_source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",desynced:"\u041d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f",duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u044d\u043f\u0438\u0437\u043e\u0434\u0430",episodes:"\u042d\u043f\u0438\u0437\u043e\u0434\u044b",episodes_aired:"\u042d\u043f\u0438\u0437\u043e\u0434\u043e\u0432 \u0432\u044b\u0448\u043b\u043e",external_links:"\u0421\u0441\u044b\u043b\u043a\u0438",fandubbers:"\u041e\u0437\u0432\u0443\u0447\u043a\u0430",fansubbers:"\u0421\u0443\u0431\u0442\u0438\u0442\u0440\u044b",franchise:"\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430",genre_ids:"\u0416\u0430\u043d\u0440\u044b",genres:"\u0416\u0430\u043d\u0440\u044b",image:"\u041f\u043e\u0441\u0442\u0435\u0440",imageboard_tag:"\u0422\u0435\u0433 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434",imported_at:"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e",kind:"\u0422\u0438\u043f",license_name_ru:"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0420\u0424 \u043f\u043e\u0434 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c",licensor:"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e",name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",options:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",poster:"\u041f\u043e\u0441\u0442\u0435\u0440",rating:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",released_on:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f",russian:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",score:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",screenshots:"\u041a\u0430\u0434\u0440\u044b",status:"\u0421\u0442\u0430\u0442\u0443\u0441",synonyms:"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",torrents_name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0442\u043e\u0440\u0440\u0435\u043d\u0442\u0430\u0445",videos:"\u0412\u0438\u0434\u0435\u043e",volumes:"\u0422\u043e\u043c\u0430"},message:{body:"\u0422\u0435\u043a\u0441\u0442"},oauth_application:{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",image:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",owner:"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446",redirect_uri:"Redirect URI",secret:"Client Secret",uid:"Client ID"},person:{birthday:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",cosplay:"\u041a\u043e\u0441\u043f\u043b\u0435\u0439",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",desynced:"\u041d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f",image:"\u041f\u043e\u0441\u0442\u0435\u0440",imageboard_tag:"\u0422\u0435\u0433 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434",imported_at:"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e",japanese:"\u042f\u043f\u043e\u043d\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",poster:"\u041f\u043e\u0441\u0442\u0435\u0440",russian:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",website:"\u0421\u0430\u0439\u0442"},poll:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",state:"\u0421\u0442\u0430\u0442\u0443\u0441",text:"\u0422\u0435\u043a\u0441\u0442"},ranobe:{"<<":null},review:{animation:"\u0420\u0438\u0441\u043e\u0432\u043a\u0430",characters:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438",music:"\u0417\u0432\u0443\u043a\u043e\u0432\u043e\u0439 \u0440\u044f\u0434",overall:"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430",storyline:"\u0421\u044e\u0436\u0435\u0442",text:"\u0422\u0435\u043a\u0441\u0442"},style:{css:"CSS",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},topic:{body:"\u0422\u0435\u043a\u0441\u0442",forum_id:"\u0420\u0430\u0437\u0434\u0435\u043b",linked:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0435",source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a",tags:"\u0422\u0435\u0433\u0438",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"\u0422\u0438\u043f"},user:{avatar:"\u0410\u0432\u0430\u0442\u0430\u0440",birth_on:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",current_password:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",email:"E-mail",locale:"\u042f\u0437\u044b\u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430",location:"\u041e\u0442\u043a\u0443\u0434\u0430",name:"\u0420\u0435\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f",nickname:"\u041b\u043e\u0433\u0438\u043d",notification_settings:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439",password:"\u041f\u0430\u0440\u043e\u043b\u044c",password_confirmation:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",sex:"\u041f\u043e\u043b",website:"\u0421\u0430\u0439\u0442"},user_preferences:{about_on_top:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043d\u0430\u0434 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u043e\u0439",achievements_in_profile:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0430\u0447\u0438\u0432\u043a\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",anime_in_profile:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0430\u043d\u0438\u043c\u0435 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",apply_user_styles:"\u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0441\u0442\u0438\u043b\u0438",body_width:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0448\u0438\u0440\u0438\u043d\u0430 \u0441\u0430\u0439\u0442\u0430",comment_policy:"\u041c\u043e\u0433\u0443\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",comments_in_profile:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",favorites_in_profile:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",is_comments_auto_collapsed:"\u0421\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u044b\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",is_comments_auto_loaded:"\u0410\u0432\u0442\u043e\u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",list_privacy:"\u041c\u043e\u0433\u0443\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043c\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",manga_in_profile:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043c\u0430\u043d\u0433\u0443 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",postload_in_catalog:"\u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u043f\u043e \u043c\u0435\u0440\u0435 \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0438 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0435 \u0430\u043d\u0438\u043c\u0435",russian_genres:"\u0420\u0443\u0441\u0441\u043a\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0436\u0430\u043d\u0440\u043e\u0432",russian_names:"\u0420\u0443\u0441\u0441\u043a\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0430\u043d\u0438\u043c\u0435 \u0438 \u043c\u0430\u043d\u0433\u0438",show_hentai_images:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434 \u0431\u0435\u0437 \u0446\u0435\u043d\u0437\u0443\u0440\u044b",show_smileys:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0441\u043c\u0430\u0439\u043b\u0438\u043a\u0438",show_social_buttons:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0438 \u0441\u043e\u0446 \u0441\u0435\u0442\u0435\u0439",volumes_in_manga:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0442\u043e\u043c\u0430 \u0443 \u043c\u0430\u043d\u0433\u0438"},user_rate:{chapters:"\u0413\u043b\u0430\u0432\u044b",episodes:"\u042d\u043f\u0438\u0437\u043e\u0434\u044b",rereads:"\u041a\u043e\u043b-\u0432\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u0447\u0442\u0435\u043d\u0438\u0439",rewatches:"\u041a\u043e\u043b-\u0432\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432",score:"\u041e\u0446\u0435\u043d\u043a\u0430",scores:{0:"",1:"\u0425\u0443\u0436\u0435 \u043d\u0435\u043a\u0443\u0434\u0430",10:"\u042d\u043f\u0438\u043a \u0432\u0438\u043d!",2:"\u0423\u0436\u0430\u0441\u043d\u043e",3:"\u041e\u0447\u0435\u043d\u044c \u043f\u043b\u043e\u0445\u043e",4:"\u041f\u043b\u043e\u0445\u043e",5:"\u0411\u043e\u043b\u0435\u0435-\u043c\u0435\u043d\u0435\u0435",6:"\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e",7:"\u0425\u043e\u0440\u043e\u0448\u043e",8:"\u041e\u0442\u043b\u0438\u0447\u043d\u043e",9:"\u0412\u0435\u043b\u0438\u043a\u043e\u043b\u0435\u043f\u043d\u043e"},status:"\u0421\u0442\u0430\u0442\u0443\u0441",statuses:{anime:{completed:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e",dropped:"\u0411\u0440\u043e\u0448\u0435\u043d\u043e",on_hold:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043e",planned:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e",rewatching:"\u041f\u0435\u0440\u0435\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u044e",watching:"\u0421\u043c\u043e\u0442\u0440\u044e"},manga:{completed:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e",dropped:"\u0411\u0440\u043e\u0448\u0435\u043d\u043e",on_hold:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043e",planned:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e",rewatching:"\u041f\u0435\u0440\u0435\u0447\u0438\u0442\u044b\u0432\u0430\u044e",watching:"\u0427\u0438\u0442\u0430\u044e"},ranobe:{completed:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e",dropped:"\u0411\u0440\u043e\u0448\u0435\u043d\u043e",on_hold:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043e",planned:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e",rewatching:"\u041f\u0435\u0440\u0435\u0447\u0438\u0442\u044b\u0432\u0430\u044e",watching:"\u0427\u0438\u0442\u0430\u044e"}},text:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",volumes:"\u0422\u043e\u043c\u0430"},version:{item_diff:"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",reason:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0440\u0430\u0432\u043a\u0438"},video:{hosting:"\u0425\u043e\u0441\u0442\u0438\u043d\u0433",kind:"\u0422\u0438\u043f",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",url:"Url"}}},frontend:{about:{comments_per_day:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u0437\u0430 \u0434\u0435\u043d\u044c",new_users_per_day:"\u041d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0437\u0430 \u0434\u0435\u043d\u044c",unique_visitors:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u0438",views:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",visits:"\u041f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u044f"},achievements:{title:{gained:"\u041e\u0442\u043a\u0440\u044b\u0442\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435",lost:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435"}},application:{sure_to_leave_page:"\u0417\u0434\u0435\u0441\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u043d \u0438 \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439!\n\u0422\u043e\u0447\u043d\u043e \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?"},blocks:{click_loader:{loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."},feedback:{message_sent:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"},main_search:{animes:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0430\u043d\u0438\u043c\u0435...",characters:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c...",mangakas:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043c\u0430\u043d\u0433\u0430\u043a\u0430\u043c...",mangas:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043c\u0430\u043d\u0433\u0435...",people:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0432\u0441\u0435\u043c \u043b\u044e\u0434\u044f\u043c...",producers:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0440\u0435\u0436\u0438\u0441\u0441\u0451\u0440\u0430\u043c...",ranobe:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0440\u0430\u043d\u043e\u0431\u044d...",seyu:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u044d\u0439\u044e...",users:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c..."},tooltip:{loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}},collections:{autocomplete:{anime:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043d\u0438\u043c\u0435",character:"\u0418\u043c\u044f \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",manga:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0430\u043d\u0433\u0438",person:"\u0418\u043c\u044f \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430",ranobe:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u043d\u043e\u0431\u044d"},disabled_add_group_hint:"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0443\u0441\u0442\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",group_name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",json_warning:"\u041d\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u044d\u0442\u043e, \u0435\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0432\u044b \u0434\u0435\u043b\u0430\u0435\u0442\u0435! \u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043b\u043e\u043c\u0430\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.",kind:{anime:"\u0410\u043d\u0438\u043c\u0435",character:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438",manga:"\u041c\u0430\u043d\u0433\u0430",person:"\u041b\u044e\u0434\u0438",ranobe:"\u0420\u0430\u043d\u043e\u0431\u044d"}},coub_tags:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",nothing_here:"\u041d\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439"},desynced:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044f",nothing_here:"\u041d\u0435\u0442 \u043f\u043e\u043b\u044f"},dynamic_elements:{authorized_action:{register_to_complete_action:'\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 <a href="/users/sign_up">\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f</a> \u043d\u0430 \u0441\u0430\u0439\u0442\u0435.'},check_height:{expand:"\u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"},comment:{comment_marked_as_offtopic:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e\u043c\u0435\u0447\u0435\u043d \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u043e\u043c",comment_marked_as_summary:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e\u043c\u0435\u0447\u0435\u043d \u043e\u0442\u0437\u044b\u0432\u043e\u043c",comment_not_marked_as_offtopic:"\u041c\u0435\u0442\u043a\u0430 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430 \u0441\u043d\u044f\u0442\u0430",comment_not_marked_as_summary:"\u041c\u0435\u0442\u043a\u0430 \u043e\u0442\u0437\u044b\u0432\u0430 \u0441\u043d\u044f\u0442\u0430",comments_marked_as_offtopic:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u044b \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u043e\u043c",type_label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",your_request_will_be_considered:"\u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d. \u0414\u043e\u043c\u043e \u0430\u0440\u0438\u0433\u0430\u0442\u043e."},day_registered_action:{action_will_be_available:'\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0442\u0430\u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 <a href="/users/sign_up">\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438</a>.'},dialog:{type_label:"\u0414\u0438\u0430\u043b\u043e\u0433"},message:{type_label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},topic:{comment:{few:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",many:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",one:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},load_comments:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451 %{comment_count} %{of_total_comments} %{comment_word}",new_comment_added:{few:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",many:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",one:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d %{count} \u043d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},new_message_added:{few:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",many:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439",one:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},of:"\u0438\u0437",summary:{few:"\u043e\u0442\u0437\u044b\u0432\u0430",many:"\u043e\u0442\u0437\u044b\u0432\u043e\u0432",one:"\u043e\u0442\u0437\u044b\u0432"},type_label:"\u0422\u043e\u043f\u0438\u043a"},week_registered_action:{action_will_be_available:'\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0442\u0430\u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0434\u0435\u043b\u044e \u043f\u043e\u0441\u043b\u0435 <a href="/users/sign_up">\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438</a>.'}},external_links:{nothing_here:"\u041d\u0435\u0442 \u0441\u0441\u044b\u043b\u043e\u043a"},fandubbers:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",nothing_here:"\u041d\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439"},fansubbers:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",nothing_here:"\u041d\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439"},images:{cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",confirm:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},lib:{comments_notifier:{number_of_unread_comments:"\u0427\u0438\u0441\u043b\u043e \u043d\u0435\u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"},jquery_shiki_file:{browser_not_supported:"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b",drop_pictures_here:"\u041f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u044e\u0434\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",file_type_not_allowed:"\u0424\u0430\u0439\u043b \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c",loading_file:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u0430 %{filename} (%{filesize} \u041a\u0431)...",please_try_again_later:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435",too_large_file:"\u0424\u0430\u0439\u043b \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439: \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 4 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442\u0430",too_many_files:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u043e\u0432: \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c %{count} \u0437\u0430 \u0440\u0430\u0437",wait_till_loaded:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u043e\u0432"},jquery_shiki_forum:{new_topics_added:{few:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b %{count} \u043d\u043e\u0432\u044b\u0445 \u0442\u043e\u043f\u0438\u043a\u0430",many:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u0442\u043e\u043f\u0438\u043a\u043e\u0432",one:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d %{count} \u043d\u043e\u0432\u044b\u0439 \u0442\u043e\u043f\u0438\u043a"}},paginated_catalog:{please_try_again_later:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435"},postloader:{loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."},rails_ujs_modified:{body:"\u0422\u0435\u043a\u0441\u0442",created_at:"",email:"E-mail",forbidden:"",invalid_login_or_password:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",nickname:"\u041b\u043e\u0433\u0438\u043d",password:"\u041f\u0430\u0440\u043e\u043b\u044c",please_try_again_later:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435",subject:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",you_are_not_authorized:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}},options:{name:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430",nothing_here:"\u041d\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"},pages:{p_animes:{hentai:"\u0425\u0435\u043d\u0442\u0430\u0439 / \u0420\u043e\u0441\u043a\u043e\u043c\u043d\u0430\u0434\u0437\u043e\u0440",licensed:"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0420\u0424",no_data:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445",watch_online:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u043d\u043b\u0430\u0439\u043d"},p_contests:{candidate:{few:"%{count} \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",many:"%{count} \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432",one:"%{count} \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a",other:"%{count} \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"}},p_profiles:{day:{few:"\u0434\u043d\u044f",many:"\u0434\u043d\u0435\u0439",one:"\u0434\u0435\u043d\u044c"},hour:{few:"\u0447\u0430\u0441\u0430",many:"\u0447\u0430\u0441\u043e\u0432",one:"\u0447\u0430\u0441"},label:{full:"%{hours} %{hourWord} \u0441 %{fromDate} \u043f\u043e %{toDate} (%{days} %{dayWord})",short:"%{hours} %{hourWord} %{date}"},page_is_reloading:"\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b..."},p_recommendations_index:{dont_recommend_franchise:"\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u0443 \u0444\u0440\u0430\u043d\u0448\u0438\u0437\u0443"},p_user_rates:{changes_saved:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b",error_occurred:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",insufficient_data:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u0430\u043d\u043d\u044b\u0445",reread:{few:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u044f",many:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u0439",one:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0435 \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u0435"},rewatch:{few:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",many:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432",one:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"}}},poll_variants:{label:"\u0422\u0435\u043a\u0441\u0442",nothing_here:"\u041d\u0435\u0442 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"},polls:{abstain:"\u0412\u043e\u0437\u0434\u0435\u0440\u0436\u0430\u0442\u044c\u0441\u044f",vote:"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c"},search:{mode:{anime:"\u0410\u043d\u0438\u043c\u0435",character:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436",index:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",manga:"\u041c\u0430\u043d\u0433\u0430",person:"\u0427\u0435\u043b\u043e\u0432\u0435\u043a",ranobe:"\u0420\u0430\u043d\u043e\u0431\u044d"},nothing_found:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."},shiki_editable:{changed:"\u0438\u0437\u043c\u0435\u043d\u0451\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c",click_to_reload:"\u041a\u043b\u0438\u043a\u043d\u0438 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f.",deleted:"\u0443\u0434\u0430\u043b\u0451\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c",message_changed:"\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c",message_deleted:"\u0443\u0434\u0430\u043b\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c"},shiki_editor:{file:"\u0444\u0430\u0439\u043b",not_available:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",spoiler:"\u0441\u043f\u043e\u0439\u043b\u0435\u0440",text_cant_be_blank:"\u0422\u0435\u043a\u0441\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},statistics:{anime_in_year:"%{count} %{type} \u0437\u0430 %{year} \u0433\u043e\u0434",anime_of_type:"<b>%{count}</b> \u0430\u043d\u0438\u043c\u0435 \u0442\u0438\u043f\u0430 <b>%{type}</b>",anime_with_rating_in_year:"%{count} \u0430\u043d\u0438\u043c\u0435 \u0443 %{rating} \u0437\u0430 %{year} \u0433\u043e\u0434",anime_with_score:"<b>%{count}</b> \u0430\u043d\u0438\u043c\u0435 \u0441 \u043e\u0446\u0435\u043d\u043a\u043e\u0439 <b>%{score}</b>",genres_share:"%{percent}% \u0443 %{genre} \u0437\u0430 %{year} \u0433\u043e\u0434",number:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",ratings_share:"%{percent}% \u0443 %{rating} \u0437\u0430 %{year} \u0433\u043e\u0434",share:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442"},synonyms:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",nothing_here:"\u041d\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439"},tags_input:{label:"\u0422\u0435\u0433\u0438"},user_rates:{button:{add_to_list:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043e\u043a",remove_from_my_list:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"}}}}),e.translations.en=e.extend(e.translations.en||{},{actions:{accept:"Accept",actions:"Actions",add:"Add",apply:"Apply",cancel:"Cancel",cancel_delete:"Cancel deletion",confirm:"This action is irreversible. Are you sure?",confirm_delete:"Confirm deletion",confirm_sync:"Confirm sync",create:"Create",delete:"Delete",delete_all:"Delete All",edit:"Edit",ignore:"Ignore",markers:{offtopic:{add:"Add offtopic mark",confirm_add:"Add offtopic mark?",confirm_remove:"Remove offtopic mark?",remove:"Remove offtopic mark"},summary:{add:"Add summary mark",confirm_add:"Add summary mark?",confirm_remove:"Remove summary mark?",remove:"Remove summary mark"}},moderate:"Moderate",moderation:{abuse:"Abuse",ban:"Ban",explain:{abuse:"Please describe (optional)",spoiler:"Please describe (optional)"},not_offtopic:"It's not offtopic",not_summary:"It's not summary",offtopic:"It's offtopic",spoiler:"It's spoiler",summary:"It's summary"},quote:"Quote",reject:"Reject",reply:"Reply",rollback:"Rollback",save_apply:"Save & Apply",start:"Start",stop:"Stop",take:"Take",upload:"Upload",upload_image:"Upload image"},activerecord:{attributes:{anime:{aired_on:"Start date",cosplay:"Cosplay",coub_tags:"Coub tags",description:"Synopsis",description_en:"Synopsis",description_en_source:"Synopsis source",description_ru:"Synopsis (rus)",description_ru_source:"Synopsis source (rus)",desynced:"Not synchronized",duration:"Episode duration",episodes:"Episodes",episodes_aired:"Episodes aired",external_links:"Links",fandubbers:"Dubbing",fansubbers:"Subtitles",franchise:"Franchise",genre_ids:"Genres",genres:"Genres",image:"Poster",imageboard_tag:"Imageboards tag",imported_at:"Synchronized",kind:"Type",license_name_ru:"Licensed in Russia name",licensor:"Licensed by",name:"Name",options:"Options",poster:"Poster",rating:"Rating",released_on:"End date",russian:"Russian name",score:"Score",screenshots:"Screenshots",status:"Status",synonyms:"Alternative names",torrents_name:"Torrents name",videos:"Videos"},anime_video:{anime_video_author_id:"Author",author_name:"Author",episode:"Episode",is_first:"Display first among similar videos",kind:"Video Type",language:"Video dub/sub language",quality:"Video quality",state:"Status",url:"Video Link"},anime_video_author:{is_verified:"Verified",name:"Name"},anime_video_report:{kind:"Reason",message:"Message to moderators"},ban:{duration:"Duration",reason:"Reason"},character:{cosplay:"Cosplay",description:"Description",description_en:"Description",description_ru:"Description (rus)",desynced:"Not synchronized",image:"Poster",imageboard_tag:"Imageboards tag",imported_at:"Synchronized",japanese:"Japanese name",name:"Name",poster:"Poster",russian:"Russian name"},club:{comment_policy:"Comments Policy",display_images:"Show Images",image_upload_policy:"Image Upload Policy",is_censored:"Contains adult content (18+)",join_policy:"Terms of Joining",logo:"Logo",name:"Name",owner:"Founder",topic_policy:"Topics Policy"},club_invite:{dst:"User",dst_id:"User"},club_page:{layout:"Layout",name:"Name",parent_page_id:"Parent page",text:"Text"},collection:{kind:"Type",name:"Name",state:"State",text:"Description"},collection_link:{group:"Group",text:"Comment"},comment:{body:"Text"},contest:{description:"Synopsis",description_en:"Description",description_ru:"Description (rus)",match_duration:"Match duration",matches_interval:"Round interval",matches_per_round:"Matches per round",member_type:"Member type",started_on:"Started on",strategy_type:"Strategy",suggestions_per_user:"Number of candidates from one user",title_en:"Title",title_ru:"Title (in russian)",user_vote_key:"User vote key"},"doorkeeper/application":{name:"Name",redirect_uri:"Redirect URI"},external_link:{url:"Url"},genre:{description:"Description"},list_import:{duplicate_policy:"Existing Records",list:"List File",list_type:"List Type",state:"State"},manga:{aired_on:"Start date",chapters:"Chapters",cosplay:"Cosplay",coub_tags:"Coub tags",description:"Synopsis",description_en:"Synopsis",description_en_source:"Synopsis source",description_ru:"Synopsis (rus)",description_ru_source:"Synopsis source (rus)",desynced:"Not synchronized",duration:"Episode duration",episodes:"Episodes",episodes_aired:"Episodes aired",external_links:"Links",fandubbers:"Dubbing",fansubbers:"Subtitles",franchise:"Franchise",genre_ids:"Genres",genres:"Genres",image:"Poster",imageboard_tag:"Imageboards tag",imported_at:"Synchronized",kind:"Type",license_name_ru:"Licensed in Russia name",licensor:"Licensed by",name:"Name",options:"Options",poster:"Poster",rating:"Rating",released_on:"End date",russian:"Russian name",score:"Score",screenshots:"Screenshots",status:"Status",synonyms:"Alternative names",torrents_name:"Torrents name",videos:"Videos",volumes:"Volumes"},message:{body:"Text"},oauth_application:{description:"Description",description_en:"Description",description_ru:"Description (rus)",image:"Image",name:"Name",owner:"Owner",redirect_uri:"Redirect URI",secret:"Client Secret",uid:"Client ID"},person:{birthday:"Birthday",cosplay:"Cosplay",description:"Description",description_en:"Description",description_ru:"Description (rus)",desynced:"Not synchronized",image:"Poster",imageboard_tag:"Imageboards tag",imported_at:"Synchronized",japanese:"Japanese name",name:"Name",poster:"Poster",russian:"Russian name",website:"Website"},poll:{name:"Name",state:"State",text:"Text"},ranobe:{"<<":null},review:{animation:"Art",characters:"Characters",music:"Sound",overall:"Overall",storyline:"Story",text:"Text"},style:{css:"CSS",name:"Name"},topic:{body:"Text",forum_id:"Section",linked:"Linked",source:"Source",tags:"Tags",title:"Title",type:"Type"},user:{avatar:"Avatar",birth_on:"Birthday",current_password:"Current Password",email:"E-mail",locale:"Language",location:"Location",name:"Real Name",nickname:"Nickname",notification_settings:"Notification Settings",password:"Password",password_confirmation:"Password Confirmation",sex:"Gender",website:"Website"},user_preferences:{about_on_top:"Show Above Stats",achievements_in_profile:"Show Achievements in Profile",anime_in_profile:"Show Anime List in Profile",apply_user_styles:"Apply user styles",body_width:"Maximum Site Width",comment_policy:"Can Comment My Profile",comments_in_profile:"Show Comments in Profile",favorites_in_profile:"Number of Favorites in Profile",is_comments_auto_collapsed:"Collapse Long Comments",is_comments_auto_loaded:"Load New Comments Automatically",list_privacy:"Can See My Lists",manga_in_profile:"Show Manga List in Profile",postload_in_catalog:"Autoload Pages in Anime Catalog",show_hentai_images:"Allow Nudity",show_smileys:"Show Smileys",show_social_buttons:"Show Social Media Icons",volumes_in_manga:"Show Manga Volumes"},user_rate:{chapters:"Chapters",episodes:"Episodes",rereads:"Number of Rereads",rewatches:"Number of Rewatches",score:"Score",scores:{0:"",1:"Worst Ever",10:"Masterpiece!",2:"Terrible",3:"Very Bad",4:"Bad",5:"So-so",6:"Fine",7:"Good",8:"Excellent",9:"Great"},status:"Status",statuses:{anime:{completed:"Completed",dropped:"Dropped",on_hold:"On Hold",planned:"Planned to Watch",rewatching:"Rewatching",watching:"Watching"},manga:{completed:"Completed",dropped:"Dropped",on_hold:"On Hold",planned:"Planned to Read",rewatching:"Rereading",watching:"Reading"},ranobe:{completed:"Completed",dropped:"Dropped",on_hold:"On Hold",planned:"Planned to Read",rewatching:"Rereading",watching:"Reading"}},text:"Comments",volumes:"Volumes"},version:{changes:"Changes list",reason:"Change reason"},video:{hosting:"Hosting",kind:"Type",name:"Name",url:"Url"}}},frontend:{about:{comments_per_day:"Comments per day",new_users_per_day:"New users per day",unique_visitors:"Unique visitors",views:"Views",visits:"Visits"},achievements:{title:{gained:"Achievement Gained",lost:"Achievement Lost"}},application:{sure_to_leave_page:"You have not saved your comment!\nAre you sure you want to leave this page?"},blocks:{click_loader:{loading:"Loading..."},feedback:{message_sent:"Message sent"},main_search:{animes:"Anime search...",characters:"Character search...",mangakas:"Mangaka search...",mangas:"Manga search...",people:"Person search...",producers:"Producer search...",ranobe:"Ranobe search...",seyu:"Seyu search...",users:"User search..."},tooltip:{loading:"Loading..."}},collections:{autocomplete:{anime:"Anime title",character:"Character name",manga:"Manga title",person:"Person name",ranobe:"Light Novel title"},disabled_add_group_hint:"To add a new group, fill in the blank group name",group_name:"Group name",json_warning:"Do not edit this if you are not sure what you are doing! Inserting invalid data will break the page.",kind:{anime:"Anime",character:"Characters",manga:"Manga",person:"People",ranobe:"Light Novel"}},coub_tags:{name:"Name",nothing_here:"No names"},desynced:{name:"Field name",nothing_here:"No fields"},dynamic_elements:{authorized_action:{register_to_complete_action:'Please <a href="/users/sign_up">register</a> to complete this action.'},check_height:{expand:"expand"},comment:{comment_marked_as_offtopic:"Comment has been marked as offtopic",comment_marked_as_summary:"Comment has been marked as summary",comment_not_marked_as_offtopic:"Comment is no longer marked as offtopic",comment_not_marked_as_summary:"Comment is no longer marked as summary",comments_marked_as_offtopic:"Comments have been marked as offtopic",type_label:"Comment",your_request_will_be_considered:"Your request will be considered. Domo arigato."},day_registered_action:{action_will_be_available:'Action will be available one day after <a href="/users/sign_up">registration</a>.'},dialog:{type_label:"Dialog"},message:{type_label:"Message"},topic:{comment:{few:"comments",many:"comments",one:"comment"},load_comments:"Load next %{comment_count} %{of_total_comments} %{comment_word}",new_comment_added:{few:"%{count} new comments added",many:"%{count} new comments added",one:"%{count} new comment added"},new_message_added:{few:"%{count} new messages added",many:"%{count} new messages added",one:"%{count} new message added"},of:"of",summary:{few:"summaries",many:"summaries",one:"summary"},type_label:"Topic"},week_registered_action:{action_will_be_available:'Action will be available one day after <a href="/users/sign_up">registration</a>.'}},external_links:{nothing_here:"No external links"},fandubbers:{name:"Name",nothing_here:"No names"},fansubbers:{name:"Name",nothing_here:"No names"},images:{cancel:"Cancel",confirm:"Confirm",delete:"Delete"},lib:{comments_notifier:{number_of_unread_comments:"Number of unread comments"},jquery_shiki_file:{browser_not_supported:"Your browser is not supported",drop_pictures_here:"Drop pictures here",file_type_not_allowed:"The file is not an image",loading_file:"loading file %{filename} (%{filesize} kB)...",please_try_again_later:"Please try again later",too_large_file:"File is too large: 4 MB max",too_many_files:"Too many files: max %{count} files at once",wait_till_loaded:"Wait till files are loaded"},jquery_shiki_forum:{new_topics_added:{few:"%{count} new topics added",many:"%{count} new topics added",one:"%{count} new topic added"}},paginated_catalog:{please_try_again_later:"Please try again later"},postloader:{loading:"Loading..."},rails_ujs_modified:{body:"Text",created_at:"",email:"E-mail",forbidden:"",invalid_login_or_password:"Invalid login or password",nickname:"Nickname",password:"Password",please_try_again_later:"Please try again later",subject:"Subject",title:"Title",you_are_not_authorized:"You are not authorized to perform this action"}},options:{name:"Option name",nothing_here:"No options"},pages:{p_animes:{hentai:"Hentai / Roskomnadzor",licensed:"Licensed in Russia",no_data:"No data",watch_online:"Watch Online"},p_contests:{candidate:{few:"%{count} candidates",many:"%{count} candidates",one:"%{count} candidate",other:"%{count} candidates"}},p_profiles:{day:{few:"days",many:"days",one:"day"},hour:{few:"hours",many:"hours",one:"hour"},label:{full:"%{hours} %{hourWord} since %{fromDate} till %{toDate} (%{days} %{dayWord})",short:"%{hours} %{hourWord} on %{date}"},page_is_reloading:"Page is reloading..."},p_recommendations_index:{dont_recommend_franchise:"Don't recommend this franchise any more"},p_user_rates:{changes_saved:"Changes saved",error_occurred:"Error occurred",insufficient_data:"Insufficient data",reread:{few:"re-reads",many:"re-reads",one:"re-read"},rewatch:{few:"rewatches",many:"rewatches",one:"rewatch"}}},poll_variants:{label:"Text",nothing_here:"No options"},polls:{abstain:"Abstain",vote:"Vote"},search:{mode:{anime:"Anime",character:"Character",index:"This page",manga:"Manga",person:"Person",ranobe:"Ranobe"},nothing_found:"Nothing found."},shiki_editable:{changed:"is changed by",click_to_reload:"Click to reload.",deleted:"is deleted by",message_changed:"is changed by",message_deleted:"is deleted by"},shiki_editor:{file:"file",not_available:"Commenting will be available one day after registering",spoiler:"spoiler",text_cant_be_blank:"Text can't be blank"},statistics:{anime_in_year:"%{count} %{type} in %{year}",anime_of_type:"<b>%{count}</b> anime of type <b>%{type}</b>",anime_with_rating_in_year:"%{count} %{rating} anime in %{year}",anime_with_score:"<b>%{count}</b> anime scored <b>%{score}</b>",genres_share:"%{percent}% share of %{genre} in %{year}",number:"Number",ratings_share:"%{percent}% share of %{rating} in %{year}",share:"Share"},synonyms:{name:"Name",nothing_here:"No names"},tags_input:{label:"Tags"},user_rates:{button:{add_to_list:"Add to My List",remove_from_my_list:"Remove from My List"}}}})}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/jquery.plugins sync recursive ^\\.\\/.*$":function(e,t,s){var n={"./jquery.align_posters":"./app/assets/javascripts/jquery.plugins/jquery.align_posters.js","./jquery.align_posters.js":"./app/assets/javascripts/jquery.plugins/jquery.align_posters.js","./jquery.animated":"./app/assets/javascripts/jquery.plugins/jquery.animated.js","./jquery.animated.js":"./app/assets/javascripts/jquery.plugins/jquery.animated.js","./jquery.bar":"./app/assets/javascripts/jquery.plugins/jquery.bar.coffee","./jquery.bar.coffee":"./app/assets/javascripts/jquery.plugins/jquery.bar.coffee","./jquery.change_tag.js":"./app/assets/javascripts/jquery.plugins/jquery.change_tag.js.coffee","./jquery.change_tag.js.coffee":"./app/assets/javascripts/jquery.plugins/jquery.change_tag.js.coffee","./jquery.check_height":"./app/assets/javascripts/jquery.plugins/jquery.check_height.coffee","./jquery.check_height.coffee":"./app/assets/javascripts/jquery.plugins/jquery.check_height.coffee","./jquery.completable.js":"./app/assets/javascripts/jquery.plugins/jquery.completable.js.coffee","./jquery.completable.js.coffee":"./app/assets/javascripts/jquery.plugins/jquery.completable.js.coffee","./jquery.exists":"./app/assets/javascripts/jquery.plugins/jquery.exists.js","./jquery.exists.js":"./app/assets/javascripts/jquery.plugins/jquery.exists.js","./jquery.form_navigate.js":"./app/assets/javascripts/jquery.plugins/jquery.form_navigate.js.coffee","./jquery.form_navigate.js.coffee":"./app/assets/javascripts/jquery.plugins/jquery.form_navigate.js.coffee","./jquery.gallery_options":"./app/assets/javascripts/jquery.plugins/jquery.gallery_options.coffee","./jquery.gallery_options.coffee":"./app/assets/javascripts/jquery.plugins/jquery.gallery_options.coffee","./jquery.image_editable":"./app/assets/javascripts/jquery.plugins/jquery.image_editable.js","./jquery.image_editable.js":"./app/assets/javascripts/jquery.plugins/jquery.image_editable.js","./jquery.insert_at_caret.js":"./app/assets/javascripts/jquery.plugins/jquery.insert_at_caret.js.coffee","./jquery.insert_at_caret.js.coffee":"./app/assets/javascripts/jquery.plugins/jquery.insert_at_caret.js.coffee","./jquery.livetime.js":"./app/assets/javascripts/jquery.plugins/jquery.livetime.js.coffee","./jquery.livetime.js.coffee":"./app/assets/javascripts/jquery.plugins/jquery.livetime.js.coffee","./jquery.magnific_rel_gallery.js":"./app/assets/javascripts/jquery.plugins/jquery.magnific_rel_gallery.js.coffee","./jquery.magnific_rel_gallery.js.coffee":"./app/assets/javascripts/jquery.plugins/jquery.magnific_rel_gallery.js.coffee","./jquery.magnific_webm":"./app/assets/javascripts/jquery.plugins/jquery.magnific_webm.coffee","./jquery.magnific_webm.coffee":"./app/assets/javascripts/jquery.plugins/jquery.magnific_webm.coffee","./jquery.normalize_image":"./app/assets/javascripts/jquery.plugins/jquery.normalize_image.js","./jquery.normalize_image.js":"./app/assets/javascripts/jquery.plugins/jquery.normalize_image.js","./jquery.process":"./app/assets/javascripts/jquery.plugins/jquery.process.js","./jquery.process.js":"./app/assets/javascripts/jquery.plugins/jquery.process.js","./jquery.process_hiddent_content":"./app/assets/javascripts/jquery.plugins/jquery.process_hiddent_content.js","./jquery.process_hiddent_content.js":"./app/assets/javascripts/jquery.plugins/jquery.process_hiddent_content.js","./jquery.rateable":"./app/assets/javascripts/jquery.plugins/jquery.rateable.coffee","./jquery.rateable.coffee":"./app/assets/javascripts/jquery.plugins/jquery.rateable.coffee","./jquery.scroll_to":"./app/assets/javascripts/jquery.plugins/jquery.scroll_to.js","./jquery.scroll_to.js":"./app/assets/javascripts/jquery.plugins/jquery.scroll_to.js","./jquery.set_cursor_position.js":"./app/assets/javascripts/jquery.plugins/jquery.set_cursor_position.js.coffee","./jquery.set_cursor_position.js.coffee":"./app/assets/javascripts/jquery.plugins/jquery.set_cursor_position.js.coffee","./jquery.shiki_editor":"./app/assets/javascripts/jquery.plugins/jquery.shiki_editor.js","./jquery.shiki_editor.js":"./app/assets/javascripts/jquery.plugins/jquery.shiki_editor.js","./jquery.shiki_file":"./app/assets/javascripts/jquery.plugins/jquery.shiki_file.coffee","./jquery.shiki_file.coffee":"./app/assets/javascripts/jquery.plugins/jquery.shiki_file.coffee","./jquery.shiki_image":"./app/assets/javascripts/jquery.plugins/jquery.shiki_image.js","./jquery.shiki_image.js":"./app/assets/javascripts/jquery.plugins/jquery.shiki_image.js","./jquery.shiki_video":"./app/assets/javascripts/jquery.plugins/jquery.shiki_video.js","./jquery.shiki_video.js":"./app/assets/javascripts/jquery.plugins/jquery.shiki_video.js","./jquery.show_more":"./app/assets/javascripts/jquery.plugins/jquery.show_more.js","./jquery.show_more.js":"./app/assets/javascripts/jquery.plugins/jquery.show_more.js","./jquery.spoiler":"./app/assets/javascripts/jquery.plugins/jquery.spoiler.js","./jquery.spoiler.js":"./app/assets/javascripts/jquery.plugins/jquery.spoiler.js","./jquery.tag_name":"./app/assets/javascripts/jquery.plugins/jquery.tag_name.js","./jquery.tag_name.js":"./app/assets/javascripts/jquery.plugins/jquery.tag_name.js","./jquery.trigger_with_return":"./app/assets/javascripts/jquery.plugins/jquery.trigger_with_return.js","./jquery.trigger_with_return.js":"./app/assets/javascripts/jquery.plugins/jquery.trigger_with_return.js","./jquery.view":"./app/assets/javascripts/jquery.plugins/jquery.view.js","./jquery.view.js":"./app/assets/javascripts/jquery.plugins/jquery.view.js","./jquery.yellow_fade":"./app/assets/javascripts/jquery.plugins/jquery.yellow_fade.js","./jquery.yellow_fade.js":"./app/assets/javascripts/jquery.plugins/jquery.yellow_fade.js","./rails_ujs_modified":"./app/assets/javascripts/jquery.plugins/rails_ujs_modified.js","./rails_ujs_modified.js":"./app/assets/javascripts/jquery.plugins/rails_ujs_modified.js"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="./app/assets/javascripts/jquery.plugins sync recursive ^\\.\\/.*$"},"./app/assets/javascripts/jquery.plugins/jquery.align_posters.js":function(e,t){var s=!1;function n(){var e=$(".align-posters");return e.find(".image-cutter").css("max-height",""),e.alignPosters()}$.fn.extend({alignPosters:function(){return this.each(function(){var e=$(this);s||($(document).on("resize:debounced orientationchange",n),s=!0);var t=e.data("columns");return e.data("spoiler_binded")||e.data({spoiler_binded:!0}).on("spoiler:opened",function(){return e.alignPosters()}),e.children().toArray().inGroupsOf(t).forEach(function(e){var t=e.compact(),s=t.min(function(e){return $(e).find(".image-cutter").outerHeight()}),n=$(s).find(".image-cutter").outerHeight();n>0&&$(t).find(".image-cutter").css("max-height",n)})})}})},"./app/assets/javascripts/jquery.plugins/jquery.animated.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a);function o(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function c(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){o(a,n,r,i,c,"next",e)}function c(e){o(a,n,r,i,c,"throw",e)}i(void 0)})}}var u=function(e){return e.css({height:""}).removeClass("animated-height").removeClass("animated-overflow").hide()},l=function(e){return e.css({height:""}).removeClass("animated-height").removeClass("animated-overflow")};$.fn.extend({animatedExpand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.each(c(r.a.mark(function t(){var s,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=$(this),u(s),s.show().css({height:""}),n=s.outerHeight(),s.addClass("animated-overflow").css({height:"".concat(e,"px")}),t.next=7,i()();case 7:return s.addClass("animated-height").css({height:n}).data({animated_direction:"expand"}),t.next=10,i()(500);case 10:"expand"===s.data("animated_direction")&&l(s);case 11:case"end":return t.stop()}},t,this)})))},animatedCollapse:function(){return this.each(c(r.a.mark(function e(){var t,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$(this),l(t),s=t.outerHeight(),t.css({height:"".concat(s,"px")}).addClass("animated-overflow"),i()().then(function(){return t.addClass("animated-height").css({height:0}).data({animated_direction:"collapse"})}),e.next=7,i()(500);case 7:"collapse"===t.data("animated_direction")&&u(t);case 8:case"end":return e.stop()}},e,this)})))}})},"./app/assets/javascripts/jquery.plugins/jquery.bar.coffee":function(e,t){var s;$.fn.extend({bar:function(e){return this.each(function(){var t;switch((t=$(this)).data("bar")){case"horizontal":return s(t,Object.add(e||{},{type:"horizontal"}));case"vertical":return s(t,Object.add(e||{},{type:"vertical"}));default:throw"unknown bar-type: "+t.data("bar")}})}}),s=function(e,t){var s,n,r,a,i,o,c,u,l,p,d;if(e.addClass("bar simple "+t.type),n=t.field||"value",d=e.data("stats"),o=e.data("intervals_count"),c=null!=(p=d.max(function(e,t){return e[n]}))?p[n]:void 0,r=!1,d&&d.length){if(e.data("flattened")&&(s=d.map(function(e,t){return e[n]}).filter(function(e){return e>0&&e!==c}).average(),c>5*s&&s>0&&(u=c,c=3*s,r=!0)),t.before&&t.before(d,t,e),t.y_axis){for(a=[],i=-1;i<10;)l=-1!==i?100-10*i:0,a.push("<div class='y_label' style='top: "+(100-l)+"%;'>"+t.y_axis(l,c,u)+"</div>"),i++;e.append(a.join(""))}return t.filter&&(d=d.filter(function(e){return l=.01*parseInt(e[n]/c*100*100),t.filter(e,l)})),d.forEach(function(s,a){var i,p,f,h,m,v;return l=.01*parseInt(s[n]/c*100*100),r&&(l*=.9)>100&&(l=90+10*s[n]/u),i=l<=80&&l>60?"s1":l<=60&&l>30?i="s2":l<=30?i="s3":"s0",p="vertical"===t.type?"height":"width",v=t.x_axis?t.x_axis(s,a,d,t):s.name,f=t.title?t.title(s,l):s[n],h=l>25||l>17&&s[n]<1e3||l>10&&s[n]<100||l>5&&s[n]<10?s[n]:"","vertical"===t.type?"style='width: "+100/o+"%;'":"",m=["value"],l<10&&m.push("narrow"),s[n]>99&&m.push("mini"),e.append("<div class='line'"+("vertical"===t.type?' style="width: '+100/o+'%;"':"")+"><div class='x_label'>"+v+"</div><div class='bar-container'><div class='bar "+i+(l>0?" min":"")+"' style='"+p+": "+l+"%' title='"+(f||s[n])+"'><div class='"+m.join(" ")+"'>"+h+"</div></div></div></div>")})}t.no_data&&t.no_data(e)}},"./app/assets/javascripts/jquery.plugins/jquery.change_tag.js.coffee":function(e,t){$.fn.extend({changeTag:function(e){return this.map(function(){var t,s,n,r,a,i;for(i=document.createElement(e),n=0,r=(a=this.attributes).length;n<r;n++)s=(t=a[n]).name,"a"===e&&("data-href"===s&&(s="href"),"data-title"===s&&(s="title")),i.setAttribute(s,t.value);for(;this.childNodes.length;)i.appendChild(this.childNodes[0]);return $(this).replaceWith(i),i})}})},"./app/assets/javascripts/jquery.plugins/jquery.check_height.coffee":function(e,t,s){(function(e){$.fn.extend({checkHeight:function(t){var s,n,r,a,i;return null==t&&(t={}),r=t.max_height||450,i=null!=t.without_shade&&t.without_shade,s=t.collapsed_height||Math.round(2*r/3),a=i?"":"<div class='shade'></div>",n=null!=t.expand_html?t.expand_html:"<div class='expand'><span>"+e.t("frontend.dynamic_elements.check_height.expand")+"</span></div>",this.each(function(){var e,t;if((e=$(this)).height()>r&&!e.hasClass("shortened"))return t="<div class='b-height_shortener' style='margin-bottom: "+parseInt(e.css("margin-bottom"))+"px'>"+a+n+"</div>",e.addClass("shortened").css({height:s}),$(t).insertAfter(e).on("click",function(t){var s;if(null==n||n)return s=e.height(),e.removeClass("shortened").animatedExpand(s),$(t.currentTarget).remove()})})}})}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/jquery.plugins/jquery.completable.js.coffee":function(e,t){var s,n;s=/\/(?:animes|mangas|characters|people|ranobe|clubs)\/[A-z]*(\d+)([\w-]+)/,n=function(e){return e.split("-").filter(function(e){return!Object.isEmpty(e)}).map(function(e){return e.capitalize()}).join(" ")},$.fn.extend({completable:function(e){return this.each(function(){var t;return(t=$(this)).on("result",function(e,r){var a;return r?(r.id=r.data,r.name=r.value,t.trigger("autocomplete:success",[r])):this.value?(a=this.value.match(s))?t.trigger("autocomplete:success",[{url:this.value,id:a[1],name:n(a[2])}]):t.trigger("autocomplete:text",[this.value]):void 0}).autocomplete("data-autocomplete",{cacheLength:10,delay:10,max:30,formatItem:function(e){return e.label},matchContains:1,matchSubset:1,minChars:2,dataType:"JSON",parse:function(e){return t.trigger("parse"),e.reverse()},$anchor:e,selectFirst:!1})})},completableVariant:function(){return this.each(function(){return $(this).completable().on("autocomplete:success",function(e,t){var s,n;if(s=$(this).parent().find(".variants"),n=$(this).data("variant_name"),!s.find('[value="'+t.id+'"]').exists())return $('<div class="variant"><input type="checkbox" name="'+n+'" value="'+t.id+'" checked="true" /><a class="b-link" href="'+t.url+'" class="bubbled">'+t.name+"</a></div>").appendTo(s).process(),this.value=""})})}})},"./app/assets/javascripts/jquery.plugins/jquery.exists.js":function(e,t){jQuery.fn.exists=function(){return this.length>0}},"./app/assets/javascripts/jquery.plugins/jquery.form_navigate.js.coffee":function(e,t){history&&history.navigationMode&&(history.navigationMode="compatible"),$.extend({formNavigate:function(e){return $(document.body).on("change keypress","textarea",function(){return $(this).data({navigate_check_required:!0})}),$(document.body).on("submit","form",function(){return $(this).find("textarea").data({navigate_check_required:!1})}),$(window).on("beforeunload page:before-change",function(t){var s;if(s=!1,$("textarea:visible").each(function(){var t;if((t=$(this)).data("navigate_check_required"))return t.data({navigate_check_required:!1}),t.val().length>e.size?s=!0:void 0}),s)return"page:before-change"===t.type?confirm(e.message):e.message})}})},"./app/assets/javascripts/jquery.plugins/jquery.gallery_options.coffee":function(e,t){$.extend({galleryOptions:{cyclic:!0,hideOnContentClick:!0,transitionIn:"elastic",transitionOut:"elastic",speedIn:400,speedOut:200}}),$.extend({youtubeOptions:$.extend({},$.galleryOptions,{padding:0,autoScale:!1,width:680,showNavArrows:!1,hideOnContentClick:!1,height:495,type:"swf",swf:{wmode:"transparent",allowfullscreen:!0},onStart:function(){return $("#fancybox-expand").hide(),!0},onComplete:function(){return $("#fancybox-expand").hide()}})}),$.extend({vkOptions:$.extend({},$.youtubeOptions,{type:"iframe"})})},"./app/assets/javascripts/jquery.plugins/jquery.image_editable.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a);function o(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function c(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){o(a,n,r,i,c,"next",e)}function c(e){o(a,n,r,i,c,"throw",e)}i(void 0)})}}$.fn.extend({imageEditable:function(){return this.each(function(){var e=$(this);return $(".mobile-edit",e).on("click",function(){return e.toggleClass("mobile-editing"),!1}),$(".delete",e).on("click",function(){return e.addClass("deletable"),!1}),$(".cancel",e).on("click",function(){return e.removeClass("deletable").removeClass("mobile-editing"),!1}),$(".confirm",e).on("click",function(){return $(this).data("remote")?$(this).callRemote():e.removeClass("deletable").addClass("deleted"),!1}),$(".confirm",e).on("ajax:success",c(r.a.mark(function t(){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.removeClass("deletable").addClass("deleted"),!(s=e.closest(".packery").data("packery"))){t.next=7;break}return s.remove(e[0]),t.next=6,i()(250);case 6:s.layout();case 7:case"end":return t.stop()}},t)}))),$(".move-left",e).on("click",function(){return e.insertBefore(e.prev()),e.removeClass("mobile-editing"),!1}),$(".move-right",e).on("click",function(){return e.insertAfter(e.next()),e.removeClass("mobile-editing"),!1})})}})},"./app/assets/javascripts/jquery.plugins/jquery.insert_at_caret.js.coffee":function(e,t){$.fn.extend({insertAtCaret:function(e,t,s){return this.each(function(n){var r,a,i,o,c;return document.selection?(this.focus(),(i=document.selection.createRange()).text=e+(""===i.text&&s?s:i.text)+t,this.focus()):this.selectionStart||"0"===this.selectionStart||0===this.selectionStart?(c=this.selectionStart,r=this.selectionEnd,a=this.scrollTop,o=""===(o=this.value.substring(c,r))&&s?s:o,this.value=this.value.substring(0,c)+e+o+t+this.value.substring(r,this.value.length),this.focus(),this.selectionEnd=this.selectionStart=c+e.length+o.length+t.length,this.scrollTop=a):(this.value+=e+t,this.focus())})}})},"./app/assets/javascripts/jquery.plugins/jquery.livetime.js.coffee":function(e,t,s){"use strict";s.r(t),function(e){var t,n,r,a,i,o,c,u,l=s("./node_modules/moment/moment.js"),p=s.n(l);n={ru:"D MMMM YYYY, H:mm:ss",en:"MMMM Do YYYY, h:mm:ss a"},t={ru:"ll",en:"ll"},i=!1,$.fn.extend({livetime:function(){return i||(setInterval(u,600),i=!0),this.each(function(){return c(this),$(this).one("mouseover",function(){var t,s;if(s=o($(this)),t=n[e.locale],!$(this).data("no-tooltip"))return $(this).attr({title:s.format(t)})})})}}),u=function(){return $("time").each(function(){return c(this)})},c=function(s){var n,r,i;if(n=$(s),(r="1_day_absolute"===(i=a(n)).format?i.moment.unix()>p()().subtract(1,"day").unix()?i.moment.fromNow():i.moment.format(t[e.locale]):i.moment.fromNow())!==i.value)return n.text(r),i.value=r},o=function(e){return p()(e.attr("datetime")).subtract(MOMENT_DIFF).add(2,"seconds")},a=function(e){return e.data("timeinfo")||r(e)},r=function(e){var t,s;return s={},t=o(e),s.moment=p()().isBefore(t)&&!e.data("allow-future-time")?p()():t,s.value=e.text(),s.format=e.data("format"),e.data({timeinfo:s}),s}}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/jquery.plugins/jquery.magnific_rel_gallery.js.coffee":function(e,t){var s,n;s=function(){var e;if((e=this.items[this.index]).rel&&1===this.items.length)return this.items=$("a[rel='"+e.rel+"']").toArray(),this.index=this.items.indexOf(e)},n=function(e){return e.src=e.el.data("href")||e.src},$.fn.extend({magnificRelGallery:function(){return this.each(function(){var e;if(!(e=$(this)).data("magnificPopup"))return e.magnificPopup({type:"image",closeOnContentClick:!0,gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},callbacks:{beforeOpen:s,elementParse:n},mainClass:"mfp-no-margins mfp-img-mobile"})})}})},"./app/assets/javascripts/jquery.plugins/jquery.magnific_webm.coffee":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/application/shiki_html5_video.js");$.magnificPopup.registerModule("webm",{options:{settings:null,cursor:"mfp-ajax-cur"},proto:{initWebm:function(){return this.types.push("webm")},getWebm:function(e){var t,s,r,a;return t=$('<div class="mfp-figure mfp-webm-holder mfp-image-holder"><button title="Close (Esc)" type="button" class="mfp-close">\xd7</button><figure><div class="mfp-img"><div class="b-fancy_loader"></div></div></figure></div>'),r=t.find(".mfp-img"),s=$("<video>").attr({class:"mfp-webm",src:e.el.data("video"),controls:"controls",autoplay:!0}),new n.default(s),s.appendTo(r),a=!1,s.one("loadedmetadata play playing canplay",function(){if(!a)return a=!0,t.addClass("loaded")}),s.on("error",function(){return r.html('<p style="color: #fff;">broken video link</p>')}),this.appendContent(t),this.updateStatus("ready")}}})},"./app/assets/javascripts/jquery.plugins/jquery.normalize_image.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a);function o(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function c(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){o(a,n,r,i,c,"next",e)}function c(e){o(a,n,r,i,c,"throw",e)}i(void 0)})}}function u(e,t){var s=e.parent(),n=e[0].naturalWidth||e.width(),r=e[0].naturalHeight||e.height();if(n>300&&!e.attr("width")&&!e.attr("height")){var a=n>r?"normalized_width":"normalized_height";e.addClass(a)}t.appendMarker&&s.attr("href")&&!s.children(".marker").exists()&&n>300&&r>300&&s.append("<span class='marker'>".concat(n,"x").concat(r,"</span>")),n<300&&r<300&&"a"===s.tagName()&&s.prop("href")===e.prop("src")&&e.unwrap()}$.fn.extend({normalizeImage:function(e){return this.each(function(){var t=$(this);t.imagesLoaded(c(r.a.mark(function s(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i()();case 2:u(t,e);case 3:case"end":return s.stop()}},s)})))})}})},"./app/assets/javascripts/jquery.plugins/jquery.process.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./node_modules/js-cookie/src/js.cookie.js"),c=s.n(o),u=s("./app/assets/javascripts/services/user_rates/tracker.coffee"),l=s("./app/assets/javascripts/services/topics/tracker.coffee"),p=s.n(l),d=s("./app/assets/javascripts/services/comments/tracker.coffee"),f=s.n(d),h=s("./app/assets/javascripts/helpers/with.js"),m=s("./app/assets/javascripts/views/polls/view.js");function v(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=function(){function e(t,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(h.default)(this._selector(t),s).data({model:t}).each(function(e,s){return new m.default(s,t)})}var t,s,n;return t=e,(s=[{key:"_selector",value:function(e){return".poll-placeholder#".concat(e.id)}}])&&v(t.prototype,s),n&&v(t,n),e}();function g(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,s,n;return t=e,n=[{key:"track",value:function(e,t){Object.isEmpty(e)||Object.isEmpty(e.polls)||(e.polls.forEach(function(e){return new _(e,t)}),e.polls=null)}}],(s=null)&&g(t.prototype,s),n&&g(t,n),e}(),j=s("./app/assets/javascripts/dynamic_elements/_parser.js"),b=s("./app/assets/javascripts/views/wall/view.js"),w=s("./app/assets/javascripts/helpers/tooltip_options.coffee"),k=s("./app/assets/javascripts/helpers/mobile_detect.js");function x(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function C(){var e;return e=r.a.mark(function e(){var t,s,n,a,o,l=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:document.body,s=l.length>1&&void 0!==l[1]?l[1]:window.JS_EXPORTS,n=$(t),u.a.track(s,n),p.a.track(s,n),f.a.track(s,n),y.track(s,n),new j.a(Object(h.default)(".to-process",n)),Object(h.default)("time",n).livetime(),Object(h.default)(".linkeable",n).changeTag("a").removeClass("linkeable"),Object(h.default)(".b-video.unprocessed",n).shikiVideo(),Object(h.default)(".b-shiki_wall.unprocessed",n).removeClass("unprocessed").each(function(e,t){return new b.default(t)}),Object(h.default)(".b-tooltipped.unprocessed",n).removeClass("unprocessed").each(function(){if(!Object(k.isMobile)()&&!Object(k.isTablet)()||this.classList.contains("mobile")){var e=$(this),t=function(){switch(e.data("direction")){case"top":return"s";case"bottom":return"n";case"right":return"w";default:return"e"}}(),s=e.data("tipsy-size"),n=s?"tipsy-".concat(s):null;e.tipsy({gravity:t,className:n,html:!0,prependTo:document.body})}}),Object(h.default)(".anime-tooltip",n).tooltip(w.a).removeClass("anime-tooltip").addClass("anime-tooltip-processed").removeAttr("title"),Object(h.default)(".bubbled",n).addClass("bubbled-processed").removeClass("bubbled").tooltip(Object.add(w.b,{offset:[-48,10,-10]})),Object(h.default)(".b-spoiler.unprocessed",n).spoiler(),Object(h.default)("img.check-width",n).removeClass("check-width").normalizeImage({appendMarker:!0}),Object(h.default)(".b-image.unprocessed",n).removeClass("unprocessed").magnificRelGallery(),Object(h.default)(".b-show_more.unprocessed",n).removeClass("unprocessed").showMore(),(a=Object(h.default)(".align-posters.unprocessed",n)).length&&a.removeClass("unprocessed").find("img").imagesLoaded(function(){return a.alignPosters()}),!(o=c.a.get("collapses"))){e.next=26;break}return e.next=25,i()();case 25:o.replace(/;$/,"").split(";").forEach(function(e){return $("#collapse-".concat(e)).filter(":not(.triggered)").trigger("click",!0)});case 26:case"end":return e.stop()}},e)}),(C=function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){x(a,n,r,i,o,"next",e)}function o(e){x(a,n,r,i,o,"throw",e)}i(void 0)})}).apply(this,arguments)}$.fn.extend({process:function(e){return function(){C.apply(this,arguments)}(this,e),this}})},"./app/assets/javascripts/jquery.plugins/jquery.process_hiddent_content.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/dynamic_elements/cutted_covers.coffee");$.fn.extend({process_hidden_content:function(){return this.each(function(){var e=$(this);e.find(".align-posters").trigger("spoiler:opened"),e.find(".".concat(n.a.CLASS_NAME)).each(function(){var e=$(this).data(n.a.CLASS_NAME);e&&e.inject_css()})})}})},"./app/assets/javascripts/jquery.plugins/jquery.rateable.coffee":function(e,t){var s;$.fn.extend({rateable:function(){return this.each(function(){var e,t,n,r,a,i,o,c,u,l,p;return i=$(".stars-container",this),e=$(".hover",this),t=$(".hoverable-trigger",this),n=$(".score",this),a=$(".score-value",this),r=$(".score-notice",this),l=$(this).data("notices"),c=$(this).data("input_selector"),p=!!c,o=parseInt(a.text())||0,u=null,t.on("mousemove",function(t){var n,o;return n=$(t.target).offset().left,o=10*(t.clientX-n)/i.width(),u=o>.5?[Math.floor(o)+1,10].min():0,r.html(l[u]||"&nbsp;"),e.attr({class:s(e)+" score-"+u}),a.html(u).attr({class:s(a)+" score-"+u})}),t.on("mouseover",function(e){return n.addClass("hovered")}),t.on("mouseout",function(t){return n.removeClass("hovered"),r.html(l[o]||"&nbsp;"),e.attr({class:s(e)}),n.attr({class:s(n)+" score-"+o}),a.attr({class:s(a)+" score-"+o}).html(o)}),t.on("click",function(e){return p&&(o=u,$(this).trigger("mouseout"),$(this).closest("form").find(c).val(u)),$(this).trigger("rate:change",u)})})}}),s=function(e){return e.attr("class").replace(/\s?score-\d+/,"")}},"./app/assets/javascripts/jquery.plugins/jquery.scroll_to.js":function(e,t){$.extend({scrollTo:function(e,t){var s;if("number"===typeof e)s=e;else{var n=$(e);s=n.length?n.offset().top-10:0}$("html, body").animate({scrollTop:s},250,t)}})},"./app/assets/javascripts/jquery.plugins/jquery.set_cursor_position.js.coffee":function(e,t){$.fn.extend({setCursorPosition:function(e){var t,s,n;if(t=$(this).get(0)){n=!1;try{t.setSelectionRange&&(t.setSelectionRange(e,e),n=!0)}catch(r){}return!n&&t.createTextRange?((s=t.createTextRange()).collapse(!0),s.moveEnd("character",e),s.moveStart("character",e),s.select()):void 0}}})},"./app/assets/javascripts/jquery.plugins/jquery.shiki_editor.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/application/shiki_editor.coffee");$.fn.extend({shikiEditor:function(){return this.each(function(e,t){t.classList.contains("unprocessed")&&new n.default(t)})}})},"./app/assets/javascripts/jquery.plugins/jquery.shiki_file.coffee":function(e,t,s){"use strict";s.r(t),function(e){var t,n,r,a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./app/assets/javascripts/services/flash.js"),c=s("./app/assets/javascripts/helpers/csrf.js");t="frontend.lib.jquery_shiki_file",n={maxfiles:150,progress:null,input:null},r=!1,$.fn.extend({shikiFile:function(s){return this.each(function(){var a,u,l,p,d,f;return f=$.extend({},n,s),a=$(this),u=null,p=$(f.progress),l=p.children(),$(f.input).change(function(){if(this.files.length>0)return a.trigger("drop",[this.files])}),d=Object(c.a)(),a.filedrop({url:a.data("upload_url"),paramname:"image",data:d.post,headers:d.headers,allowedfiletypes:["image/jpg","image/jpeg","image/png"],error:function(s,n,a,i,c){switch(this.afterAll(),s){case"TooManyFiles":o.a.error(e.t(t+".too_many_files",{count:f.maxfiles}));break;case"FileTooLarge":o.a.error(e.t(t+".too_large_file"));break;case"Unprocessable Entity":c?o.a.error(c):o.a.error(e.t(t+".please_try_again_later"));break;case"FileTypeNotAllowed":o.a.error(e.t(t+".file_type_not_allowed"));break;default:o.a.error(e.t(t+".browser_not_supported"))}return r=!1},maxfiles:f.maxfiles,maxfilesize:4,queuefiles:1,refresh:50,beforeEach:function(s){var n,r;return n=s.name,r=Math.ceil(s.size/10)/100,l.html(e.t(t+".loading_file",{filename:n,filesize:r}))},drop:function(){return!r&&(r=!0,a.trigger("upload:before"),$(document.body).trigger("dragleave"),p.addClass("active"))},afterAll:function(){return a.trigger("upload:after"),r=!1,p.removeClass("active"),i()(250).then(function(){return l.width("0%")})},docOver:function(s){var n,o,c;if(!a.data("placeholder_displayed")&&a.is(":visible"))return a.data({placeholder_displayed:!0}),n=a.outerHeight(),c=a.outerWidth(),o=r?e.t(t+".wait_till_loaded"):e.t(t+".drop_pictures_here"),u=$("<div data-text='"+o+"' class='b-dropzone-drag_placeholder "+(r?"disallowed":"allowed")+"' style='width:"+c+"px!important;height:"+n+"px;line-height:"+Math.max(n,75)+"px;'></div>").css({opacity:0}).on("drop",function(e){return a.trigger(e)}).on("dragenter",function(){return $(this).addClass("hovered")}).on("dragleave",function(){return $(this).removeClass("hovered")}).insertBefore(a),i()().then(function(){return u.css({opacity:.75})})},docLeave:function(e){if(a.data("placeholder_displayed"))return u=a.parent().find(".b-dropzone-drag_placeholder").css({opacity:0}),i()(350).then(function(){return u.remove()}),a.data({placeholder_displayed:!1})},uploadStarted:function(e,t,s){return a.trigger("upload:started",e)},uploadFinished:function(e,t,s,n){return Object.isString(s)||"error"in s?a.trigger("upload:failed",[s,e]):a.trigger("upload:success",[s,e])},progressUpdated:function(e,t,s){return s>85||e>0?l.width("100%"):l.width(s+"%")}}),a.pastableTextarea(),a.on("pasteImage",function(e,t){var s;return s=new File([t.blob],"pasted_file."+t.blob.type.split("/")[1],{type:t.blob.type,lastModified:Date.now()}),a.trigger("drop",[[s]])})})}})}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/jquery.plugins/jquery.shiki_image.js":function(e,t){$.fn.extend({shikiImage:function(){return this.each(function(){return $(this).magnificRelGallery().imageEditable()})}})},"./app/assets/javascripts/jquery.plugins/jquery.shiki_video.js":function(e,t){var s=function(e,t){return{index:"".concat(e,"/"),src:"%id%",id:function(e){return t}}};$.fn.extend({shikiVideo:function(){return this.each(function(){var e=$(this);if(e.hasClass("unprocessed")){e.removeClass("unprocessed");var t,n=e.find(".video-link");if(n.magnificPopup({preloader:!1,type:"iframe",iframe:{markup:'\n            <div class=\'mfp-iframe-scaler\'>\n              <div class="mfp-close"></div>\n              <iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe>\n            </div>\n          ',srcAction:"iframe_src",patterns:(t=n.data("href"),{youtube:s("youtube.com",t),vimeo:s("vimeo.com",t),youtu_be:s("youtu.be",t),rutube_ru:s("rutube.ru",t),vk_com:s("vk.com",t),vkontakte_ru:s("vkontakte.ru",t),coub_com:s("coub.com",t),twitch_rv:s("twitch.tv",t),myvi_ru:s("myvi.ru",t),myvi_tv:s("myvi.tv",t),myvi_top:s("myvi.top",t),sibnet:s("sibnet.ru",t),yandex_ru:s("yandex.ru",t),dailymotion_com:s("dailymotion.com",t),streamable_com:s("streamable.com",t),smotret_anime:s("smotretanime.ru",t),ok_ru:s("ok.ru",t),youmite_ru:s("youmite.ru",t),viuly_io:s("viuly.io",t),stormo_xyz:s("stormo.xyz",t),stormo_tv:s("stormo.tv",t),mediafile_online:s("mediafile.online",t)})}}),e.hasClass("youtube")||e.hasClass("vk")){var r=e.find("img");r.imagesLoaded(function(){1.3===(1*r[0].naturalWidth/r[0].naturalHeight).round(1)&&e.addClass("shrinked")})}}})}})},"./app/assets/javascripts/jquery.plugins/jquery.show_more.js":function(e,t){$.fn.extend({showMore:function(){return this.each(function(){var e=$(this),t=e.next().find(".hide-more");return e.on("click",function(){e.hide(),t.parent().show()}),t.on("click",function(){e.show(),t.parent().hide()})})}})},"./app/assets/javascripts/jquery.plugins/jquery.spoiler.js":function(e,t){$.fn.extend({spoiler:function(){return this.each(function(){var e=$(this);if(e.hasClass("unprocessed")){e.removeClass("unprocessed");var t=e.children("label"),s=t.next();e.on("spoiler:open",function(){return t.click()}),t.on("click",function(e){(e.target===t[0]||$(this).closest(t).exists())&&(t.hide(),s.css({display:"inline"}),s.find(".b-prgrph").each(function(){s.addClass("no-cursor"),$(this).addClass("inner-prgrph").removeClass("b-prgrph").wrap('<div class="b-spoiler_prgrph"></div>')}),s.process_hidden_content())}),s.on("click",function(e){(e.target===s[0]||$(e.target).parent()[0]===s[0]||$(e.target).hasClass("inner-prgrph"))&&(t.css({display:"inline"}),s.hide())})}})}})},"./app/assets/javascripts/jquery.plugins/jquery.tag_name.js":function(e,t){$.fn.extend({tagName:function(){return this.get(0).tagName.toLowerCase()}})},"./app/assets/javascripts/jquery.plugins/jquery.trigger_with_return.js":function(e,t){$.fn.extend({triggerWithReturn:function(e,t){var s=new $.Event(e);return this.trigger(s,t),s.result}})},"./app/assets/javascripts/jquery.plugins/jquery.view.js":function(e,t){$.fn.extend({view:function(e){return e?this.data({view_object:e}):this.data("view_object")}})},"./app/assets/javascripts/jquery.plugins/jquery.yellow_fade.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a);function o(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function c(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){o(a,n,r,i,c,"next",e)}function c(e){o(a,n,r,i,c,"throw",e)}i(void 0)})}}$.fn.extend({yellowFade:function(){return this.each(c(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=$(this)).hasClass("yellow-fade")){e.next=3;break}return e.abrupt("return");case 3:return t.addClass("yellow-fade"),e.next=6,i()(50);case 6:return t.addClass("yellow-fade-animated"),e.next=9,i()(1e3);case 9:t.removeClass("yellow-fade yellow-fade-animated");case 10:case"end":return e.stop()}},e,this)})))}})},"./app/assets/javascripts/jquery.plugins/rails_ujs_modified.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./app/assets/javascripts/helpers/in_new_tab.js"),n=s("./app/assets/javascripts/services/flash.js");$(document).ajaxSend(function(e,t,s){var n=$("meta[name='csrf-token']").attr("content");t.setRequestHeader("X-CSRF-Token",n),"SHIKI_FAYE_LOADER"in window&&SHIKI_FAYE_LOADER.id()&&t.setRequestHeader("X-Faye-Token",SHIKI_FAYE_LOADER.id())}),jQuery(function(s){var r=s("meta[name=csrf-token]").attr("content"),a=s("meta[name=csrf-param]").attr("content");s.fn.extend({triggerAndReturn:function(e,t){var n=new s.Event(e);return this.trigger(n,t),!1!==n.result},callRemote:function(t){var r=s(this),a=r.is("form"),i=a,o=this,c=o.data("method")||o.attr("method")||"GET",u=o.data("action")||o.attr("action")||o.attr("href"),l=o.data("type")||"script";if(r.data("disabled")||void 0===u)return!1;if(!o.triggerAndReturn("ajax:before"))return!1;if(!i||!r.data("ajax:locked")){r.data("ajax:locked",!0);var p=a?o.serializeArray():r.data("form")||[];s.ajax({url:u,data:p,dataType:l,type:c.toUpperCase(),beforeSend:function(e){o.trigger("ajax:loading",{xhr:e,ajax:this}),"abort"==e.statusText&&r.data("ajax:locked",!1)},success:function(e,t,s){r.data("ajax:locked",!1),!Object.isString(e)&&e&&"notice"in e&&e.notice&&n.a.notice(e.notice),o.trigger("ajax:success",[e,t,s])},complete:function(e){r.data("ajax:locked",!1),o.trigger("ajax:complete",e)},error:function(t,s,a){if(r.data("ajax:locked",!1),t.responseText&&t.responseText.match(/invalid/))n.a.error(e.t("frontend.lib.rails_ujs_modified.invalid_login_or_password"));else if(403==t.status){try{var i=JSON.parse(t.responseText)}catch(u){i={}}Object.isObject(i)&&i.message?n.a.error(i.message):n.a.error("Forbidden"!=t.responseText?t.responseText:e.t("frontend.lib.rails_ujs_modified.you_are_not_authorized"))}else if(500==t.status)n.a.error(e.t("frontend.lib.rails_ujs_modified.please_try_again_later"));else{try{i=JSON.parse(t.responseText)}catch(u){i={}}if("errors"in i?i=i.errors:"error"in i&&(i=[i.error]),Object.size(i))if(Object.isArray(i))n.a.error(i.join("<br />"));else{var c=i.map(function(t,s){return"base"==s?t:"<strong>"+e.t("frontend.lib.rails_ujs_modified."+s,{defaultValue:s})+"</strong> "+(Object.isArray(t)?t.join(", "):t)}).join("<br />");n.a.error(c)}else n.a.error(e.t("frontend.lib.rails_ujs_modified.please_try_again_later"))}o.trigger("ajax:failure",[t,s,a])}}),o.trigger("ajax:after")}}}),s(document).on("click","a[data-method]:not([data-remote]),span[data-method]:not([data-remote])",function(e){var t=s(this),n=t.attr("href")||t.data("action"),i=t.attr("data-method"),o=s('<form method="post" action="'+n+'"></form>'),c='<input name="_method" value="'+i+'" type="hidden" />';if(t.attr("data-confirm")&&!confirm(t.attr("data-confirm")))return e.stopImmediatePropagation(),!1;null!=a&&null!=r&&(c+='<input name="'+a+'" value="'+r+'" type="hidden" />'),o.hide().append(c).appendTo("body"),e.preventDefault(),e.stopImmediatePropagation(),o.submit()}),s(document).on("click","a[data-confirm]:not([data-remote]),input[data-confirm]",function(){var e=s(this);if(e.triggerAndReturn("confirm")&&!confirm(e.attr("data-confirm")))return!1}),s(document).on("submit","form[data-remote]",function(e){s(this).callRemote(),e.preventDefault()}),s(document).on("click","a[data-remote],input[data-remote],span[data-remote],div[data-remote],li[data-remote],button[data-remote],tr[data-remote]",function(e){if(!Object(t.a)(e))if("A"!=e.target.tagName||s(e.target).data("remote")){var n=s(this);if(n.attr("data-confirm")&&!confirm(n.attr("data-confirm")))return!1;!1!==n.callRemote()&&e.preventDefault()}else e.stopImmediatePropagation()});var i=function(){s(this).find("input[data-disable-with]").each(function(){var e=s(this);e.data("enable-with",e.val()).attr("value",e.attr("data-disable-with")).attr("disabled","disabled")})};s(document).on("ajax:before","form[data-remote]:has(input[data-disable-with])",i),s(document).on("submit","form:not([data-remote]):has(input[data-disable-with])",i),s(document).on("ajax:complete","form[data-remote]:has(input[data-disable-with])",function(){s(this).find("input[data-disable-with]").each(function(){var e=s(this);e.removeAttr("disabled").val(e.data("enable-with"))})})})}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/models/shiki_user.js":function(e,t,s){"use strict";function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}s.d(t,"a",function(){return a});var r=["id","url","is_moderator","is_day_registered","is_week_registered","is_comments_auto_collapsed","is_comments_auto_loaded"],a=function(){function e(t){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.isSignedIn=!!this.data.id,r.forEach(function(e){return s[e.camelize(!1)]=s.data[e]})}var t,s,a;return t=e,(s=[{key:"isTopicIgnored",value:function(e){return-1!==this.data.ignored_topics.indexOf(e)}},{key:"isUserIgnored",value:function(e){return-1!==this.data.ignored_users.indexOf(e)}},{key:"ignoreTopic",value:function(e){return this.data.ignored_topics.push(parseInt(e))}},{key:"unignoreTopic",value:function(e){return this.data.ignored_topics.remove(parseInt(e))}}])&&n(t.prototype,s),a&&n(t,a),e}()},"./app/assets/javascripts/packs/application.js":function(e,t,s){"use strict";s.r(t);s("./node_modules/core-js/modules/es.symbol.js"),s("./node_modules/core-js/modules/es.symbol.description.js"),s("./node_modules/core-js/modules/es.symbol.async-iterator.js"),s("./node_modules/core-js/modules/es.symbol.has-instance.js"),s("./node_modules/core-js/modules/es.symbol.is-concat-spreadable.js"),s("./node_modules/core-js/modules/es.symbol.iterator.js"),s("./node_modules/core-js/modules/es.symbol.match.js"),s("./node_modules/core-js/modules/es.symbol.replace.js"),s("./node_modules/core-js/modules/es.symbol.search.js"),s("./node_modules/core-js/modules/es.symbol.species.js"),s("./node_modules/core-js/modules/es.symbol.split.js"),s("./node_modules/core-js/modules/es.symbol.to-primitive.js"),s("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),s("./node_modules/core-js/modules/es.symbol.unscopables.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.copy-within.js"),s("./node_modules/core-js/modules/es.array.every.js"),s("./node_modules/core-js/modules/es.array.fill.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.flat.js"),s("./node_modules/core-js/modules/es.array.flat-map.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.last-index-of.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.of.js"),s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/core-js/modules/es.array.reduce-right.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.some.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.species.js"),s("./node_modules/core-js/modules/es.array.splice.js"),s("./node_modules/core-js/modules/es.array.unscopables.flat.js"),s("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),s("./node_modules/core-js/modules/es.array-buffer.constructor.js"),s("./node_modules/core-js/modules/es.array-buffer.is-view.js"),s("./node_modules/core-js/modules/es.array-buffer.slice.js"),s("./node_modules/core-js/modules/es.data-view.js"),s("./node_modules/core-js/modules/es.date.now.js"),s("./node_modules/core-js/modules/es.date.to-iso-string.js"),s("./node_modules/core-js/modules/es.date.to-json.js"),s("./node_modules/core-js/modules/es.date.to-primitive.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.function.has-instance.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.json.to-string-tag.js"),s("./node_modules/core-js/modules/es.map.js"),s("./node_modules/core-js/modules/es.math.acosh.js"),s("./node_modules/core-js/modules/es.math.asinh.js"),s("./node_modules/core-js/modules/es.math.atanh.js"),s("./node_modules/core-js/modules/es.math.cbrt.js"),s("./node_modules/core-js/modules/es.math.clz32.js"),s("./node_modules/core-js/modules/es.math.cosh.js"),s("./node_modules/core-js/modules/es.math.expm1.js"),s("./node_modules/core-js/modules/es.math.fround.js"),s("./node_modules/core-js/modules/es.math.hypot.js"),s("./node_modules/core-js/modules/es.math.imul.js"),s("./node_modules/core-js/modules/es.math.log10.js"),s("./node_modules/core-js/modules/es.math.log1p.js"),s("./node_modules/core-js/modules/es.math.log2.js"),s("./node_modules/core-js/modules/es.math.sign.js"),s("./node_modules/core-js/modules/es.math.sinh.js"),s("./node_modules/core-js/modules/es.math.tanh.js"),s("./node_modules/core-js/modules/es.math.to-string-tag.js"),s("./node_modules/core-js/modules/es.math.trunc.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.number.epsilon.js"),s("./node_modules/core-js/modules/es.number.is-finite.js"),s("./node_modules/core-js/modules/es.number.is-integer.js"),s("./node_modules/core-js/modules/es.number.is-nan.js"),s("./node_modules/core-js/modules/es.number.is-safe-integer.js"),s("./node_modules/core-js/modules/es.number.max-safe-integer.js"),s("./node_modules/core-js/modules/es.number.min-safe-integer.js"),s("./node_modules/core-js/modules/es.number.parse-float.js"),s("./node_modules/core-js/modules/es.number.parse-int.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/es.number.to-precision.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.object.create.js"),s("./node_modules/core-js/modules/es.object.define-getter.js"),s("./node_modules/core-js/modules/es.object.define-properties.js"),s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.define-setter.js"),s("./node_modules/core-js/modules/es.object.entries.js"),s("./node_modules/core-js/modules/es.object.freeze.js"),s("./node_modules/core-js/modules/es.object.from-entries.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("./node_modules/core-js/modules/es.object.get-own-property-names.js"),s("./node_modules/core-js/modules/es.object.get-prototype-of.js"),s("./node_modules/core-js/modules/es.object.is.js"),s("./node_modules/core-js/modules/es.object.is-extensible.js"),s("./node_modules/core-js/modules/es.object.is-frozen.js"),s("./node_modules/core-js/modules/es.object.is-sealed.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.object.lookup-getter.js"),s("./node_modules/core-js/modules/es.object.lookup-setter.js"),s("./node_modules/core-js/modules/es.object.prevent-extensions.js"),s("./node_modules/core-js/modules/es.object.seal.js"),s("./node_modules/core-js/modules/es.object.set-prototype-of.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.object.values.js"),s("./node_modules/core-js/modules/es.parse-float.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.promise.finally.js"),s("./node_modules/core-js/modules/es.reflect.apply.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.reflect.define-property.js"),s("./node_modules/core-js/modules/es.reflect.delete-property.js"),s("./node_modules/core-js/modules/es.reflect.get.js"),s("./node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.reflect.get-prototype-of.js"),s("./node_modules/core-js/modules/es.reflect.has.js"),s("./node_modules/core-js/modules/es.reflect.is-extensible.js"),s("./node_modules/core-js/modules/es.reflect.own-keys.js"),s("./node_modules/core-js/modules/es.reflect.prevent-extensions.js"),s("./node_modules/core-js/modules/es.reflect.set.js"),s("./node_modules/core-js/modules/es.reflect.set-prototype-of.js"),s("./node_modules/core-js/modules/es.regexp.constructor.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.regexp.flags.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js"),s("./node_modules/core-js/modules/es.set.js"),s("./node_modules/core-js/modules/es.string.code-point-at.js"),s("./node_modules/core-js/modules/es.string.ends-with.js"),s("./node_modules/core-js/modules/es.string.from-code-point.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.string.pad-end.js"),s("./node_modules/core-js/modules/es.string.pad-start.js"),s("./node_modules/core-js/modules/es.string.raw.js"),s("./node_modules/core-js/modules/es.string.repeat.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.string.starts-with.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.trim-end.js"),s("./node_modules/core-js/modules/es.string.trim-start.js"),s("./node_modules/core-js/modules/es.string.anchor.js"),s("./node_modules/core-js/modules/es.string.big.js"),s("./node_modules/core-js/modules/es.string.blink.js"),s("./node_modules/core-js/modules/es.string.bold.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.string.fontcolor.js"),s("./node_modules/core-js/modules/es.string.fontsize.js"),s("./node_modules/core-js/modules/es.string.italics.js"),s("./node_modules/core-js/modules/es.string.link.js"),s("./node_modules/core-js/modules/es.string.small.js"),s("./node_modules/core-js/modules/es.string.strike.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.string.sup.js"),s("./node_modules/core-js/modules/es.typed-array.float32-array.js"),s("./node_modules/core-js/modules/es.typed-array.float64-array.js"),s("./node_modules/core-js/modules/es.typed-array.int8-array.js"),s("./node_modules/core-js/modules/es.typed-array.int16-array.js"),s("./node_modules/core-js/modules/es.typed-array.int32-array.js"),s("./node_modules/core-js/modules/es.typed-array.uint8-array.js"),s("./node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js"),s("./node_modules/core-js/modules/es.typed-array.uint16-array.js"),s("./node_modules/core-js/modules/es.typed-array.uint32-array.js"),s("./node_modules/core-js/modules/es.typed-array.copy-within.js"),s("./node_modules/core-js/modules/es.typed-array.every.js"),s("./node_modules/core-js/modules/es.typed-array.fill.js"),s("./node_modules/core-js/modules/es.typed-array.filter.js"),s("./node_modules/core-js/modules/es.typed-array.find.js"),s("./node_modules/core-js/modules/es.typed-array.find-index.js"),s("./node_modules/core-js/modules/es.typed-array.for-each.js"),s("./node_modules/core-js/modules/es.typed-array.from.js"),s("./node_modules/core-js/modules/es.typed-array.includes.js"),s("./node_modules/core-js/modules/es.typed-array.index-of.js"),s("./node_modules/core-js/modules/es.typed-array.iterator.js"),s("./node_modules/core-js/modules/es.typed-array.join.js"),s("./node_modules/core-js/modules/es.typed-array.last-index-of.js"),s("./node_modules/core-js/modules/es.typed-array.map.js"),s("./node_modules/core-js/modules/es.typed-array.of.js"),s("./node_modules/core-js/modules/es.typed-array.reduce.js"),s("./node_modules/core-js/modules/es.typed-array.reduce-right.js"),s("./node_modules/core-js/modules/es.typed-array.reverse.js"),s("./node_modules/core-js/modules/es.typed-array.set.js"),s("./node_modules/core-js/modules/es.typed-array.slice.js"),s("./node_modules/core-js/modules/es.typed-array.some.js"),s("./node_modules/core-js/modules/es.typed-array.sort.js"),s("./node_modules/core-js/modules/es.typed-array.subarray.js"),s("./node_modules/core-js/modules/es.typed-array.to-locale-string.js"),s("./node_modules/core-js/modules/es.typed-array.to-string.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.weak-set.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/web.immediate.js"),s("./node_modules/core-js/modules/web.queue-microtask.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/web.url.js"),s("./node_modules/core-js/modules/web.url.to-json.js"),s("./node_modules/core-js/modules/web.url-search-params.js");s("./node_modules/regenerator-runtime/runtime.js"),window.$=s("./node_modules/jquery/dist/jquery.js"),window.jQuery=window.$,s("./app/assets/javascripts/application.js"),s("./app/assets/javascripts/turbolinks_load.js"),s("./app/assets/javascripts/turbolinks_before_cache.js")},"./app/assets/javascripts/pages sync recursive ^\\.\\/.*$":function(e,t,s){var n={"./p-age_restricted":"./app/assets/javascripts/pages/p-age_restricted.js","./p-age_restricted.js":"./app/assets/javascripts/pages/p-age_restricted.js","./p-anime_video_authors":"./app/assets/javascripts/pages/p-anime_video_authors.coffee","./p-anime_video_authors.coffee":"./app/assets/javascripts/pages/p-anime_video_authors.coffee","./p-animes":"./app/assets/javascripts/pages/p-animes.coffee","./p-animes.coffee":"./app/assets/javascripts/pages/p-animes.coffee","./p-animes/art":"./app/assets/javascripts/pages/p-animes/art.js","./p-animes/art.js":"./app/assets/javascripts/pages/p-animes/art.js","./p-animes/cosplay":"./app/assets/javascripts/pages/p-animes/cosplay.js","./p-animes/cosplay.js":"./app/assets/javascripts/pages/p-animes/cosplay.js","./p-animes/coub":"./app/assets/javascripts/pages/p-animes/coub.js","./p-animes/coub.js":"./app/assets/javascripts/pages/p-animes/coub.js","./p-animes/files.js":"./app/assets/javascripts/pages/p-animes/files.js.coffee","./p-animes/files.js.coffee":"./app/assets/javascripts/pages/p-animes/files.js.coffee","./p-animes/franchise":"./app/assets/javascripts/pages/p-animes/franchise.js","./p-animes/franchise.js":"./app/assets/javascripts/pages/p-animes/franchise.js","./p-animes/screenshots":"./app/assets/javascripts/pages/p-animes/screenshots.js","./p-animes/screenshots.js":"./app/assets/javascripts/pages/p-animes/screenshots.js","./p-animes/show":"./app/assets/javascripts/pages/p-animes/show.js","./p-animes/show.js":"./app/assets/javascripts/pages/p-animes/show.js","./p-animes_collection-index":"./app/assets/javascripts/pages/p-animes_collection-index.js","./p-animes_collection-index.js":"./app/assets/javascripts/pages/p-animes_collection-index.js","./p-characters":"./app/assets/javascripts/pages/p-characters.js","./p-characters.js":"./app/assets/javascripts/pages/p-characters.js","./p-club_pages/form":"./app/assets/javascripts/pages/p-club_pages/form.coffee","./p-club_pages/form.coffee":"./app/assets/javascripts/pages/p-club_pages/form.coffee","./p-club_topics":"./app/assets/javascripts/pages/p-club_topics.coffee","./p-club_topics.coffee":"./app/assets/javascripts/pages/p-club_topics.coffee","./p-clubs/_menu":"./app/assets/javascripts/pages/p-clubs/_menu.coffee","./p-clubs/_menu.coffee":"./app/assets/javascripts/pages/p-clubs/_menu.coffee","./p-clubs/broadcast":"./app/assets/javascripts/pages/p-clubs/broadcast.coffee","./p-clubs/broadcast.coffee":"./app/assets/javascripts/pages/p-clubs/broadcast.coffee","./p-clubs/edit":"./app/assets/javascripts/pages/p-clubs/edit.js","./p-clubs/edit.js":"./app/assets/javascripts/pages/p-clubs/edit.js","./p-clubs/images":"./app/assets/javascripts/pages/p-clubs/images.js","./p-clubs/images.js":"./app/assets/javascripts/pages/p-clubs/images.js","./p-clubs/new":"./app/assets/javascripts/pages/p-clubs/new.js","./p-clubs/new.js":"./app/assets/javascripts/pages/p-clubs/new.js","./p-clubs/show":"./app/assets/javascripts/pages/p-clubs/show.js","./p-clubs/show.js":"./app/assets/javascripts/pages/p-clubs/show.js","./p-collections/_form":"./app/assets/javascripts/pages/p-collections/_form.js","./p-collections/_form.js":"./app/assets/javascripts/pages/p-collections/_form.js","./p-comments":"./app/assets/javascripts/pages/p-comments.js","./p-comments.js":"./app/assets/javascripts/pages/p-comments.js","./p-contests.js":"./app/assets/javascripts/pages/p-contests.js.coffee","./p-contests.js.coffee":"./app/assets/javascripts/pages/p-contests.js.coffee","./p-contests/_form":"./app/assets/javascripts/pages/p-contests/_form.js","./p-contests/_form.js":"./app/assets/javascripts/pages/p-contests/_form.js","./p-contests/_proposing":"./app/assets/javascripts/pages/p-contests/_proposing.js","./p-contests/_proposing.js":"./app/assets/javascripts/pages/p-contests/_proposing.js","./p-contests/grid.js":"./app/assets/javascripts/pages/p-contests/grid.js.coffee","./p-contests/grid.js.coffee":"./app/assets/javascripts/pages/p-contests/grid.js.coffee","./p-contests/show":"./app/assets/javascripts/pages/p-contests/show.js","./p-contests/show.js":"./app/assets/javascripts/pages/p-contests/show.js","./p-dashboards":"./app/assets/javascripts/pages/p-dashboards.js","./p-dashboards.js":"./app/assets/javascripts/pages/p-dashboards.js","./p-db_entries/edit_field":"./app/assets/javascripts/pages/p-db_entries/edit_field.js","./p-db_entries/edit_field.js":"./app/assets/javascripts/pages/p-db_entries/edit_field.js","./p-dialogs":"./app/assets/javascripts/pages/p-dialogs.js","./p-dialogs.js":"./app/assets/javascripts/pages/p-dialogs.js","./p-list_imports":"./app/assets/javascripts/pages/p-list_imports.js","./p-list_imports.js":"./app/assets/javascripts/pages/p-list_imports.js","./p-messages.js":"./app/assets/javascripts/pages/p-messages.js.coffee","./p-messages.js.coffee":"./app/assets/javascripts/pages/p-messages.js.coffee","./p-moderations":"./app/assets/javascripts/pages/p-moderations.js","./p-moderations.js":"./app/assets/javascripts/pages/p-moderations.js","./p-oauth_applications":"./app/assets/javascripts/pages/p-oauth_applications.js","./p-oauth_applications.js":"./app/assets/javascripts/pages/p-oauth_applications.js","./p-pages/about":"./app/assets/javascripts/pages/p-pages/about.js","./p-pages/about.js":"./app/assets/javascripts/pages/p-pages/about.js","./p-pages/development":"./app/assets/javascripts/pages/p-pages/development.coffee","./p-pages/development.coffee":"./app/assets/javascripts/pages/p-pages/development.coffee","./p-pages/oauth":"./app/assets/javascripts/pages/p-pages/oauth.js","./p-pages/oauth.js":"./app/assets/javascripts/pages/p-pages/oauth.js","./p-people":"./app/assets/javascripts/pages/p-people.js","./p-people.js":"./app/assets/javascripts/pages/p-people.js","./p-polls":"./app/assets/javascripts/pages/p-polls.js","./p-polls.js":"./app/assets/javascripts/pages/p-polls.js","./p-profiles/comments":"./app/assets/javascripts/pages/p-profiles/comments.js","./p-profiles/comments.js":"./app/assets/javascripts/pages/p-profiles/comments.js","./p-profiles/edit":"./app/assets/javascripts/pages/p-profiles/edit.coffee","./p-profiles/edit.coffee":"./app/assets/javascripts/pages/p-profiles/edit.coffee","./p-profiles/moderation":"./app/assets/javascripts/pages/p-profiles/moderation.js","./p-profiles/moderation.js":"./app/assets/javascripts/pages/p-profiles/moderation.js","./p-profiles/show":"./app/assets/javascripts/pages/p-profiles/show.js","./p-profiles/show.js":"./app/assets/javascripts/pages/p-profiles/show.js","./p-profiles/videos":"./app/assets/javascripts/pages/p-profiles/videos.js","./p-profiles/videos.js":"./app/assets/javascripts/pages/p-profiles/videos.js","./p-recommendations-index":"./app/assets/javascripts/pages/p-recommendations-index.js","./p-recommendations-index.js":"./app/assets/javascripts/pages/p-recommendations-index.js","./p-reviews/_form.js":"./app/assets/javascripts/pages/p-reviews/_form.js.coffee","./p-reviews/_form.js.coffee":"./app/assets/javascripts/pages/p-reviews/_form.js.coffee","./p-statistics":"./app/assets/javascripts/pages/p-statistics.js","./p-statistics.js":"./app/assets/javascripts/pages/p-statistics.js","./p-tests":"./app/assets/javascripts/pages/p-tests.js","./p-tests.js":"./app/assets/javascripts/pages/p-tests.js","./p-tests/achievements_notification":"./app/assets/javascripts/pages/p-tests/achievements_notification.js","./p-tests/achievements_notification.js":"./app/assets/javascripts/pages/p-tests/achievements_notification.js","./p-tests/show":"./app/assets/javascripts/pages/p-tests/show.js","./p-tests/show.js":"./app/assets/javascripts/pages/p-tests/show.js","./p-tests/vue":"./app/assets/javascripts/pages/p-tests/vue.js","./p-tests/vue.js":"./app/assets/javascripts/pages/p-tests/vue.js","./p-topics":"./app/assets/javascripts/pages/p-topics/index.js","./p-topics/":"./app/assets/javascripts/pages/p-topics/index.js","./p-topics/_form":"./app/assets/javascripts/pages/p-topics/_form.js","./p-topics/_form.js":"./app/assets/javascripts/pages/p-topics/_form.js","./p-topics/_news_form":"./app/assets/javascripts/pages/p-topics/_news_form.js","./p-topics/_news_form.js":"./app/assets/javascripts/pages/p-topics/_news_form.js","./p-topics/index":"./app/assets/javascripts/pages/p-topics/index.js","./p-topics/index.js":"./app/assets/javascripts/pages/p-topics/index.js","./p-topics/show":"./app/assets/javascripts/pages/p-topics/show.js","./p-topics/show.js":"./app/assets/javascripts/pages/p-topics/show.js","./p-translations.js":"./app/assets/javascripts/pages/p-translations.js.coffee","./p-translations.js.coffee":"./app/assets/javascripts/pages/p-translations.js.coffee","./p-user_rates":"./app/assets/javascripts/pages/p-user_rates/index.js","./p-user_rates/":"./app/assets/javascripts/pages/p-user_rates/index.js","./p-user_rates/index":"./app/assets/javascripts/pages/p-user_rates/index.js","./p-user_rates/index.js":"./app/assets/javascripts/pages/p-user_rates/index.js","./p-userlist_comparer":"./app/assets/javascripts/pages/p-userlist_comparer.js","./p-userlist_comparer.js":"./app/assets/javascripts/pages/p-userlist_comparer.js","./p-users/similar":"./app/assets/javascripts/pages/p-users/similar.js","./p-users/similar.js":"./app/assets/javascripts/pages/p-users/similar.js"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="./app/assets/javascripts/pages sync recursive ^\\.\\/.*$"},"./app/assets/javascripts/pages/p-age_restricted.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/js-cookie/src/js.cookie.js"),r=s.n(n);pageLoad("age_restricted",function(){return $(".confirm").click(function(){r.a.set($(".confirm").data("cookie"),!0,{expires:9999,path:"/"}),window.location.reload()})})},"./app/assets/javascripts/pages/p-anime_video_authors.coffee":function(e,t){pageLoad("anime_video_authors_index",function(){return $(".anime-suggest").completableVariant().on("autocomplete:success",function(e,t){return $("#anime_id").val(t.id),$(e.target).closest("form").submit()})}),pageLoad("anime_video_authors_none",function(){return $(".anime-suggest").completableVariant().on("autocomplete:success",function(e,t){return $("#anime_id").val(t.id),$(e.target).closest("form").submit()})})},"./app/assets/javascripts/pages/p-animes.coffee":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/animes/menu.js");pageLoad(".animes",".mangas",".ranobe",function(){return new n.default(".b-animes-menu")})},"./app/assets/javascripts/pages/p-animes/art.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/images/imageboard_gallery.js");pageLoad("animes_art","mangas_art",function(){new n.default(".b-gallery")})},"./app/assets/javascripts/pages/p-animes/cosplay.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/animes/cosplay.js");pageLoad("animes_cosplay","mangas_cosplay",function(){new n.default(".l-content")})},"./app/assets/javascripts/pages/p-animes/coub.js":function(e,t){pageLoad("animes_coub",function(){$.force_appear()})},"./app/assets/javascripts/pages/p-animes/files.js.coffee":function(e,t){pageLoad("animes_files","mangas_files",function(){return $(".b-options-floated.collapse").trigger("click")})},"./app/assets/javascripts/pages/p-animes/franchise.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n);function a(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function i(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var i=e.apply(t,s);function o(e){a(i,n,r,o,c,"next",e)}function c(e){a(i,n,r,o,c,"throw",e)}o(void 0)})}}function o(e,t,s){var n=$(".graph").empty();s.json(n.data("api_url"),function(e,r){new t(r).render_to(n[0]),$(".sticky-tooltip .close").on("click",function(){var e=$(".node.selected")[0];s.select(e).on("click")(e.__data__)})})}pageLoad("animes_franchise","mangas_franchise","ranobe_franchise",i(r.a.mark(function e(){var t,n,a,i,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e("d3~franchise").then(s.t.bind(null,"./node_modules/d3/d3.js",7));case 2:return t=e.sent,e.next=5,Promise.all([s.e("d3~franchise"),s.e("franchise")]).then(s.bind(null,"./app/assets/javascripts/services/shiki_math.coffee"));case 5:return n=e.sent,a=n.ShikiMath,e.next=9,Promise.all([s.e("d3~franchise"),s.e("franchise")]).then(s.bind(null,"./app/assets/javascripts/services/franchise/graph.coffee"));case 9:i=e.sent,c=i.FranchiseGraph,e.prev=11,o(a,c,t),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(11),document.write("".concat(e.t0.name,": ").concat(e.t0.message||JSON.stringify(e.t0))),e.t0;case 19:case"end":return e.stop()}},e,null,[[11,15]])})))},"./app/assets/javascripts/pages/p-animes/screenshots.js":function(e,t){pageLoad("animes_screenshots",function(){$(".c-screenshot").magnificRelGallery()})},"./app/assets/javascripts/pages/p-animes/show.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/application/favorite_star.js");pageLoad("animes_show","mangas_show","ranobe_show",function(){$(".b-notice").tipsy({gravity:"s"}),$(".c-screenshot").magnificRelGallery(),$(".text").checkHeight({max_height:200}),new n.default($(".b-subposter-actions .fav-add"),gon.is_favoured);var e=$(".new_review");if(window.SHIKI_USER.isSignedIn){var t=e.attr("href").replace(/%5Buser_id%5D=(\d+|ID)/,"%5Buser_id%5D=".concat(window.SHIKI_USER.id));e.attr({href:t})}else e.hide();$(".l-content").on("postloaded:success",".resources-loader",function(){return $(".c-screenshot").magnificRelGallery()}),$(".other-names").on("clickloaded:success",function(e,t){var s=e.currentTarget;$(s).closest(".line").replaceWith(t)}),$(".b-subposter-actions .new_comment").on("click",function(){var e=$(".b-form.new_comment textarea");$.scrollTo(e,function(){return e.focus()})})})},"./app/assets/javascripts/pages/p-animes_collection-index.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/animes/paginated_catalog.js");function r(){var e=$(".b-collection-filters").data("base_path");window.location.pathname.match(/\/recommendations\//)?e=window.location.pathname.split("/").first(5).join("/"):window.location.pathname.match(/\/comparer\//)&&(e=window.location.pathname.split("/").first(6).join("/")),new n.default(e)}pageLoad("animes_collection_index","recommendations_index","userlist_comparer_show",function(){$(".l-menu [data-dynamic=postloaded]").exists()?$(".l-menu").one("postloaded:success",r):r()}),pageUnload("animes_collection_index","recommendations_index","userlist_comparer_show",function(){var e=$(".block-filter.item-add"),t=e.siblings(".b-block_list");t.find(".filter").length===t.find(".item-minus").length&&e.removeClass("item-add").addClass("item-minus")})},"./app/assets/javascripts/pages/p-characters.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/application/favorite_star.js"),r=s("./app/assets/javascripts/views/images/imageboard_gallery.js");pageLoad("characters_show",function(){$(".text").checkHeight({max_height:200}),new n.default($(".b-subposter-actions .fav-add"),gon.is_favoured),$(".b-subposter-actions .new_comment").on("click",function(){var e=$(".b-form.new_comment textarea");$.scrollTo(e,function(){return e.focus()})})}),pageLoad("characters_art",function(){new r.default(".b-gallery")}),pageLoad("characters_cosplay",function(){new Animes.Cosplay(".l-content")})},"./app/assets/javascripts/pages/p-club_pages/form.coffee":function(e,t){pageLoad(".club_pages",function(){return $(".b-shiki_editor").shikiEditor()})},"./app/assets/javascripts/pages/p-club_topics.coffee":function(e,t){pageLoad("club_topics_new","club_topics_edit","club_topics_create","club_topics_update",function(){var e;return e=$(".b-form.edit_topic, .b-form.new_topic"),$(".b-shiki_editor",e).shikiEditor()})},"./app/assets/javascripts/pages/p-clubs/_menu.coffee":function(e,t){pageLoad(".clubs",function(){var e,t,s,n;return s=$(".b-clubs-menu"),e=$(".b-subposter-actions",s),t=s.children(".invite"),n=$("#club_invite_dst_id",t),$(".invite",e).on("click",function(){return e.hide(),t.show(),n.focus()}),$(".cancel",t).on("click",function(){return e.show(),t.hide()}),$("form",t).on("ajax:success",function(){return n.val(""),$(".cancel",t).click()}),n.on("keydown",function(e){if(27===e.keyCode)return $(".cancel",t).click()}),$(".upload input",s).on("change",function(){return $(this).closest("form").submit()})})},"./app/assets/javascripts/pages/p-clubs/broadcast.coffee":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/turbolinks/dist/turbolinks.js"),r=s.n(n),a=s("./app/assets/javascripts/views/application/shiki_editor.coffee");pageLoad(".clubs-broadcast",function(){return new a.default(".b-shiki_editor"),$(".new_broadcast").on("ajax:success",function(e,t){var s;return s=$(".new_broadcast").data("next_url")+"#comment-"+t.id,r.a.visit(s)})})},"./app/assets/javascripts/pages/p-clubs/edit.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/styles/edit.js");pageLoad("clubs_edit",function(){$(".edit-page.description").exists()&&$(".b-shiki_editor").shikiEditor().on("preview:params",function(){return{body:$(this).view().$textarea.val(),target_id:1,target_type:"Club"}}),$(".edit-page.links").exists()&&($(".anime-suggest").completableVariant(),$(".manga-suggest").completableVariant(),$(".ranobe-suggest").completableVariant(),$(".character-suggest").completableVariant(),$(".club-suggest").completableVariant()),$(".edit-page.members").exists()&&($(".moderator-suggest").completableVariant(),$(".admin-suggest").completableVariant(),$(".kick-suggest").completableVariant(),$(".ban-suggest").completableVariant()),$(".edit-page.styles").exists()&&new n.default(".b-edit_styles")})},"./app/assets/javascripts/pages/p-clubs/images.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/images/preloaded_gallery.js");pageLoad("clubs_images",function(){new n.default(".b-gallery")})},"./app/assets/javascripts/pages/p-clubs/new.js":function(e,t){pageLoad("clubs_new",function(){$(".b-shiki_editor").shikiEditor()})},"./app/assets/javascripts/pages/p-clubs/show.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/images/preloaded_gallery.js");pageLoad("clubs_show",function(){$(".b-gallery").exists()&&new n.default(".b-gallery")})},"./app/assets/javascripts/pages/p-collections/_form.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n);function a(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function i(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var i=e.apply(t,s);function o(e){a(i,n,r,o,c,"next",e)}function c(e){a(i,n,r,o,c,"throw",e)}o(void 0)})}}function o(e){return e.links=[].concat.apply([],Object.values(e.links.groupBy(function(e){return e.group}))),e}pageLoad("collections_new","collections_edit","collections_create","collections_update",i(r.a.mark(function e(){var t,n,a,i,c,u,l,p,d,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($(".b-shiki_editor").shikiEditor(),$("#vue_collection_links").exists()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,s.e("vue").then(s.bind(null,"./app/assets/javascripts/vue/instance.js"));case 5:return t=e.sent,n=t.Vue,a=t.Vuex,e.next=10,Promise.all([s.e("sortable.esm.js"),s.e("vuedraggable.common.js"),s.e("vuex.esm.js"),s.e(2)]).then(s.bind(null,"./app/assets/javascripts/vue/components/collections/collection_links.vue"));case 10:return i=e.sent,c=i.default,e.next=14,s.e(9).then(s.t.bind(null,"./app/assets/javascripts/vue/stores/collection_links.js",7));case 14:u=e.sent,l=$("#collection_form").data("collection"),p=$("#collection_form").data("autocomplete_url"),d=$("#collection_form").data("max_links"),(f=new a.Store(u)).state.collection=o(l),new n({el:"#vue_collection_links",store:f,render:function(e){return e(c,{props:{maxLinks:d,autocompleteUrl:p}})}});case 21:case"end":return e.stop()}},e)})))},"./app/assets/javascripts/pages/p-comments.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a);function o(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function c(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){o(a,n,r,i,c,"next",e)}function c(e){o(a,n,r,i,c,"throw",e)}i(void 0)})}}pageLoad("comments_show",c(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()(250);case 2:$(".b-comment").first().imagesLoaded(function(){return $(".b-height_shortener .expand").click()});case 3:case"end":return e.stop()}},e)})))},"./app/assets/javascripts/pages/p-contests.js.coffee":function(e,t){},"./app/assets/javascripts/pages/p-contests/_form.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./app/assets/javascripts/views/application/shiki_editor.coffee");function n(){var t=$("#contest_member_ids_").next().find("input:checked").length;$(".members_count").html(e.t("frontend.pages.p_contests.candidate",{count:t}))}pageLoad("contests_edit",function(){$(".b-shiki_editor").each(function(e,s){return new t.default(s)}),$(".edit .proposing .hidden").removeClass("hidden"),$("form").on("click","input[type=checkbox]",function(){return n()}),$("form .proposing .take").on("click",function(e){var t=e.currentTarget;$(t).parent().hide(),$(".member-suggest").trigger("autocomplete:success",[{id:$(t).data("id"),name:$(t).data("text")}]),$(".member-suggest").trigger("blur")}),$(".member-suggest").completableVariant().on("autocomplete:success",function(e,t){return n()}),n()})}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/pages/p-contests/_proposing.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./app/assets/javascripts/helpers/axios.js");function i(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function o(e){return $(e).parents(".suggestion").find(".voters-container")}function c(e){return $(e).parents(".suggestion").find(".hide")}function u(e){return $(e).parents(".suggestion").find(".show")}pageLoad("contests_show","contests_edit",function(){$(".proposing").exists()&&($(".proposing .suggestion .show").on("click",function(e){var t=e.currentTarget;o(t).show(),c(t).show(),u(t).hide()}),$(".proposing .suggestion .hide").on("click",function(e){var t=e.currentTarget;o(t).hide(),c(t).hide(),u(t).show()}),$(".proposing .suggestion .show.ajaxable").on("click",function(){var e,t=(e=r.a.mark(function e(t){var s,n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.currentTarget,$(s).hasClass("ajaxable")){e.next=3;break}return e.abrupt("return");case 3:return $(s).removeClass("ajaxable"),e.next=6,a.a.get($(s).data("href"));case 6:n=e.sent,i=n.data,$(s).trigger("ajax:success",i);case 9:case"end":return e.stop()}},e)}),function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function o(e){i(a,n,r,o,c,"next",e)}function c(e){i(a,n,r,o,c,"throw",e)}o(void 0)})});return function(e){return t.apply(this,arguments)}}()),$(".proposing .suggestion .show").on("ajax:success",function(e,t){o(e.currentTarget).html(t)}))}),pageLoad("contests_show",function(){$(".proposing").exists()&&($(".proposing .item-suggest").completable().on("autocomplete:success",function(e,t){var s=e.currentTarget;$(s).val(t.name),$(s).parents("form").find("#contest_suggestion_item_id").val(t.id),$(s).parents("form").submit()}),$(".proposing form").on("submit",function(e){Object.isEmpty($(this).find("#contest_suggestion_item_id").val())&&e.preventDefault()}))})},"./app/assets/javascripts/pages/p-contests/grid.js.coffee":function(e,t){var s;pageLoad("contests_grid",function(){return s(),$(window).on("resize",s)}),s=function(){var e,t,s,n,r,a;return s=(n=$(".contest-grid")).find(".final"),r=n.find(".winners .round:last-child .entry:first-child"),(e=n.find(".losers .round:last-child .entry:first-child")).length?a=e.offset().top-r.offset().top+1:(r=n.find(".winners .round:last-child .entry:first-child"),a=(e=n.find(".winners .round:last-child .entry:last-child p:first-child")).offset().top-r.offset().top-23),s.css({height:a,width:1,top:r.offset().top+r.outerHeight()-1,left:r.offset().left+r.outerWidth()}),(t=s.find(".entry")).css({marginTop:a/2-t.outerHeight()})}},"./app/assets/javascripts/pages/p-contests/show.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/contests/round.js");pageLoad("contests_show",function(){$(".contest_round").length&&new n.default($(".contest_round"),gon.votes)})},"./app/assets/javascripts/pages/p-dashboards.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a);function o(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function c(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){o(a,n,r,i,c,"next",e)}function c(e){o(a,n,r,i,c,"throw",e)}i(void 0)})}}function u(e,t){var s=t.find(".b-topic"),n=e.outerHeight();s.length&&n<t.outerHeight()&&(s.last().remove(),u(e,t))}pageLoad("dashboards_show",c(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(".l-page").on("click",".user_list .switch",function(e){var t=e.currentTarget;$(t).closest(".list-type").toggleClass("hidden").siblings(".list-type").toggleClass("hidden")}),e.next=3,i()(500);case 3:return $(".cc-news").imagesLoaded(function(){u($(".c-news_topics"),$(".c-generated_news"))}),e.next=6,i()(500);case 6:(t=$(".y-sponsored")).children().length&&t.addClass("block");case 8:case"end":return e.stop()}},e)})))},"./app/assets/javascripts/pages/p-db_entries/edit_field.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./app/assets/javascripts/views/images/imageboard_gallery.js");function i(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function o(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function o(e){i(a,n,r,o,c,"next",e)}function c(e){i(a,n,r,o,c,"throw",e)}o(void 0)})}}function c(){return(c=o(r.a.mark(function e(){var t,n,a,i,o,c,u,l,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e("vue").then(s.bind(null,"./app/assets/javascripts/vue/instance.js"));case 2:return t=e.sent,n=t.Vue,a=t.Vuex,e.next=7,Promise.all([s.e("sortable.esm.js"),s.e("vuedraggable.common.js"),s.e("vuex.esm.js"),s.e(3)]).then(s.bind(null,"./app/assets/javascripts/vue/components/external_links/external_links.vue"));case 7:return i=e.sent,o=i.default,e.next=11,s.e(0).then(s.t.bind(null,"./app/assets/javascripts/vue/stores/collection.js",7));case 11:c=e.sent,u=$("#vue_external_links"),l=u.data("external_links"),(p=new a.Store(c)).state.collection=l,new n({el:"#vue_external_links",store:p,render:function(e){return e(o,{props:{kindOptions:u.data("kind_options"),resourceType:u.data("resource_type"),entryType:u.data("entry_type"),entryId:u.data("entry_id")}})}});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=o(r.a.mark(function e(){var t,n,a,i,o,c,u,l,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e("vue").then(s.bind(null,"./app/assets/javascripts/vue/instance.js"));case 2:return t=e.sent,n=t.Vue,a=t.Vuex,e.next=7,Promise.all([s.e("sortable.esm.js"),s.e("vuedraggable.common.js"),s.e("vuex.esm.js"),s.e(4)]).then(s.bind(null,"./app/assets/javascripts/vue/components/array_field.vue"));case 7:return i=e.sent,o=i.default,e.next=11,s.e(0).then(s.t.bind(null,"./app/assets/javascripts/vue/stores/collection.js",7));case 11:c=e.sent,u=$("#vue_app"),l=u.data("values"),(p=new a.Store(c)).state.collection=l.map(function(e,t){return{key:t,name:e}}),new n({el:"#vue_app",store:p,render:function(e){return e(o,{props:{resourceType:u.data("resource_type"),field:u.data("field"),autocompleteUrl:u.data("autocomplete_url")}})}});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=o(r.a.mark(function e(t){var n,a,i,o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e("vue").then(s.bind(null,"./app/assets/javascripts/vue/instance.js"));case 2:return n=e.sent,a=n.Vue,e.next=6,Promise.all([s.e("vue-tags-input.js"),s.e(1)]).then(s.bind(null,"./app/assets/javascripts/vue/components/tags_input.vue"));case 6:i=e.sent,o=i.default,c=$("#vue_app"),t.hide(),new a({el:"#vue_app",render:function(e){return e(o,{props:{label:t.find("label").text(),input:t.find("input")[0],value:[c.data("value")].compact(),autocompleteBasic:c.data("autocomplete_basic"),autocompleteOther:[],tagsLimit:1}})}});case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}pageLoad(".db_entries-edit_field",function(){var e=$(".edit-page.description_ru, .edit-page.description_en");if(e.exists()){var t=$(".b-shiki_editor");t.shikiEditor().on("preview:params",function(){return{body:$(this).view().$textarea.val(),target_id:t.data("target_id"),target_type:t.data("target_type")}}),$("form",e).on("submit",function(){var e=$(this),t=function(e,t){return t?"".concat(e,"[source]").concat(t,"[/source]"):"".concat(e)};$("[id$=_description_ru]",e).val(t($("[id$=_description_ru_text]",e).val(),$("[id$=_description_ru_source]",e).val())),$("[id$=_description_en]",e).val(t($("[id$=_description_en_text]",e).val(),$("[id$=_description_en_source]",e).val()))})}if($(".edit-page.screenshots").exists()){$(".c-screenshot").shikiImage();var s=$(".screenshots-positioner");$("form",s).on("submit",function(){var e=$(".c-screenshot:not(.deleted) img",s).map(function(){return $(this).data("id")});s.find("#entry_ids").val($.makeArray(e).join(","))});var n=$(".screenshots-uploader");n.shikiFile({progress:n.find(".b-upload_progress"),input:n.find("input[type=file]"),maxfiles:250}).on("upload:after",function(){return n.find(".thank-you").show()}).on("upload:success",function(e,t){return $(t.html).appendTo($(".cc",n)).shikiImage()})}if($(".edit-page.videos").exists()&&$(".videos-deleter .b-video").imageEditable(),$(".edit-page.imageboard_tag").exists()){var r=$(".b-gallery"),i=r.html();r.data("imageboard_tag")&&new a.default(r),$("#anime_imageboard_tag, #manga_imageboard_tag, #character_imageboard_tag").completable().on("autocomplete:success autocomplete:text",function(e,t){this.value=Object.isString(t)?t:t.value,r.data({imageboard_tag:this.value}),r.html(i),new Images.ImageboardGallery(r)})}if($(".edit-page.genre_ids").exists()){var o=$(".c-current_genres").children().last(),p=$(".c-all_genres").children().last();o.on("click",".remove",function(){var e=$(this).closest(".genre").remove();p.find("#".concat(e.attr("id"))).removeClass("included").yellowFade()}),o.on("click",".up",function(){var e=$(this).closest(".genre"),t=e.prev();e.detach().insertBefore(t).yellowFade()}),o.on("click",".down",function(){var e=$(this).closest(".genre"),t=e.next();e.detach().insertAfter(t).yellowFade()}),p.on("click",".name",function(){var e=$(this).closest(".genre");e.hasClass("included")?o.find("#".concat(e.attr("id")," .remove")).click():(e.clone().appendTo(o).yellowFade(),e.addClass("included"))}),$("form.new_version").on("submit",function(){var e=$(".item_diff"),t=o.children().map(function(){return parseInt(this.id)}).toArray(),s={genre_ids:[e.data("current_ids"),t]};e.find("input").val(JSON.stringify(s))})}$(".edit-page.external_links").exists()&&function(){c.apply(this,arguments)}();$(["synonyms","coub_tags","fansubbers","fandubbers","desynced","options"].map(function(e){return".edit-page.".concat(e)}).join(",")).exists()&&function(){u.apply(this,arguments)}(),$(".edit-page.licensor").exists()&&function(e){l.apply(this,arguments)}($(".anime_licensor, .manga_licensor"))})},"./app/assets/javascripts/pages/p-dialogs.js":function(e,t){pageLoad("dialogs_index","dialogs_show",function(){$("textarea:appeared").focus()})},"./app/assets/javascripts/pages/p-list_imports.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./node_modules/turbolinks/dist/turbolinks.js"),c=s.n(o);function u(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function l(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){u(a,n,r,i,o,"next",e)}function o(e){u(a,n,r,i,o,"throw",e)}i(void 0)})}}pageLoad("list_imports_show",l(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!$(".b-nothing_here").exists()){e.next=5;break}return t=document.location.href,e.next=4,i()(5e3);case 4:t===document.location.href&&c.a.visit(document.location.href);case 5:$(".b-options-floated.collapse .action").click();case 6:case"end":return e.stop()}},e)})))},"./app/assets/javascripts/pages/p-messages.js.coffee":function(e,t){var s,n;pageLoad("messages_index",function(){return s(),$(".l-page").on("postloader:success",s)}),s=function(){return $(".item-request-confirm, .item-request-reject").on("ajax:success",function(){return n($(this).closest(".b-message"))}),$(".item-request-reject.friend-request").on("click",function(){return n($(this).closest(".b-message"))})},n=function(e){var t;return t=e.find(".b-appear_marker").data({disabled:!1}),e.trigger("appear",[t,!0]),e.find(".main-controls").children(":not(.item-delete)").remove(),e.find(".main-controls").children(".item-delete").show()}},"./app/assets/javascripts/pages/p-moderations.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/urijs/src/URI.js"),i=s.n(a),o=s("./node_modules/turbolinks/dist/turbolinks.js"),c=s.n(o),u=s("./app/assets/javascripts/views/search/collection.js"),l=s("./app/assets/javascripts/views/application/date_picker.js"),p=s("./app/assets/javascripts/helpers/axios.js");function d(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function f(){$(".date-filter").exists()&&new l.DatePicker(".date-filter").on("date:picked",function(){var e=new i.a(window.location.href).setQuery("created_on",this.value).href();c.a.visit(e)})}pageLoad("anime_video_reports_index","profiles_videos",function(){f(),$(".l-page").on("click",".b-log_entry.video .collapsed",function(e){var t=e.currentTarget,s=$(t).parent().find(".player");s.data("html")&&s.html(s.data("html")).data({html:""})})}),pageLoad("versions_index","users_index",f),pageLoad("versions_show","user_rate_logs_show",function(){$(".collapsed.spoiler",".b-log_entry, .b-user_rate_log").click()}),pageLoad("bans_index","abuse_requests_index","versions_index","review_index","anime_video_reports_index",function(){$(".b-brief").checkHeight({max_height:150}),$(".expand-all").on("click",function(){$(this).parent().next().next().find(".collapsed.spoiler:visible").click(),$(this).remove()})}),pageLoad("moderations_missing_videos",function(){$(".missing-video .show-details").one("click",function(){var e,t=(e=r.a.mark(function e(t){var s,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.get($(t.currentTarget).data("episodes_url"));case 3:s=e.sent,n=s.data,$(t.currentTarget).parent().find(".details").html(n);case 6:case"end":return e.stop()}},e)}),function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){d(a,n,r,i,o,"next",e)}function o(e){d(a,n,r,i,o,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()),$(".missing-video .show-details").on("click",function(e){e.preventDefault(),$(e.currentTarget).parent().find(".details").toggleClass("hidden")})}),pageLoad("roles_show",function(){new u.default(".b-collection_search"),$(".l-page").on("ajax:before",".b-user",function(e){var t=e.currentTarget;$(".b-user[id=".concat(t.id,"]")).addClass("b-ajax")}).on("ajax:success",".b-user",function(e,t){var s=e.currentTarget,n=t.content;$(".b-user[id=".concat(s.id,"]")).replaceWith(n)})}),pageLoad("users_index",function(){$(".b-collection_search").length&&new u.default(".b-collection_search")})},"./app/assets/javascripts/pages/p-oauth_applications.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/application/shiki_editor.coffee");pageLoad("oauth_applications_new","oauth_applications_create","oauth_applications_edit","oauth_applications_update",function(){$(".oauth_application_redirect_uri .hint .sample").on("click",function(e){var t=e.currentTarget;$(".oauth_application_redirect_uri input").val(t.innerHTML)}),$(".b-shiki_editor").each(function(e,t){return new n.default(t)})}),pageLoad("oauth_applications_show",function(){$(".description").checkHeight({max_height:200})})},"./app/assets/javascripts/pages/p-pages/about.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./node_modules/@babel/runtime/regenerator/index.js"),n=s.n(t);function r(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function a(e){return function(){var t=this,s=arguments;return new Promise(function(n,a){var i=e.apply(t,s);function o(e){r(i,n,a,o,c,"next",e)}function c(e){r(i,n,a,o,c,"throw",e)}o(void 0)})}}function i(t){var s=$(".comments-chart").data("stats"),n=t.getOptions().colors[3];$(".comments-chart").highcharts(c({series:[{name:e.t("frontend.about.comments_per_day"),pointInterval:864e5,pointStart:new Date(s.first().date).getTime(),data:s.map(function(e){return e.count}),color:n,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,n],[1,t.Color(n).setOpacity(0).get("rgba")]]}}],legend:{enabled:!1}}))}function o(t){var s=$(".users-chart").data("stats"),n=t.getOptions().colors[4];$(".users-chart").highcharts(c({series:[{name:e.t("frontend.about.new_users_per_day"),pointInterval:864e5,pointStart:new Date(s.first().date).getTime(),data:s.map(function(e){return[new Date(e.date).getTime(),e.count]}),color:n,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,n],[1,t.Color(n).setOpacity(0).get("rgba")]]}}],legend:{enabled:!1}}))}pageLoad("pages_about",a(n.a.mark(function e(){var t,r,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e("highcharts").then(s.t.bind(null,"./node_modules/highcharts/highcharts.js",7));case 2:return t=e.sent,e.next=5,s.e("highcharts").then(s.bind(null,"./app/assets/javascripts/vendor/highcharts_colors.js"));case 5:r=e.sent,a=r.colors,t.getOptions().colors.length=0,a.forEach(function(e){return t.getOptions().colors.push(e)}),i(t),o(t);case 11:case"end":return e.stop()}},e)})));var c=function(e){return Object.merge({chart:{zoomType:"x",type:"areaspline"},title:null,xAxis:{type:"datetime",title:null,maxZoom:12096e5,dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b",year:"%Y"}},yAxis:{title:null,gridLineColor:"#eaeaea",min:0},tooltip:{shared:!0},legend:{borderRadius:0,borderWidth:0},plotOptions:{areaspline:{lineWidth:1,fillOpacity:.5,marker:{enabled:!1},shadow:!1,states:{hover:{lineWidth:1}},threshold:null}},credits:!1},e,{deep:!0})}}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/pages/p-pages/development.coffee":function(e,t){pageLoad("pages_development",function(){var e,t,s;return e=$(".b-ajax"),t=$("iframe"),s=$(window).height()-e.offset().top-5,e.css({width:"100%",height:s-10}),t.prop({width:"100%",height:s}),t.on("load",function(){return e.hide(),t.removeClass("hidden")})})},"./app/assets/javascripts/pages/p-pages/oauth.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/axios/index.js"),r=s.n(n);function a(e){return"<div class='to-process' data-dynamic='code_highlight'><code class='b-code' data-language='json'>"+e+"</code></div>"}pageLoad("pages_oauth",function(){$('select#oauth_application_id, input[name="scopes[]"]').on("change",function(e){var t=e.currentTarget;$(".l-page").addClass("b-ajax"),$(t).closest("form").submit()}),$("#request_acces_token").on("click",function(e){var t=e.currentTarget,s=$(t),n=$(".access-token-response").html("").addClass("b-ajax").show();r.a.request({url:s.data("token_url"),method:"post",headers:{},data:{grant_type:"authorization_code",client_id:s.data("client_id"),client_secret:s.data("client_secret"),code:s.data("code"),redirect_uri:s.data("redirect_uri")},responseType:"json",validateStatus:function(e){return e>=200&&e<300||401===e}}).then(function(e){return n.removeClass("b-ajax").html(a(JSON.stringify(e.data))).process()}).catch(function(e){return n.removeClass("b-ajax").html(a(e.toString()))})}),$("#refresh_acces_token").on("click",function(e){var t=e.currentTarget,s=$(t),n=$(".refresh-token-response").html("").addClass("b-ajax").show();r.a.request({url:s.data("token_url"),method:"post",headers:{},data:{grant_type:"refresh_token",client_id:s.data("client_id"),client_secret:s.data("client_secret"),refresh_token:s.data("refresh_token")},responseType:"json",validateStatus:function(e){return e>=200&&e<300||401===e}}).then(function(e){return n.removeClass("b-ajax").html(a(JSON.stringify(e.data))).process()}).catch(function(e){return n.removeClass("b-ajax").html(a(e.toString()))})})})},"./app/assets/javascripts/pages/p-people.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/application/favorite_star.js");pageLoad("people_show",function(){$(".b-entry-info").checkHeight({max_height:101,without_shade:!0}),Object.keys(gon.is_favoured).forEach(function(e){if(gon.person_role[e]||gon.is_favoured[e]){var t=$(".b-subposter-actions .fav-add[data-kind='".concat(e,"']"));t.show(),new n.default(t,gon.is_favoured[e])}}),$(".b-subposter-actions .new_comment").on("click",function(){var e=$(".b-form.new_comment textarea");$.scrollTo(e,function(){return e.focus()})})})},"./app/assets/javascripts/pages/p-polls.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n);function a(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function i(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var i=e.apply(t,s);function o(e){a(i,n,r,o,c,"next",e)}function c(e){a(i,n,r,o,c,"throw",e)}o(void 0)})}}pageLoad(".polls",i(r.a.mark(function e(){var t,n,a,i,o,c,u,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($(".b-shiki_editor").shikiEditor(),$("#vue_poll_variants").exists()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,s.e("vue").then(s.bind(null,"./app/assets/javascripts/vue/instance.js"));case 5:return t=e.sent,n=t.Vue,a=t.Vuex,e.next=10,Promise.all([s.e("sortable.esm.js"),s.e("vuedraggable.common.js"),s.e("vuex.esm.js"),s.e(5)]).then(s.bind(null,"./app/assets/javascripts/vue/components/poll.vue"));case 10:return i=e.sent,o=i.default,e.next=14,s.e(0).then(s.t.bind(null,"./app/assets/javascripts/vue/stores/collection.js",7));case 14:c=e.sent,u=$("#poll_form").data("poll").variants,(l=new a.Store(c)).state.collection=u.map(function(e,t){return{key:t,label:e.label}}),new n({el:"#vue_poll_variants",store:l,render:function(e){return e(o)}});case 19:case"end":return e.stop()}},e)})))},"./app/assets/javascripts/pages/p-profiles/comments.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/turbolinks/dist/turbolinks.js"),r=s.n(n),a=s("./node_modules/urijs/src/URI.js"),i=s.n(a);pageLoad("profiles_comments",function(){return $("form.comments-search").on("submit",function(e){e.preventDefault();var t=$(e.currentTarget).find("input.search"),s=i()(t.data("search_url")).removeQuery("phrase").addQuery({phrase:t.val()});r.a.visit(s)})})},"./app/assets/javascripts/pages/p-profiles/edit.coffee":function(e,t,s){"use strict";s.r(t);var n,r,a,i=s("./app/assets/javascripts/views/styles/edit.js");pageLoad("profiles_edit",function(){if($(".edit-page.profile").exists()&&$(".b-shiki_editor").shikiEditor(),$(".edit-page.styles").exists()&&a(),$(".edit-page.list, .edit-page.misc").exists()&&r(),$(".edit-page.ignored_topics, .edit-page.ignored_users"))return n()}),a=function(){return new i.default(".b-edit_styles"),$("#user_preferences_body_width").on("change",function(){return $(document.body).removeClass("x1000").removeClass("x1200").addClass($(this).val())})},r=function(){return $(".profile-action .controls .b-js-link").on("click",function(){var e;return e=$(this).data("type"),$(this).closest(".controls").hide(),$(this).closest(".profile-action").find(".form."+e).show()}),$(".profile-action .cancel").on("click",function(){return $(this).closest(".profile-action").find(".controls").show(),$(this).closest(".profile-action").find(".form").hide()}),$(".profile-action a").on("ajax:success",function(){return $(this).closest(".profile-action").find(".cancel").click()}),$(".nickname-changes .controls .b-js-link").on("click",function(){return $(".nickname-changes .controls").hide(),$(".nickname-changes .form").show()}),$(".nickname-changes .cancel").on("click",function(){return $(".nickname-changes .controls").show(),$(".nickname-changes .form").hide()}),$(".nickname-changes a").on("ajax:success",function(){return $(".nickname-changes .cancel").click()})},n=function(){return $(".b-editable_grid .actions .b-js-link").on("ajax:before",function(){return $(this).hide(),$('<div class="ajax-loading vk-like"></div>').insertAfter(this)}).on("ajax:success",function(){return $(this).closest("tr").remove()}),$(".user_ids").completableVariant(),$(".user_ids").is(":appeared")&&$(".user_ids").focus(),$(".user_ids").on("keydown",function(e){if(10===e.keyCode||13===e.keyCode)return $(".b-form").submit()})}},"./app/assets/javascripts/pages/p-profiles/moderation.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./node_modules/@babel/runtime/regenerator/index.js"),n=s.n(t),r=s("./node_modules/delay/index.js"),a=s.n(r),i=s("./node_modules/turbolinks/dist/turbolinks.js"),o=s.n(i),c=s("./app/assets/javascripts/views/comments/ban_form.js"),u=s("./app/assets/javascripts/services/flash.js");function l(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function p(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){l(a,n,r,i,o,"next",e)}function o(e){l(a,n,r,i,o,"throw",e)}i(void 0)})}}pageLoad("profiles_moderation",function(){$(".b-form.new_ban").on("ajax:success",p(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u.a.info(e.t("frontend.pages.p_profiles.page_is_reloading")),t.next=3,a()(500);case 3:o.a.visit(document.location.href);case 4:case"end":return t.stop()}},t)}))),new c.default($(".b-form.new_ban")),$(".ban-time").livetime()})}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/pages/p-profiles/show.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./node_modules/moment/moment.js"),n=s.n(t),r=s("./app/assets/javascripts/helpers/mobile_detect.js");function a(e,t){return Math.round((t.getTime()-e.getTime())/864e5*10)/10}pageLoad("profiles_show",function(){$(".friend-action").on("ajax:success",function(){return $(".friend-action").toggle()}),$(".ignore-action").on("ajax:success",function(){return $(".ignore-action").toggle()}),$("h1.aliases").tipsy({gravity:Object(r.isMobile)()?"n":"w",html:!0,prependTo:document.body}),$(".activity .graph").empty().bar({before:function(e,t,s){if(e.forEach(function(e,t){return e.dates={from:new Date(1e3*e.name[0]),to:new Date(1e3*e.name[1])}}),t.interval=Math.round(a(e[0].dates.from,e[0].dates.to)),t.range=Math.round(a(e[0].dates.from,e[e.length-1].dates.to)),t.index_label=0,t.y_axis){s.addClass("y-axis");for(var n=[],r=1;r<=10;)n.push('<div class="ruler" style="top: '.concat(10*r,'%;"></div>')),r+=1;s.html(n.join(""))}},title:function(t){var s=p(t.value,e.t("frontend.pages.p_profiles.hour.one"),e.t("frontend.pages.p_profiles.hour.few"),e.t("frontend.pages.p_profiles.hour.many")),r="en"===window.LOCALE?"MMMM D":"D MMMM",i=n()(t.dates.from).format(r),o=n()(t.dates.to).format(r);if(i===o)return e.t("frontend.pages.p_profiles.label.short",{hours:t.value,hourWord:s,date:i});var c=a(t.dates.from,t.dates.to),u=c===Math.round(c)?p(t.value,e.t("frontend.pages.p_profiles.day.one"),e.t("frontend.pages.p_profiles.day.few"),e.t("frontend.pages.p_profiles.day.many")):e.t("frontend.pages.p_profiles.day.many");return e.t("frontend.pages.p_profiles.label.full",{hours:t.value,hourWord:s,fromDate:i,toDate:o,days:c,dayWord:u})},x_axis:function(e,t,s,r){var a;if(t<r.index_label)return"";var i=e.dates,o=i.from,c=i.to,u=e!==s.last()?o:c;return 0===t?(r.index_label=3,a=u.getFullYear()):r.prior.dates.from.getFullYear()!==u.getFullYear()?(a=u.getFullYear(),r.index_label=t+3):r.prior.dates.from.getMonth()!==u.getMonth()?(a=n()(u).format("MMM").capitalize(),r.index_label=t+3):r.range<=120&&(a=u.getDate(),r.index_label=t+2),r.prior=e,a||""},no_data:function(e){e.html('<p class="stat-sorry">'.concat(e.data("no_stat_text"),"</p>")).removeClass("bar").attr("id",!1)}})})}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/pages/p-profiles/videos.js":function(e,t){pageLoad("profiles_video_uploads",function(){$(".l-page").on("click",".b-log_entry.video .collapsed",function(){var e=$(this).parent().find(".player");e.data("html")&&e.html(e.data("html")).data({html:""})})})},"./app/assets/javascripts/pages/p-recommendations-index.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./node_modules/@babel/runtime/regenerator/index.js"),n=s.n(t),r=s("./node_modules/delay/index.js"),a=s.n(r),i=s("./node_modules/turbolinks/dist/turbolinks.js"),o=s.n(i),c=s("./app/assets/javascripts/services/ajax_cacher.js"),u=s("./app/assets/javascripts/helpers/in_new_tab.js"),l=s("./app/assets/javascripts/helpers/axios.js");function p(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function d(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){p(a,n,r,i,o,"next",e)}function o(e){p(a,n,r,i,o,"throw",e)}i(void 0)})}}pageLoad("recommendations_index","recommendations_favourites",d(n.a.mark(function t(){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!$("p.pending").exists()){t.next=7;break}return s=document.location.href,t.next=4,a()(5e3);case 4:if(s!==document.location.href){t.next=7;break}return o.a.visit(document.location.href),t.abrupt("return");case 7:$("body").on("mouseover",".b-catalog_entry",function(t){var s=t.currentTarget,n=$(s);if(window.SHIKI_USER.isSignedIn&&!n.hasClass("entry-ignored"))if(n.data("ignore_augmented"))n.data("ignore_button").show();else{var r=e.t("frontend.pages.p_recommendations_index.dont_recommend_franchise"),a=$("<span class='controls'>\n        <span class='delete mark-ignored' title='".concat(r,"'></span>\n      </span>")).appendTo(n.find(".image-cutter"));n.data({ignore_augmented:!0,ignore_button:a})}}),$("body").on("mouseout",".b-catalog_entry",function(e){var t=e.currentTarget,s=$(t).data("ignore_button");s&&s.hide()}),$("body").on("click",".entry-ignored",function(e){Object(u.a)(e)||e.preventDefault()}),$("body").on("click",".b-catalog_entry .mark-ignored",function(){var e=d(n.a.mark(function e(t){var s,r,a,i,o,u;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s=$(t.currentTarget).closest(".b-catalog_entry"),!s.find("a").first().attr("href").match(/(anime|manga)s\//)){e.next=15;break}return r=RegExp.$1,a=s.prop("id"),s.addClass("entry-ignored"),$(t.currentTarget).hide(),c.a.reset(),e.next=11,l.a.post("/recommendation_ignores",{target_type:r,target_id:a});case 11:i=e.sent,o=i.data,u=o.map(function(e){return".entry-".concat(e)}).join(","),$(u).addClass("entry-ignored");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return t.stop()}},t)})))}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/pages/p-reviews/_form.js.coffee":function(e,t){pageLoad("reviews_new","reviews_edit","reviews_create","reviews_update",function(){return $(".b-rate").rateable(),$(".b-shiki_editor.unprocessed").shikiEditor().on("preview:params",function(){return{body:$(this).view().$textarea.val(),target_id:$("#review_target_id").val(),target_type:$("#review_target_type").val()}})})},"./app/assets/javascripts/pages/p-statistics.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./node_modules/@babel/runtime/regenerator/index.js"),n=s.n(t);function r(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function a(e){return function(){var t=this,s=arguments;return new Promise(function(n,a){var i=e.apply(t,s);function o(e){r(i,n,a,o,c,"next",e)}function c(e){r(i,n,a,o,c,"throw",e)}o(void 0)})}}function i(t){var s=t.getOptions().colors;Object.merge(total.series[0],{dataLabels:{formatter:function(){return this.y>5?this.point.name:null},color:"white",distance:-30},size:"70%"}),Object.merge(total.series[1],{dataLabels:{formatter:function(){return this.y>20?"<b>".concat(this.point.name,"</b>:<b>").concat(this.y,"</b>"):null}},innerSize:"70%"}),total.series[0].data.forEach(function(e,t){return e.color=s[t]}),total.series[1].data.forEach(function(e,n){var r=n%3/20,a=parseInt(n/3);return e.color=t.Color(s[a]).brighten(r).get()}),c(t,"pie","total",total,"normal",e.t("frontend.statistics.number"),function(){return this.key.match(/^\d/)?e.t("frontend.statistics.anime_with_score",{count:this.y,score:this.key}):e.t("frontend.statistics.anime_of_type",{count:this.y,type:this.key})},{xAxis:null,plotOptions:{pie:{shadow:!1}}}),c(t,"area","by_kind",by_kind,"normal",e.t("frontend.statistics.number"),function(){return e.t("frontend.statistics.anime_in_year",{count:this.y,type:this.series.name,year:this.x})},{}),c(t,"area","by_studio",by_studio,"normal",e.t("frontend.statistics.number"),function(){return e.t("frontend.statistics.anime_with_rating_in_year",{count:this.y,rating:this.series.name,year:this.x})},{xAxis:{categories:by_studio.categories,labels:{step:1},title:{enabled:!1}}})}function o(t){$(".l-page").on("click",".by_genre .control",function(){var s=$(this).addClass("selected");s.siblings().removeClass("selected"),"by_genre_chart"in window&&by_genre_chart.destroy(),c(t,"area","by_genre",by_genre[s.data("kind")],"percent",e.t("frontend.statistics.share"),function(){return e.t("frontend.statistics.genres_share",{percent:t.numberFormat(this.percentage,2,"."),genre:this.series.name,year:this.x})},{yAxis:{max:100}})}),$(".l-page").on("click",".by_rating .control",function(){var s=$(this).addClass("selected");s.siblings().removeClass("selected"),"by_rating_chart"in window&&by_rating_chart.destroy(),c(t,"area","by_rating",by_rating[s.data("kind")],"percent",e.t("frontend.statistics.share"),function(){return e.t("frontend.statistics.ratings_share",{percent:t.numberFormat(this.percentage,2),rating:this.series.name,year:this.x})},{yAxis:{max:100}})})}pageLoad("statistics_index",a(n.a.mark(function e(){var t,r,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $("#image_placeholder").hide(),e.next=3,s.e("highcharts").then(s.t.bind(null,"./node_modules/highcharts/highcharts.js",7));case 3:return t=e.sent,e.next=6,s.e("highcharts").then(s.bind(null,"./app/assets/javascripts/vendor/highcharts_colors.js"));case 6:r=e.sent,a=r.colors,t.getOptions().colors.length=0,a.forEach(function(e){return t.getOptions().colors.push(e)}),i(t),o(t),$(".by_rating .control").first().trigger("click"),$(".by_genre .control").first().trigger("click");case 14:case"end":return e.stop()}},e)})));var c=function(e,t,s,n,r,a,i,o){var c={chart:{renderTo:s,type:t},title:{text:""},subtitle:{text:""},xAxis:{categories:n.categories,labels:{step:2},title:{enabled:!1}},yAxis:{title:{text:a},labels:{formatter:function(){return this.value}}},tooltip:{formatter:i,borderRadius:0,borderWidth:1,shadow:!1},plotOptions:{area:{stacking:r,lineColor:"#666666",lineWidth:1,shadow:!1,marker:{enabled:!1,lineWidth:1,lineColor:"#666666"}}},credits:{enabled:!1},legend:{borderRadius:0,borderWidth:0},series:n.series};window["".concat(s,"_chart")]=new e.Chart($.extend(!0,c,o||{}))}}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/pages/p-tests.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./node_modules/urijs/src/URI.js"),c=s.n(o);function u(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function l(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){u(a,n,r,i,o,"next",e)}function o(e){u(a,n,r,i,o,"throw",e)}i(void 0)})}}function p(){$("#link").val(document.location.href.replace(/\?.*/,"")+"?image_url="+$("#image_url").val()+"&image_border="+$("#image_border").val().replace("#","@"))}pageLoad(".tests",function(){$("#image_url").on("keypress",function(e){10!==e.keyCode&&13!==e.keyCode||$(this).trigger("change")}).on("blur change",function(){$(".b-achievement .c-image img").attr({src:this.value}),p()}).on("paste",l(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()();case 2:$(this).trigger("change");case 3:case"end":return e.stop()}},e,this)}))).trigger("change"),$("#image_border").on("keyup blur change",function(){$(".b-achievement .c-image .border").css({borderColor:this.value}),p()}).on("paste",l(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()();case 2:$(this).trigger("change");case 3:case"end":return e.stop()}},e,this)}))).trigger("change")}),pageLoad("tests_reset_styles_cache",function(){$(".b-form").on("submit",function(e){var t=e.currentTarget;t.action=new c.a(t.action).setQuery("url",$("input[name=url]",t).val()).href()})})},"./app/assets/javascripts/pages/p-tests/achievements_notification.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a);function o(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function c(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){o(a,n,r,i,c,"next",e)}function c(e){o(a,n,r,i,c,"throw",e)}i(void 0)})}}pageLoad("tests_achievements_notification",c(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(".b-button").on("click",function(e){var t=e.currentTarget,s=$(t),n=JSON.parse(s.prev().children("textarea").val());window.SHIKI_ACHIEVEMENTS_NOTIFIER.notify(n)}),e.next=3,i()();case 3:$(".b-button").click();case 4:case"end":return e.stop()}},e)})))},"./app/assets/javascripts/pages/p-tests/show.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./app/assets/javascripts/views/wall/view.js");function i(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function o(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function o(e){i(a,n,r,o,c,"next",e)}function c(e){i(a,n,r,o,c,"throw",e)}o(void 0)})}}function c(e){var t=$(".traffic-test").data("stats");$(".traffic-test").highcharts(u({series:[{name:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",pointInterval:864e5,pointStart:new Date(t.first().date).getTime(),data:t.map(function(e){return e.page_views}),visible:!1,color:e.getOptions().colors[3],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,e.getOptions().colors[3]],[1,e.Color(e.getOptions().colors[3]).setOpacity(0).get("rgba")]]}},{name:"\u0412\u0438\u0437\u0438\u0442\u044b",pointInterval:864e5,pointStart:new Date(t.first().date).getTime(),data:t.map(function(e){return e.visits}),visible:!1,color:e.getOptions().colors[1],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,e.getOptions().colors[1]],[1,e.Color(e.getOptions().colors[1]).setOpacity(0).get("rgba")]]}},{name:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u0438",pointInterval:864e5,pointStart:new Date(t.first().date).getTime(),data:t.map(function(e){return e.visitors}),color:e.getOptions().colors[0],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,e.getOptions().colors[0]],[1,e.Color(e.getOptions().colors[0]).setOpacity(0).get("rgba")]]}}]}))}pageLoad("tests_show",o(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return new a.default($(".images-test .shiki-wall")),e.next=3,s.e("highcharts").then(s.t.bind(null,"./node_modules/highcharts/highcharts.js",7));case 3:c(e.sent);case 5:case"end":return e.stop()}},e)})));var u=function(e){return Object.merge({chart:{zoomType:"x",type:"areaspline"},title:null,xAxis:{type:"datetime",title:null,maxZoom:12096e5,dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b",year:"%Y"}},yAxis:{title:null,gridLineColor:"#eaeaea",min:0},tooltip:{shared:!0},legend:{borderRadius:0,borderWidth:0},plotOptions:{areaspline:{lineWidth:1,fillOpacity:.5,marker:{enabled:!1},shadow:!1,states:{hover:{lineWidth:1}},threshold:null}},credits:!1},e,{deep:!0})}},"./app/assets/javascripts/pages/p-tests/vue.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n);function a(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function i(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var i=e.apply(t,s);function o(e){a(i,n,r,o,c,"next",e)}function c(e){a(i,n,r,o,c,"throw",e)}o(void 0)})}}pageLoad("tests_vue",i(r.a.mark(function e(){var t,n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e("vue").then(s.bind(null,"./app/assets/javascripts/vue/instance.js"));case 2:return t=e.sent,n=t.Vue,e.next=6,s.e(6).then(s.bind(null,"./app/assets/javascripts/vue/components/tests/test_1.vue"));case 6:a=e.sent,i=a.default,new n({el:"#vue_app",render:function(e){return e(i)}});case 9:case"end":return e.stop()}},e)})))},"./app/assets/javascripts/pages/p-topics/_form.js":function(e,t){pageLoad("topics_new","topics_edit","topics_create","topics_update",function(){var e=$(".b-form.edit_topic, .b-form.new_topic");if(e.length){var t=$("#topic_linked",e),s=$("#topic_linked_type",e),n=$(".topic-link",e),r=$("#topic_linked_type").val()||$("option",".topic-linked select.type").val();$(".topic-linked select.type").on("change",function(e){var n=e.currentTarget.value,r=n.toLowerCase();s.val(n),t.data("autocomplete",t.data("".concat(r,"-autocomplete"))).attr("placeholder",t.data("".concat(r,"-placeholder"))).trigger("flushCache")}).val(r).trigger("change"),$(".b-shiki_editor",e).shikiEditor(),$("#topic_forum_id",e).trigger("change"),$(".topic-linked .remove",e).on("click",function(s){s.preventDefault(),n.find("a").remove(),$("#topic_linked_id",e).val(""),$("#topic_linked",e).val(""),t.show(),$(".topic-linked select.type").show(),n.hide()}),t.completable().on("autocomplete:success",function(r,a){var i=r.currentTarget,o="".concat(s.val().toLowerCase(),"s").replace("ranobes","ranobe");i.value="",$("#topic_linked_id",e).val(a.id),$("#topic_linked_type",e).val(s.val()),n.find("a").remove(),n.prepend("\n        <a href='/".concat(o,"/").concat(a.id,"' class='bubbled b-link'>\n          ").concat(a.name,"\n        </a>\n      ")),n.process(),t.hide(),$(".topic-linked select.type").hide(),$(".topic-link",e).show()}).on("keypress",function(e){10!==e.keyCode&&13!==e.keyCode||e.preventDefault()})}})},"./app/assets/javascripts/pages/p-topics/_news_form.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./app/assets/javascripts/helpers/axios.js"),i=s("./app/assets/javascripts/views/wall/view.js");function o(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function c(e,t){e.remove(),u(t)}function u(e){e.find("img").css({width:"",height:""}),new i.default(e)}function l(e,t,s){var n=$(".form",t),r=$(".remove",t),a=$(".errors",t);if(t.removeClass("b-ajax"),e.errors)a.show().html(e.errors.join(", "));else{a.hide(),t.data({video_id:e.video_id}),n.hide(),r.removeClass("hidden");var i=$(e.content).prependTo(s);u(s),r.one("click",function(e){e.preventDefault(),t.data({video_id:null}),n.show(),r.addClass("hidden"),c(i,s)})}}function p(){var e;return e=r.a.mark(function e(){var t,n,a,i,o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e("vue").then(s.bind(null,"./app/assets/javascripts/vue/instance.js"));case 2:return t=e.sent,n=t.Vue,e.next=6,Promise.all([s.e("vue-tags-input.js"),s.e(1)]).then(s.bind(null,"./app/assets/javascripts/vue/components/tags_input.vue"));case 6:a=e.sent,i=a.default,o=$("#vue_tags_input"),(c=$(".b-input.topic_tags")).hide(),new n({el:"#vue_tags_input",render:function(e){return e(i,{props:{label:c.find("label").text(),hint:c.find(".hint").html(),input:c.find("input")[0],value:o.data("value"),autocompleteBasic:o.data("autocomplete_basic"),autocompleteOther:o.data("autocomplete_other"),tagsLimit:4,isDowncase:!0}})}});case 12:case"end":return e.stop()}},e)}),(p=function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){o(a,n,r,i,c,"next",e)}function c(e){o(a,n,r,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}pageLoad("topics_new","topics_edit","topics_create","topics_update",function(){var e=$(".b-form.edit_topic, .b-form.new_topic"),t=$("#topic_linked_id",e),s=$("#topic_linked_type",e),n=$(".topic-posters .b-dropzone",e),r=n.find(".b-shiki_wall");n.shikiFile({progress:n.find(".b-upload_progress"),input:n.find("input[type=file]")}).on("upload:success",function(e,t){var s=$("<a href='".concat(t.url,"' rel='new-wall' class='b-image b-link' id='").concat(t.id,"'><img src='").concat(t.preview,"' class=''> <div class='mobile-edit'></div><div class='controls'> <div class='delete'></div><div class='confirm'></div><div class='cancel'></div></div></a>")).appendTo(r);$(".confirm",s).on("click",function(e){e.preventDefault(),c(s,r)}),u(r)}),$(".b-image .confirm",n).on("click",function(e){e.preventDefault(),c($(e.target).closest(".b-image").remove(),r)});var i=$(".topic-video",e);i.data("video_id")&&l({video_id:i.data("video_id"),content:i.data("content")},i,r);var o=$(".form",i),d=$(".attach",o);d.on("click",function(){var e=function(e,t){return"Anime"===e.val()?t.val():null}(s,t),n=d.data("url").replace("ANIME_ID",e||0),c={video:{anime_id:e,url:$("#topic_video_url",o).val(),kind:$("#topic_video_kind",o).val(),name:$("#topic_video_name",o).val()}};i.addClass("b-ajax"),a.a.post(n,c).then(function(e){return l(e.data,i,r)})}),e.on("submit",function(){var t=$(".attachments-hidden",e).empty();$(".b-dropzone a",e).map(function(e,t){return $(t).attr("id")}).each(function(e,s){return t.append('<input type="hidden" name="topic[wall_ids][]" value="'.concat(s,'" />'))});var s=i.data("video_id");s&&t.append('<input type="hidden" name="topic[video_id]" value="'.concat(s,'" />'))}),$("#topic_tags").length&&function(){p.apply(this,arguments)}()})},"./app/assets/javascripts/pages/p-topics/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/animes/menu.js");pageLoad("topics_index","topics_show","topics_new","topics_edit","topics_create","topics_update",function(){$(".b-animes-menu").exists()&&new n.default(".b-animes-menu")}),pageLoad("topics_index",function(){var e=$("form.edit_user_preferences");e.on("change","input",function(){return e.submit()}).on("ajax:before",function(){$(".ajax-loading",e).show(),$(".reload",e).hide()}).on("ajax:complete",function(){$(".ajax-loading",e).hide(),$(".reload",e).show()})})},"./app/assets/javascripts/pages/p-topics/show.js":function(e,t){pageLoad("topics_show",function(){var e=$(".body-inner .review-stars");if(e.length){var t=$(".body-inner img.b-poster").first();t.imagesLoaded(function(){var s=t.offset();s&&s.top===e.offset().top+e.outerHeight()&&t.addClass("review-poster")})}})},"./app/assets/javascripts/pages/p-translations.js.coffee":function(e,t,s){var n;n=s("./node_modules/packery/js/packery.js"),pageLoad("translations_show",function(){return new n($(".translations")[0],{itemSelector:".animes"})})},"./app/assets/javascripts/pages/p-user_rates/index.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./node_modules/@babel/runtime/regenerator/index.js"),n=s.n(t),r=s("./node_modules/delay/index.js"),a=s.n(r),i=s("./node_modules/turbolinks/dist/turbolinks.js"),o=s.n(i),c=s("./app/assets/javascripts/helpers/tooltip_options.coffee"),u=s("./app/assets/javascripts/helpers/mobile_detect.js"),l=s("./app/assets/javascripts/helpers/axios.js"),d=s("./app/assets/javascripts/views/application/shiki_modal.js"),f=s("./app/assets/javascripts/views/animes/catalog_filters.coffee"),h=s("./app/assets/javascripts/services/flash.js");function m(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function v(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){m(a,n,r,i,o,"next",e)}function o(e){m(a,n,r,i,o,"throw",e)}i(void 0)})}}var _=[],g=null;function y(){clearInterval(g),g=null;var e=$(".b-collection_search input").val().toLowerCase();_.forEach(function(t){for(var s=!1,n=0;n<t.entries.length;){var r=t.entries[n];-1!==r.title.indexOf(e)||-1!==r.text.indexOf(e)?(s=!0,""!==r.display&&(r.display="",r.node.style.display="")):"none"!==r.display&&(r.display="none",r.node.style.display="none"),n+=1}t.toggable&&(t.$container.toggle(s),t.$nothingFound.toggle(!s))}),$.force_appear()}function j(){_=$(".list-lines, .list-posters").toArray().map(function(e){var t=$(e),s=t.next(".nothing-found"),n=t.find(".user_rate").toArray().map(function(e){var t=$(e);return{node:e,target_id:t.data("target_id"),title:String(t.data("title")).toLowerCase(),text:String(t.data("text")||"").toLowerCase(),display:e.style.display}});return{$container:t,$nothingFound:s,entries:n,toggable:!t.next(".b-postloader").length}})}function b(t){$(".b-postloader",t).on("postloader:before",w),$(".l-content").on("postloader:success",k),$("tr.editable",t).on("click",function(e){var t=$(e.currentTarget).next();t.is(".edit-form")&&(e.stopImmediatePropagation(),t.find(".cancel").click())}),$("tr.editable",t).on("ajax:success",function(t,s){var r=t.currentTarget,i=$("tr.edit-form"),o=$(r),c=$("<tr class='edit-form'>\n      <td colspan='".concat($(r).children("td").length,"'>").concat(s,"</td>\n    </tr>")).insertAfter(r),u=c.find("form");i.exists()?i.remove():u.animatedExpand(),$(".cancel",c).on("click",function(){u.hide(),c.remove()}),u.on("ajax:before",function(){return u.addClass("b-ajax")}),u.on("ajax:success",function(t,s){if(h.a.notice(e.t("frontend.pages.p_user_rates.changes_saved")),$(".cancel",c).click(),$(".current-value[data-field=score]",o).html(String(s.score||"0").replace(/^0$/,"\u2013")),$(".current-value[data-field=chapters]",o).html(s.chapters),$(".current-value[data-field=volumes]",o).html(s.volumes),$(".current-value[data-field=episodes]",o).html(s.episodes),$(".rate-text",o).html(s.text_html?"<div>".concat(s.text_html,"</div>"):""),s.rewatches>0){var n=s.rewatches,r="Anime"===s.target_type?"rewatch":"reread",a=p(n,e.t("frontend.pages.p_user_rates.".concat(r,".one")),e.t("frontend.pages.p_user_rates.".concat(r,".few")),e.t("frontend.pages.p_user_rates.".concat(r,".many")));$(".rewatches",o).html("".concat(n," ").concat(a))}else $(".rewatches",o).html("");return x(s)}),$(".remove",u).on("ajax:success",function(){var e=v(n.a.mark(function e(t){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),$(".cancel",c).click(),e.next=4,a()(250);case 4:o.remove();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}),$("tr.unprocessed",t).removeClass("unprocessed").find("a.tooltipped").tooltip(Object.add(c.b,{offset:[-95,10],position:"bottom right",opacity:1})),$(".list-lines .hoverable").off().off().hover(function(t){var s=t.currentTarget;if(!Object(u.isMobile)()){var r=$(".current-value",s),a=$(".new-value",s);if(!a.length){var i=parseInt(r.text(),10);i||0===i||(i=0);var o="score"!==r.data("field")?'<span class="new-value"><input type="text" class="input"/><span class="item-add"></span></span>':'<span class="new-value"><input type="text" class="input"/></span>';(function(t){$("input",t).off().on("blur",function(t){var s=t.currentTarget,n=s,r=$(n);if(r.parent().parent().trigger("mouseleave"),n.value<0&&(n.value=0),(parseInt(n.value,10)||0)!==(parseInt(r.data("counter"),10)||0)){var a,i,o,c=r.parent().parent().find(".current-value"),u=c.html();r.data("counter",n.value),c.html("0"===r.data("counter")?"&ndash;":r.data("counter")),l.a.patch(r.data("action"),{user_rate:(a={},i=r.data("field"),o=n.value,i in a?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a)}).catch(function(){c.html(u),h.a.error(e.t("frontend.pages.p_user_rates.error_occurred"))})}}).on("mousewheel",function(e){var t=e.currentTarget,s=$(t);s.is(":focus")&&(e.preventDefault(),e.originalEvent.wheelDelta&&e.originalEvent.wheelDelta>0?t.value=Math.min(parseInt(t.value,10)+1||0,parseInt(s.data("max"),10)):e.originalEvent.wheelDelta&&(t.value=Math.max(parseInt(t.value,10)-1||0,parseInt(s.data("min"),10))))}).on("keydown",function(e){var t=e.currentTarget,s=e.keyCode,n=t,r=$(n);38===s&&(n.value=Math.min(parseInt(n.value,10)+1||0,parseInt(r.data("max"),10))),40===s&&(n.value=Math.max(parseInt(n.value,10)-1||0,parseInt(r.data("min"),10))),27===s&&(n.value=r.data("counter"),r.blur())}).on("keypress",function(e){13===e.keyCode&&($(e.currentTarget).blur(),e.stopPropagation())}),$(".item-add",t).on("click",(s=v(n.a.mark(function e(t){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=$(t.currentTarget).prev(),t.stopPropagation(),t.preventDefault(),s.val(parseInt(s.val(),10)+1).blur(),s.closest("td").trigger("mouseover");case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}));var s})(a=$(o).children("input").val(i).data({counter:i,max:r.data("max")||999,min:r.data("min")}).data({field:r.data("field"),action:r.closest("tr").data("rate_url")}).parent().insertAfter(r))}a.show(),r.hide(),$(".misc-value",s).hide()}},function(e){var t=e.currentTarget;Object(u.isMobile)()||$(".new-value input",t).is(":focus")||($(".new-value",t).hide(),$(".current-value",t).show(),$(".misc-value",t).show())}).on("click",function(e){Object(u.isMobile)()||e.target&&"item-add"===e.target.className||($(e.currentTarget).trigger("mouseenter"),$("input",e.currentTarget).focus().select(),e.stopPropagation(),e.preventDefault())})}function w(e,t){var s=t.find("header:first"),n=$("header.".concat(s.attr("class")));if(n.exists()){var r=s.next().children();r.detach().process().appendTo(n.next()),b(r),s.next().remove(),s.remove()}b(t)}function k(){j(),Object.isEmpty($(".b-collection_search input").val())||y(),$.force_appear()}function x(e){_.forEach(function(t){var s=t.entries.find(function(t){return t.target_id===e.target_id});s&&(s.text=e.text)})}pageLoad("user_rates_index",function(){b($(".l-content")),j(),$("#scores, #types, #ratings").empty().bar({no_data:function(t){var s=e.t("frontend.pages.p_user_rates.insufficient_data");return t.html("<p class='b-nothing_here'>".concat(s,"</p>"))}}),$(".b-collection_search input").on("focus",function(){_.length||j()}),$(".b-collection_search input").on("focus",function(){return $(".collapsed").each(function(e,t){"block"===t.style.display&&$(t).trigger("click")})}),$(".b-collection_search input").on("keyup",function(e){var t=e.keyCode;91!==t&&18!==t&&16!==t&&17!==t&&(g&&(clearInterval(g),g=null),g=setInterval(y,350))}),$(".order-control").on("click",function(e){var t=e.currentTarget,s=$(t).data("order");$(".orders.anime-params li.order-by-".concat(s)).trigger("click")}),$(".list-groups").on("ajax:before",".edit-user_rate",function(e){var t=e.currentTarget;$(t).closest(".user_rate").addClass("b-ajax")}),$(".list-groups").on("ajax:success",".edit-user_rate",function(e,t){var s=e.currentTarget,n=$(s).closest(".user_rate");n.removeClass("b-ajax");var r=$(t).process(),a=new d.default(r);$(".remove",r).on("ajax:success",function(){return n.remove()}),r.on("ajax:success",function(e,t){n.children(".text").html(t.text_html||"").toggleClass("hidden",Object.isEmpty(t.text_html)),x(t),a.close()})});var t=document.location.pathname.replace(/(\/list\/(?:anime|manga))(\/.+)?/,"$1");new f.default(t,document.location.href,function(e){o.a.visit(e,!0),$(".l-page.menu-expanded").exists()&&$(document).one("page:change",function(){return $(".l-page").addClass("menu-expanded")})})})}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/pages/p-userlist_comparer.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/search/collection.js"),r=s("./app/assets/javascripts/helpers/tooltip_options.coffee");pageLoad("userlist_comparer_show",function(){new n.default(".b-collection_search"),$("tr.unprocessed").removeClass("unprocessed").find("a.tooltipped").tooltip(Object.add(r.b,{offset:[-95,10],position:"bottom right",opacity:1}))})},"./app/assets/javascripts/pages/p-users/similar.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./node_modules/turbolinks/dist/turbolinks.js"),c=s.n(o);function u(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function l(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){u(a,n,r,i,o,"next",e)}function o(e){u(a,n,r,i,o,"throw",e)}i(void 0)})}}pageLoad("users_similar",l(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!$("p.pending").exists()){e.next=5;break}return t=document.location.href,e.next=4,i()(5e3);case 4:t===document.location.href&&c.a.visit(document.location.href,!0);case 5:case"end":return e.stop()}},e)})))},"./app/assets/javascripts/services/achievements_notifier.js":function(e,t,s){"use strict";s.d(t,"a",function(){return p});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./app/assets/javascripts/helpers/jst.js"),i=s("./node_modules/delay/index.js"),o=s.n(i);function c(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function u(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){c(a,n,r,i,o,"next",e)}function o(e){c(a,n,r,i,o,"throw",e)}i(void 0)})}}function l(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=null,this.achievementsToNotify=[],$(document).on("faye:achievements",function(e,s){return t.notify(s.achievements)})}var t,s,n;return t=e,(s=[{key:"notify",value:function(e){var t=this;e.length>7||e.forEach(function(){var e=u(r.a.mark(function e(s,n){var a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>0)){e.next=3;break}return e.next=3,o()(750*n);case 3:return a=null,i=$(t._render(s)).addClass("appearing").appendTo(t._$container()).on("click",function(){var e=u(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("A"!==t.target.tagName){e.next=3;break}return e.abrupt("return");case 3:if(!i.hasClass("removing")){e.next=5;break}return e.abrupt("return");case 5:return i.addClass("removing"),e.next=8,o()(1e3);case 8:a&&i.remove();case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).on("mouseover",function(){a&&(clearTimeout(a),i.removeClass("removing"),a=null)}).on("mouseleave",function(){a=setTimeout(function(){return i.click()},5e3)}),e.next=7,o()();case 7:i.removeClass("appearing"),a=setTimeout(function(){return i.click()},3e4);case 9:case"end":return e.stop()}},e)}));return function(t,s){return e.apply(this,arguments)}}())}},{key:"_$container",value:function(){return this.$container||(this.$container=$('<div class="b-achievements_notifier"></div>'),$(document.body).append(this.$container)),this.$container}},{key:"_render",value:function(e,t){return a.a["achievements/notifier"]({achievement:e,event:t})}}])&&l(t.prototype,s),n&&l(t,n),e}()},"./app/assets/javascripts/services/ajax_cacher.js":function(e,t,s){"use strict";var n=s("./app/assets/javascripts/helpers/axios.js"),r={},a=[],i=300;t.a={fetch:function(e){if(r[e])return r[e];var t=n.a.get(e).catch(function(t){var s=t.response;return delete r[e],{status:s.status}});return r[e]=t,function(e,t){for(a.includes(e)&&(a=a.subtract(e)),a.push(e);!t&&a.length>i;){var s=a.shift();delete r[s]}}(e),t}}},"./app/assets/javascripts/services/comments/track_comment.coffee":function(e,t,s){var n;n=s("./app/assets/javascripts/helpers/with.js").default,e.exports=function(){function e(e,t){n(this._selector(e),t).data({model:e})}return e.prototype._selector=function(e){return".b-comment#"+e.id},e}()},"./app/assets/javascripts/services/comments/tracker.coffee":function(e,t,s){var n;n=s("./app/assets/javascripts/services/comments/track_comment.coffee"),e.exports=function(){function e(){}return e.track=function(e,t){if(!Object.isEmpty(null!=e?e.comments:void 0))return e.comments.forEach(function(e){return new n(e,t)}),e.comments=null},e}()},"./app/assets/javascripts/services/comments_notifier.js":function(e,t,s){"use strict";s.d(t,"a",function(){return l});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./app/assets/javascripts/helpers/jst.js");function c(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function u(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=null,this.currentCounter=0,this.maxTop=48,this.blockTop=0,$(document).on("turbolinks:before-cache",function(){return t._cleanup()}),$(document).on("appear",function(e,s,n){return t._appear(e,s,n)}),$(document).on("faye:added",function(){return t._incrementCounter()}),$(document).on("turbolinks:load faye:loaded ajax:success postloader:success",function(){return t._refresh()}),$(document).on("disappear",function(e){var s=e.target;return t._decrementCounter(s)}),$(document).on("reappear",function(){return t._incrementCounter()}),this._refresh(),$(window).scroll(function(){t.$container&&!t.isStickyMenu&&(t.scroll=$(window).scrollTop(),(t.scroll<=t.maxTop||t.scroll>t.maxTop&&0!==t.blockTop)&&t._move())})}var t,s,n,a,l;return t=e,(s=[{key:"_$container",value:function(){return this.$container||(this.$container=$(this._render()).appendTo(document.body).on("click",function(){var e=$("".concat("div.b-appear_marker.active",", ").concat(".faye-loader")).first();$.scrollTo(e)}),this.scroll=$(window).scrollTop()),this.$container}},{key:"_render",value:function(){return o.a["comments/notifier"]()}},{key:"_cleanup",value:function(){this.$container&&(this.$container.remove(),this.$container=null)}},{key:"_refresh",value:(a=r.a.mark(function e(){var t,s,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()();case 2:this.scroll=$(window).scrollTop(),this.isStickyMenu="sticky"===$(".l-top_menu-v2").css("position"),t=$("div.b-appear_marker.active"),s=$(".faye-loader"),n=t.length,s.each(function(){n+=$(this).data("ids").length}),this._update(n);case 9:case"end":return e.stop()}},e,this)}),l=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=a.apply(e,t);function i(e){c(r,s,n,i,o,"next",e)}function o(e){c(r,s,n,i,o,"throw",e)}i(void 0)})},function(){return l.apply(this,arguments)})},{key:"_update",value:function(e){this.currentCounter=e,e>0?this._$container().show().html(this.currentCounter):this.$container&&this._$container().hide()}},{key:"_appear",value:function(e,t,s){var n=t.filter("".concat("div.b-appear_marker.active",", ").concat(".faye-loader")).not(function(){return $(this).data("disabled")});this._update(this.currentCounter-n.length)}},{key:"_decrementCounter",value:function(e){e.attributes["data-disabled"]&&"true"===e.attributes["data-disabled"].value||this._update(this.currentCounter-1)}},{key:"_incrementCounter",value:function(){this._update(this.currentCounter+1)}},{key:"_move",value:function(){this.blockTop=[0,this.maxTop-this.scroll].max(),this._$container().css({top:this.blockTop})}}])&&u(t.prototype,s),n&&u(t,n),e}()},"./app/assets/javascripts/services/faye_loader.coffee":function(e,t,s){"use strict";var n=s("./node_modules/faye/src/faye_browser.js"),r=s.n(n),a=s("./node_modules/js-cookie/src/js.cookie.js"),i=s.n(a),o=function(e,t){return function(){return e.apply(t,arguments)}};s("./node_modules/jquery.idle/vanilla.idle.js"),t.a=function(){var e,t;function s(){var s;this._apply=o(this._apply,this),this.client=null,this.subscriptions={},this._apply(),$(document).on(t.join(" "),this._apply),idle({onIdle:(s=this,function(){if(s.client)return console.log("faye disconnect on idle"),s._disconnect()}),onActive:function(e){return function(){if(!e.client)return console.log("faye connect on active"),e._connect(),e._apply()}}(this),idle:e}).start()}return t=["turbolinks:load","ajax:success","postloader:success"],e=6e5,s.prototype.id=function(){var e,t;return null!=(e=this.client)&&null!=(t=e._dispatcher)?t.clientId:void 0},s.prototype._apply=function(){var e,t;return(e=$(".b-forum")).length||(e=$(".b-topic")),this.client||!e.length&&!window.FAYE_CHANNEL||this._connect(),t={},window.FAYE_CHANNEL&&(t[window.FAYE_CHANNEL]=$(document.body)),e.each(function(e,s){var n;if(!1!==(n=$(s).data("faye"))&&Object.isEmpty(n)&&console.warn("no faye channels found for",s),n)return n.forEach(function(e){return t["/"+e]=$(s)})}),this._unsubscribe(t),this._update(t),this._subscribe(t)},s.prototype._connect=function(){if("development"===ENV?":9292":"","development"===ENV?location.hostname:"faye."+location.hostname,this.client=new r.a.Client(window.FAYE_URL,{timeout:300,retry:5}),i.a.get("faye-disable-websocket"))return this.client.disable("websocket")},s.prototype._disconnect=function(){return this.client.disconnect(),this.client=null,this.subscriptions={}},s.prototype._unsubscribe=function(e){var t,s;return t=Object.keys(e),Object.keys(this.subscriptions).subtract(t).forEach((s=this,function(e){return s.client.unsubscribe(e),delete s.subscriptions[e],console.log("faye unsubscribed "+e)}))},s.prototype._update=function(e){return Object.keys(e).intersect(Object.keys(this.subscriptions)).forEach((t=this,function(s){return t.subscriptions[s].node=e[s]}));var t},s.prototype._subscribe=function(e){return Object.keys(e).subtract(Object.keys(this.subscriptions)).forEach((t=this,function(s){var n;return n=t.client.subscribe(s,function(e){if(console.log(["faye:received",s,e]),e.publisher_faye_id!==t.id())return t.subscriptions[s].node.trigger("faye:"+e.event,e)}),t.subscriptions[s]={node:e[s],channel:n},console.log("faye subscribed "+s)}));var t},s}()},"./app/assets/javascripts/services/flash.js":function(e,t,s){"use strict";var n=s("./node_modules/toastr/toastr.js"),r=s.n(n);r.a.options.progressBar=!0,r.a.options.closeDuration=250,r.a.options.timeOut=3e3,t.a={flash:function(e){"alert"in e||"error"in e?r.a.error(e.alert||e.error):"info"in e?r.a.info(e.info):r.a.success(e.notice)},error:function(e){e&&r.a.error(e)},info:function(e){e&&r.a.info(e)},notice:function(e){e&&r.a.success(e)}}},"./app/assets/javascripts/services/topics/track_topic.coffee":function(e,t,s){var n;n=s("./app/assets/javascripts/helpers/with.js").default,e.exports=function(){function e(e,t){n(this._selector(e),t).data({model:e})}return e.prototype._selector=function(e){return".b-topic#"+e.id},e}()},"./app/assets/javascripts/services/topics/tracker.coffee":function(e,t,s){var n;n=s("./app/assets/javascripts/services/topics/track_topic.coffee"),e.exports=function(){function e(){}return e.track=function(e,t){if(!Object.isEmpty(null!=e?e.topics:void 0))return e.topics.forEach(function(e){return new n(e,t)}),e.topics=null},e}()},"./app/assets/javascripts/services/user_rates/tracker.coffee":function(e,t,s){"use strict";var n;n=s("./app/assets/javascripts/helpers/with.js").default;var r,a=function(){function e(e,t){n(this._selector(e),t).data({model:e}).addClass(e.status)}return e.prototype._selector=function(e){return".c-"+e.target_type.toLowerCase()+".entry-"+e.target_id},e}();r=s("./app/assets/javascripts/helpers/with.js").default;var i=function(){function e(e,t){r(this._selector(e),t).data({model:e})}return e.prototype._selector=function(e){return".b-user_rate."+e.target_type.toLowerCase()+"-"+e.target_id},e}(),o={}.hasOwnProperty,c=function(e){function t(e,t){$(this._selector(e)).each(function(){var t,s;if((s=(t=$(this)).data("model"))&&t.removeClass(s.status),t.data({model:e}),e.id)return t.addClass(e.status)})}return function(e,t){for(var s in t)o.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,a),t}(),u={}.hasOwnProperty,l=function(e){function t(e,t){$(this._selector(e)).each(function(){return $(this).view().update(e)})}return function(e,t){for(var s in t)u.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,i),t}();t.a=function(){function e(){}return e.track=function(e,t){var s,n;if(!Object.isEmpty(null!=e?e.user_rates:void 0))return null!=(s=e.user_rates.catalog_entry)&&s.forEach(function(e){return new a(e,t)}),null!=(n=e.user_rates.user_rate)&&n.forEach(function(e){return new i(e,t)}),e.user_rates=null},e.update=function(e){return new c(e),new l(e)},e}()},"./app/assets/javascripts/templates sync recursive ^\\.\\/.*$":function(e,t,s){var n={"./achievements/notifier":"./app/assets/javascripts/templates/achievements/notifier.pug","./achievements/notifier.pug":"./app/assets/javascripts/templates/achievements/notifier.pug","./comments/notifier":"./app/assets/javascripts/templates/comments/notifier.pug","./comments/notifier.pug":"./app/assets/javascripts/templates/comments/notifier.pug","./images/image":"./app/assets/javascripts/templates/images/image.pug","./images/image.pug":"./app/assets/javascripts/templates/images/image.pug","./polls/poll":"./app/assets/javascripts/templates/polls/poll.pug","./polls/poll.pug":"./app/assets/javascripts/templates/polls/poll.pug","./search/nothing_found":"./app/assets/javascripts/templates/search/nothing_found.pug","./search/nothing_found.pug":"./app/assets/javascripts/templates/search/nothing_found.pug","./search/options":"./app/assets/javascripts/templates/search/options.pug","./search/options.pug":"./app/assets/javascripts/templates/search/options.pug","./user_rates/button":"./app/assets/javascripts/templates/user_rates/button.pug","./user_rates/button.pug":"./app/assets/javascripts/templates/user_rates/button.pug","./user_rates/extended":"./app/assets/javascripts/templates/user_rates/extended.pug","./user_rates/extended.pug":"./app/assets/javascripts/templates/user_rates/extended.pug","./user_rates/score":"./app/assets/javascripts/templates/user_rates/score.pug","./user_rates/score.pug":"./app/assets/javascripts/templates/user_rates/score.pug"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="./app/assets/javascripts/templates sync recursive ^\\.\\/.*$"},"./app/assets/javascripts/templates/achievements/notifier.pug":function(e,t,s){(function(t){var n=s("./node_modules/pug-runtime/index.js");e.exports=function(e){var s,r="",a=e||{};return function(e,t,a){r=r+"<div"+n.attr("class",n.classes(["achievement",t.event],[!1,!0]),!1,!0)+'>\x3c!-- es5 only in pug. also only one root node--\x3e<div class="content"><div class="title"><a'+n.attr("href",a.SHIKI_USER.url+"/achievements",!0,!0)+">"+n.escape(null==(s=e.t("frontend.achievements.title."+t.event))?"":s)+'</a></div><div class="name"><div class="icon"></div><a'+n.attr("href","/achievements/"+t.neko_id,!0,!0)+">"+n.escape(null==(s=t.label)?"":s)+"</a>",t.level&&(r=r+'<span class="level">\u0443\u0440. '+n.escape(null==(s=t.level)?"":s)+"</span>"),r=r+'</div></div><div class="image"><img'+n.attr("src",t.image,!0,!0)+"></div></div>"}.call(this,"I18n"in a?a.I18n:"undefined"!==typeof t?t:void 0,"achievement"in a?a.achievement:"undefined"!==typeof achievement?achievement:void 0,"window"in a?a.window:"undefined"!==typeof window?window:void 0),r}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/templates/comments/notifier.pug":function(e,t,s){(function(t){var n=s("./node_modules/pug-runtime/index.js");e.exports=function(e){var s="",r=e||{};return function(e){s=s+'<div class="b-comments-notifier" style="display: none;"'+n.attr("title",e.t("frontend.lib.comments_notifier.number_of_unread_comments"),!0,!0)+">\x3c!-- es5 only in pug. also only one root node--\x3e</div>"}.call(this,"I18n"in r?r.I18n:"undefined"!==typeof t?t:void 0),s}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/templates/images/image.pug":function(e,t,s){(function(t){var n=s("./node_modules/pug-runtime/index.js");e.exports=function(e){var s="",r=e||{};return function(e,t,r,a){s=s+'<a class="b-image"'+n.attr("href",r.original_url,!0,!0)+n.attr("id",r.id,!0,!0)+n.attr("rel",a,!0,!0)+n.attr("data-user_id",r.user_id,!0,!0)+n.attr("data-tags",r.tags,!0,!0)+">\x3c!-- es5 only in pug. also only one root node--\x3e",t&&(s=s+'<div class="mobile-edit"></div><div class="controls"><div class="delete"'+n.attr("title",e.t("frontend.images.delete"),!0,!0)+'></div><div class="confirm"'+n.attr("title",e.t("frontend.images.confirm"),!0,!0)+n.attr("data-action",t,!0,!0)+' data-method="delete" data-remote="true" data-type="json"></div><div class="cancel"'+n.attr("title",e.t("frontend.images.cancel"),!0,!0)+"></div></div>"),s=s+"<img"+n.attr("src",r.preview_url,!0,!0)+"></a>"}.call(this,"I18n"in r?r.I18n:"undefined"!==typeof t?t:void 0,"destroy_url"in r?r.destroy_url:"undefined"!==typeof destroy_url?destroy_url:void 0,"image"in r?r.image:"undefined"!==typeof image?image:void 0,"rel"in r?r.rel:"undefined"!==typeof rel?rel:void 0),s}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/templates/polls/poll.pug":function(e,t,s){(function(t){var n=s("./node_modules/pug-runtime/index.js");e.exports=function(e){var s,r="",a=e||{};return function(e,t,a,i,o){r=r+'<div>\x3c!-- es5 only in pug--\x3e<div class="b-poll"><div class="poll"><div class="name">'+n.escape(null==(s=o.name)?"":s)+'</div><div class="text">'+(null==(s=o.text_html)?"":s)+'</div></div><div class="poll-variants">',function(){var e=o.variants;if("number"==typeof e.length)for(var c=0,u=e.length;c<u;c++){var l=e[c];i?r=r+'<div class="poll-variant pending"><label class="b-radio"><input'+n.attr("name","poll_"+o.id,!0,!0)+' type="radio"'+n.attr("value",l.id,!0,!0)+'><div class="radio-label">'+n.escape(null==(s=l.label)?"":s)+"</div></label></div>":(r=r+'<div class="poll-variant result"><div class="votes-total">'+n.escape(null==(s=l.votes_total)?"":s)+'</div><div class="votes-percent">'+n.escape(null==(s=a(l))?"":s)+"%</div><label>"+n.escape(null==(s=l.label)?"":s),o.vote&&o.vote.variant_id==l.id&&(r+='<div class="voted-for">\u2713</div>'),r=r+'</label><div class="bar simple horizontal"><div class="line"><div'+(n.attr("class",n.classes(["bar",t(l)],[!1,!0]),!1,!0)+n.attr("style",n.style("width: "+a(l)+"%"),!0,!0))+"></div></div></div></div>")}else for(var c in u=0,e)u++,l=e[c],i?r=r+'<div class="poll-variant pending"><label class="b-radio"><input'+n.attr("name","poll_"+o.id,!0,!0)+' type="radio"'+n.attr("value",l.id,!0,!0)+'><div class="radio-label">'+n.escape(null==(s=l.label)?"":s)+"</div></label></div>":(r=r+'<div class="poll-variant result"><div class="votes-total">'+n.escape(null==(s=l.votes_total)?"":s)+'</div><div class="votes-percent">'+n.escape(null==(s=a(l))?"":s)+"%</div><label>"+n.escape(null==(s=l.label)?"":s),o.vote&&o.vote.variant_id==l.id&&(r+='<div class="voted-for">\u2713</div>'),r=r+'</label><div class="bar simple horizontal"><div class="line"><div'+(n.attr("class",n.classes(["bar",t(l)],[!1,!0]),!1,!0)+n.attr("style",n.style("width: "+a(l)+"%"),!0,!0))+"></div></div></div></div>")}.call(this),r+="</div>",i&&(r=r+'<div class="poll-actions"><div class="vote hidden">'+n.escape(null==(s=e.t("frontend.polls.vote"))?"":s)+'</div><div class="abstain hidden">'+n.escape(null==(s=e.t("frontend.polls.abstain"))?"":s)+"</div></div>"),r+="</div></div>"}.call(this,"I18n"in a?a.I18n:"undefined"!==typeof t?t:void 0,"bar_class"in a?a.bar_class:"undefined"!==typeof bar_class?bar_class:void 0,"bar_percent"in a?a.bar_percent:"undefined"!==typeof bar_percent?bar_percent:void 0,"can_vote"in a?a.can_vote:"undefined"!==typeof can_vote?can_vote:void 0,"model"in a?a.model:"undefined"!==typeof model?model:void 0),r}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/templates/search/nothing_found.pug":function(e,t,s){(function(t){var n=s("./node_modules/pug-runtime/index.js");e.exports=function(e){var s,r="",a=e||{};return function(e,t){r+="<div>\x3c!-- es5 only in pug--\x3e",r=t?r+'<div class="nothing_found">'+n.escape(null==(s=e.t("frontend.search.nothing_found"))?"":s)+"</div>":r+'<div class="b-nothing_here">'+n.escape(null==(s=e.t("frontend.search.nothing_found"))?"":s)+"</div>",r+="</div>"}.call(this,"I18n"in a?a.I18n:"undefined"!==typeof t?t:void 0,"isAutocomplete"in a?a.isAutocomplete:"undefined"!==typeof isAutocomplete?isAutocomplete:void 0),r}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/templates/search/options.pug":function(e,t,s){(function(t){var n=s("./node_modules/pug-runtime/index.js");e.exports=function(e){var s,r="",a=e||{};return function(e,t,a){r+="<div>\x3c!-- es5 only in pug. also only one root node--\x3e",a&&(r=r+"<div"+n.attr("class",n.classes(["search-mode","index"===t?"active":""],[!1,!0]),!1,!0)+' data-mode="index">'+n.escape(null==(s=e.t("frontend.search.mode.index"))?"":s)+"</div>"),function(){var a=["anime","manga","ranobe","character","person"];if("number"==typeof a.length)for(var i=0,o=a.length;i<o;i++){var c=a[i];r=r+"<div"+(n.attr("class",n.classes(["search-mode",t===c?"active":""],[!1,!0]),!1,!0)+n.attr("data-mode",c,!0,!0))+">"+n.escape(null==(s=e.t("frontend.search.mode."+c))?"":s)+"</div>"}else for(var i in o=0,a)o++,c=a[i],r=r+"<div"+(n.attr("class",n.classes(["search-mode",t===c?"active":""],[!1,!0]),!1,!0)+n.attr("data-mode",c,!0,!0))+">"+n.escape(null==(s=e.t("frontend.search.mode."+c))?"":s)+"</div>"}.call(this),r+="</div>"}.call(this,"I18n"in a?a.I18n:"undefined"!==typeof t?t:void 0,"currentMode"in a?a.currentMode:"undefined"!==typeof currentMode?currentMode:void 0,"hasIndex"in a?a.hasIndex:"undefined"!==typeof hasIndex?hasIndex:void 0),r}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/templates/user_rates/button.pug":function(e,t,s){(function(t){var n=s("./node_modules/pug-runtime/index.js");e.exports=function(e){var s,r="",a=e||{};return function(e,t,a,i,o,c,u,l){r=r+"<div>\x3c!-- es5 only in pug. also only one root node--\x3e<div"+n.attr("class",n.classes(["b-add_to_list",c.status],[!1,!0]),!1,!0)+"><form"+(n.attr("action",o,!0,!0)+n.attr("data-method",i,!0,!0))+' data-remote="true" data-type="json"><input type="hidden" name="frontend" value="1"><input type="hidden" name="user_rate[user_id]"'+n.attr("value",l,!0,!0)+'><input type="hidden" name="user_rate[target_id]"'+n.attr("value",c.target_id,!0,!0)+'><input type="hidden" name="user_rate[target_type]"'+n.attr("value",c.target_type,!0,!0)+'><input type="hidden" name="user_rate[status]"'+n.attr("value",c.status,!0,!0)+'><input type="hidden" name="user_rate[score]"'+n.attr("value",c.score,!0,!0)+'><div class="trigger"><div class="trigger-arrow"></div>',c.id?(r=r+'<div class="edit-trigger"><div class="edit"></div><div class="text"><span class="status-name"'+n.attr("data-text",u[c.status],!0,!0)+"></span>",c.score>0&&(r=r+"<span>&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"+n.escape(null==(s=c.score)?"":s)+"</span>"),r+="</div></div>"):r=r+'<div class="text add-trigger"'+n.attr("data-status",c.status,!0,!0)+'><div class="plus"></div><span class="status-name"'+n.attr("data-text",e.t("frontend.user_rates.button.add_to_list"),!0,!0)+"></span></div>",r+='</div><div class="expanded-options">',function(){var e=u;if("number"==typeof e.length)for(var t=0,s=e.length;t<s;t++){var a=e[t];c.id&&c.status==t||(r=r+'<div class="option add-trigger"'+n.attr("data-status",t,!0,!0)+'><div class="text"><span class="status-name"'+n.attr("data-text",a,!0,!0)+"></span></div></div>")}else for(var t in s=0,e)s++,a=e[t],c.id&&c.status==t||(r=r+'<div class="option add-trigger"'+n.attr("data-status",t,!0,!0)+'><div class="text"><span class="status-name"'+n.attr("data-text",a,!0,!0)+"></span></div></div>")}.call(this),c.id&&(r=r+'<div class="option remove-trigger"'+n.attr("data-action",t,!0,!0)+' data-method="delete" data-remote="true" data-type="json"'+n.attr("value",e.t("frontend.user_rates.button.remove_from_my_list"),!0,!0)+'><div class="text"><span class="status-name"'+n.attr("data-text",e.t("frontend.user_rates.button.remove_from_my_list"),!0,!0)+"></span></div></div>"),r=r+"</div></form></div>"+(null==(s=a)?"":s)+"</div>"}.call(this,"I18n"in a?a.I18n:"undefined"!==typeof t?t:void 0,"destroy_url"in a?a.destroy_url:"undefined"!==typeof destroy_url?destroy_url:void 0,"extended_html"in a?a.extended_html:"undefined"!==typeof extended_html?extended_html:void 0,"form_method"in a?a.form_method:"undefined"!==typeof form_method?form_method:void 0,"form_url"in a?a.form_url:"undefined"!==typeof form_url?form_url:void 0,"model"in a?a.model:"undefined"!==typeof model?model:void 0,"statuses"in a?a.statuses:"undefined"!==typeof statuses?statuses:void 0,"user_id"in a?a.user_id:"undefined"!==typeof user_id?user_id:void 0),r}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/templates/user_rates/extended.pug":function(e,t,s){(function(t){var n=s("./node_modules/pug-runtime/index.js");e.exports=function(e){var s,r="",a=e||{};return function(e,t,a,i,o){r+='<div>\x3c!-- es5 only in pug. also only one root node--\x3e<div class="rate-show">',"Anime"==i.target_type?(r=r+'<div class="rate-number"><span class="current-episodes">'+n.escape(null==(s=i.episodes)?"":s)+"</span>",0!=t.episodes&&(r=r+'<span class="b-separator">/</span><span class="total-episodes">'+n.escape(null==(s=t.episodes)?"":s)+"</span>"),i.episodes==t.episodes&&0!=i.episodes||(r=r+'<span class="item-add increment"'+n.attr("data-action",a,!0,!0)+' data-method="post" data-remote="true" data-type="json"></span>'),r=r+'</div><div class="episodes">'+n.escape(null==(s=e.t("activerecord.attributes.user_rate.episodes"))?"":s)+"</div>"):(r=r+'<div class="rate-number"><span class="current-episodes">'+n.escape(null==(s=i.chapters)?"":s)+"</span>",0!=t.chapters&&(r=r+'<span class="b-separator">/</span><span class="total-episodes">'+n.escape(null==(s=t.chapters)?"":s)+"</span>"),i.chapters==t.chapters&&0!=i.chapters||(r=r+'<span class="item-add increment"'+n.attr("data-action",a,!0,!0)+' data-remote="true" data-type="json" data-method="post"></span>'),r=r+'</div><div class="episodes">'+n.escape(null==(s=e.t("activerecord.attributes.user_rate.chapters"))?"":s)+"</div>"),r+=null==(s=o)?"":s,i.text_html&&(r=r+'<div class="note">'+(null==(s=i.text_html)?"":s)+"</div>"),r+="</div></div>"}.call(this,"I18n"in a?a.I18n:"undefined"!==typeof t?t:void 0,"entry"in a?a.entry:"undefined"!==typeof entry?entry:void 0,"increment_url"in a?a.increment_url:"undefined"!==typeof increment_url?increment_url:void 0,"model"in a?a.model:"undefined"!==typeof model?model:void 0,"rate_html"in a?a.rate_html:"undefined"!==typeof rate_html?rate_html:void 0),r}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/templates/user_rates/score.pug":function(e,t,s){(function(t){var n=s("./node_modules/pug-runtime/index.js");e.exports=function(e){var s,r="",a=e||{};return function(e,t){r=r+'<div class="b-rate rateable"'+n.attr("data-notices",e.t("activerecord.attributes.user_rate.scores"),!0,!0)+'>\x3c!-- es5 only in pug. also only one root node--\x3e<div class="stars-container"><div class="hoverable-trigger"></div><div'+n.attr("class",n.classes(["stars","score","score-"+t],[!1,!1,!0]),!1,!0)+'></div><div class="stars hover"></div><div class="stars background"></div></div><div class="text-score"><div'+n.attr("class",n.classes(["score-value","score-"+t],[!1,!0]),!1,!0)+">"+n.escape(null==(s=t)?"":s)+'</div><div class="score-notice">',r+=t>0?n.escape(null==(s=e.t("activerecord.attributes.user_rate.scores."+t))?"":s):"&nbsp;",r+="</div></div></div>"}.call(this,"I18n"in a?a.I18n:"undefined"!==typeof t?t:void 0,"score"in a?a.score:"undefined"!==typeof score?score:void 0),r}}).call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/turbolinks_before_cache.js":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/dynamic_elements/_parser.js");$(document).on("turbolinks:before-cache",function(){$("html").attr("style",null),$(".tipsy").remove(),$("body > .tooltip").remove(),$("[data-dynamic]").addClass(n.a.PENDING_CLASS);var e,t=$(document.body).data("js_export_supervisor_keys");Object.isEmpty(t)||(e={},t.forEach(function(t){var s=t.singularize();$("[data-track_".concat(s,"]")).each(function(n,r){var a=$(r),i=a.view()&&a.view().model||$(r).data("model");if(i)if("user_rate"===s){var o=$(r).data("track_".concat(s)).split(":")[0];if(!i.id)return;e[t]||(e[t]={}),e[t][o]||(e[t][o]=[]),e[t][o].push(i)}else e[t]||(e[t]=[]),e[t].push(i)})}),$("script#js_export").html("window.JS_EXPORTS = ".concat(JSON.stringify(e),";"))),$(".b-video, .b-shiki_wall, .b-tooltipped, .b-spoiler, .b-image, .b-show_more").addClass("unprocessed"),$(".anime-tooltip-processed").removeClass("anime-tooltip-processed").addClass("anime-tooltip"),$(".bubbled-processed").removeClass("bubbled-processed").addClass("bubbled"),$(".b-shiki_editor").addClass("unprocessed"),$(".b-height_shortener").each(function(e,t){$(t).prev().removeClass("shortened").css("height",""),$(t).remove()})})},"./app/assets/javascripts/turbolinks_load.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/turbolinks/dist/turbolinks.js"),r=s.n(n),a=s("./node_modules/bowser/src/bowser.js"),i=s.n(a),o=s("./node_modules/js-cookie/src/js.cookie.js"),c=s.n(o),u=s("./app/assets/javascripts/services/flash.js");$(document).on("turbolinks:load",function(){document.body.classList.add(i.a.name.toLowerCase().replace(/ /g,"_")),$("p.flash-notice").each(function(e,t){t.innerHTML.length&&u.a.notice(t.innerHTML)}),$("p.flash-alert").each(function(e,t){t.innerHTML.length&&u.a.error(t.innerHTML)}),$(document.body).process(),$(".b-list_switchers .switcher").on("click",function(e){var t=e.currentTarget;c.a.set($(t).data("name"),$(t).data("value"),{expires:730,path:"/"}),r.a.visit(document.location.href)})})},"./app/assets/javascripts/vendor sync ^\\.\\/.*$":function(e,t,s){var n={"./highcharts_colors":"./app/assets/javascripts/vendor/highcharts_colors.js","./highcharts_colors.js":"./app/assets/javascripts/vendor/highcharts_colors.js","./jquery.autocomplete":"./app/assets/javascripts/vendor/jquery.autocomplete.js","./jquery.autocomplete.js":"./app/assets/javascripts/vendor/jquery.autocomplete.js","./jquery.cacheimage":"./app/assets/javascripts/vendor/jquery.cacheimage.js","./jquery.cacheimage.js":"./app/assets/javascripts/vendor/jquery.cacheimage.js","./jquery.color":"./app/assets/javascripts/vendor/jquery.color.js","./jquery.color.js":"./app/assets/javascripts/vendor/jquery.color.js","./jquery.cursor_message":"./app/assets/javascripts/vendor/jquery.cursor_message.js","./jquery.cursor_message.js":"./app/assets/javascripts/vendor/jquery.cursor_message.js","./jquery.detect_swipe":"./app/assets/javascripts/vendor/jquery.detect_swipe.js","./jquery.detect_swipe.js":"./app/assets/javascripts/vendor/jquery.detect_swipe.js","./jquery.featureList-1.0.0":"./app/assets/javascripts/vendor/jquery.featureList-1.0.0.js","./jquery.featureList-1.0.0.js":"./app/assets/javascripts/vendor/jquery.featureList-1.0.0.js","./jquery.filedrop":"./app/assets/javascripts/vendor/jquery.filedrop.js","./jquery.filedrop.js":"./app/assets/javascripts/vendor/jquery.filedrop.js","./jquery.injectCSS":"./app/assets/javascripts/vendor/jquery.injectCSS.js","./jquery.injectCSS.js":"./app/assets/javascripts/vendor/jquery.injectCSS.js","./jquery.mousewheel":"./app/assets/javascripts/vendor/jquery.mousewheel.js","./jquery.mousewheel.js":"./app/assets/javascripts/vendor/jquery.mousewheel.js","./jquery.serialize-hash":"./app/assets/javascripts/vendor/jquery.serialize-hash.js","./jquery.serialize-hash.js":"./app/assets/javascripts/vendor/jquery.serialize-hash.js","./jquery.tipsy":"./app/assets/javascripts/vendor/jquery.tipsy.js","./jquery.tipsy.js":"./app/assets/javascripts/vendor/jquery.tipsy.js","./jquery.tools":"./app/assets/javascripts/vendor/jquery.tools.js","./jquery.tools.js":"./app/assets/javascripts/vendor/jquery.tools.js","./jquery.tooltip":"./app/assets/javascripts/vendor/jquery.tooltip.js","./jquery.tooltip.js":"./app/assets/javascripts/vendor/jquery.tooltip.js","./modernizr":"./app/assets/javascripts/vendor/modernizr.js","./modernizr.js":"./app/assets/javascripts/vendor/modernizr.js","./sugar":"./app/assets/javascripts/vendor/sugar.js","./sugar.js":"./app/assets/javascripts/vendor/sugar.js"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="./app/assets/javascripts/vendor sync ^\\.\\/.*$"},"./app/assets/javascripts/vendor/highcharts_colors.js":function(e,t,s){"use strict";s.r(t),s.d(t,"colors",function(){return n});var n=[].concat(["#44bbff","#c09eda","#9bd51f","#f7b42c","#f27490","#fc575e","#f27624","#90d5ec","#f49ac1","#ca5","#b5e4f2","#9ab"],["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"])},"./app/assets/javascripts/vendor/jquery.autocomplete.js":function(e,t){$.fn.extend({autocomplete:function(e,t){var s="string"==typeof e;return(t=$.extend({},$.Autocompleter.defaults,{url:s?e:null,data:s?null:e,delay:s?$.Autocompleter.defaults.delay:10,max:t&&!t.scroll?10:150},t)).highlight=t.highlight||function(e){return e},t.formatMatch=t.formatMatch||t.formatItem,this.each(function(){new $.Autocompleter(this,t)})},result:function(e){return this.on("result",e)},search:function(e){return this.trigger("search",[e])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(e){return this.trigger("setOptions",[e])},unautocomplete:function(){return this.trigger("unautocomplete")}}),$.Autocompleter=function(e,t){var s,n,r={UP:38,DOWN:40,DEL:46,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},a=$(e).attr("autocomplete","off").addClass(t.inputClass),i="",o=$.Autocompleter.Cache(t),c=0,u={mouseDownOnSelect:!1},l=$.Autocompleter.Select(t,e,p,u);function p(){var s=l.selected();if(!s)return a.trigger("result"),!1;var n=s.result;if(i=n,t.multiple){var r=f(a.val());if(r.length>1){var o,c=t.multipleSeparator.length,u=$(e).selection().start,p=0;$.each(r,function(e,t){if(p+=t.length,u<=p)return o=e,!1;p+=c}),r[o]=n,n=r.join(t.multipleSeparator)}n+=t.multipleSeparator}return a.val(n),m(),a.trigger("result",[s]),!0}function d(e,s){if(_())if(n!=r.DEL){var o=encodeURIComponent(a.val());(s||o!=i)&&(i=o,(o=h(o)).length>=t.minChars&&!o.match(/^https?(?::\/\/|%3A%2F%2F)/)?(a.addClass(t.loadingClass),t.matchCase||(o=o.toLowerCase()),g(o,v,m)):(y(),l.hide()))}else l.hide()}function f(e){return e?t.multiple?$.map(e.split(t.multipleSeparator),function(t){return $.trim(e).length?$.trim(t):null}):[$.trim(e)]:[""]}function h(s){if(!t.multiple)return s;var n=f(s);if(1==n.length)return n[0];var r=$(e).selection().start;return(n=r==s.length?f(s):f(s.replace(s.substring(r),"")))[n.length-1]}function m(){l.visible();l.hide(),clearTimeout(s),y(),t.mustMatch&&a.search(function(e){if(!e)if(t.multiple){var s=f(a.val()).slice(0,-1);a.val(s.join(t.multipleSeparator)+(s.length?t.multipleSeparator:""))}else a.val(""),a.trigger("result",null)})}function v(s,o){o&&o.length&&c?(y(),l.display(o,s),function(s,o){t.autoFill&&h(a.val()).toLowerCase()==s.toLowerCase()&&n!=r.BACKSPACE&&(a.val(a.val()+o.substring(h(i).length)),$(e).selection(i.length,i.length+o.length))}(s,o[0].value),l.show()):m()}function _(){return t.url.match(/^data-/)?a.data(t.url.replace(/^data-/,"")):t.url}function g(s,n,r){t.matchCase||(s=s.toLowerCase());var a=o.load(s);if(a&&a.length)n(s,a);else if("string"==typeof t.url&&t.url.length>0){var i={timestamp:+new Date};$.each(t.extraParams,function(e,t){i[e]="function"==typeof t?t():t}),arguments.callee.$ajax&&arguments.callee.$ajax.abort(),arguments.callee.$ajax=$.ajax({mode:"abort",port:"autocomplete"+e.name,dataType:t.dataType,url:_().match(/\?/)?_()+"&search="+h(s):_()+"?search="+h(s),success:function(e){var r=t.parse&&t.parse(e)||function(e){for(var s=[],n=e.split("\n"),r=0;r<n.length;r++){var a=$.trim(n[r]);a&&(a=a.split("|"),s[s.length]={data:a,value:a[0],result:t.formatResult&&t.formatResult(a,a[0])||a[0]})}return s}(e);o.add(s,r),n(s,r)}})}else l.emptyList(),r(s)}function y(){a.removeClass(t.loadingClass)}a.on("keydown.autocomplete",function(e){switch(c=1,n=e.keyCode,e.keyCode){case r.UP:e.preventDefault(),l.visible()?l.prev():d(0,!0);break;case r.DOWN:e.preventDefault(),l.visible()?l.next():d(0,!0);break;case r.PAGEUP:e.preventDefault(),l.visible()?l.pageUp():d(0,!0);break;case r.PAGEDOWN:e.preventDefault(),l.visible()?l.pageDown():d(0,!0);break;case t.multiple&&","==$.trim(t.multipleSeparator)&&r.COMMA:case r.RETURN:if(p())return e.preventDefault(),!0,!1;e.preventDefault();break;case r.ESC:l.hide();break;default:clearTimeout(s),s=setTimeout(d,t.delay)}}).focus(function(){c++}).blur(function(){c=0,u.mouseDownOnSelect||(clearTimeout(s),s=setTimeout(m,200))}).click(function(){c++>1&&!l.visible()&&d(0,!0)}).on("search",function(){var e=arguments.length>1?arguments[1]:null;function t(t,s){var n;if(s&&s.length)for(var r=0;r<s.length;r++)if(s[r].result.toLowerCase()==t.toLowerCase()){n=s[r];break}"function"==typeof e?e(n):a.trigger("result",n&&[n.data,n.value])}$.each(f(a.val()),function(e,s){g(s,t,t)})}).on("flushCache",function(){o.flush()}).on("setOptions",function(){$.extend(t,arguments[1]),"data"in arguments[1]&&o.populate()}).on("unautocomplete",function(){l.unbind(),a.off(),$(e.form).off(".autocomplete")})},$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(e){return e[0]},formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",highlight:function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180},$.Autocompleter.Cache=function(e){var t={},s=0;function n(t,s){e.matchCase||(t=t.toLowerCase());var n=t.indexOf(s);return"word"==e.matchContains&&(n=t.toLowerCase().search("\\b"+s.toLowerCase())),-1!=n&&(0==n||e.matchContains)}function r(n,r){s>e.cacheLength&&i(),t[n]||s++,t[n]=r}function a(){if(!e.data)return!1;var t={},s=0;e.url||(e.cacheLength=1),t[""]=[];for(var n=0,a=e.data.length;n<a;n++){var i=e.data[n];i="string"==typeof i?[i]:i;var o=e.formatMatch(i,n+1,e.data.length);if("undefined"!==typeof o&&!1!==o){var c=o.charAt(0).toLowerCase();t[c]||(t[c]=[]);var u={value:o,data:i,result:e.formatResult&&e.formatResult(i)||o};t[c].push(u),s++<e.max&&t[""].push(u)}}$.each(t,function(t,s){e.cacheLength++,r(t,s)})}function i(){t={},s=0}return setTimeout(a,25),{flush:i,add:r,populate:a,load:function(r){if(!e.cacheLength||!s)return null;if(!e.url&&e.matchContains){var a=[];for(var i in t)if(i.length>0){var o=t[i];$.each(o,function(e,t){n(t.value,r)&&a.push(t)})}return a}if(t[r])return t[r];if(e.matchSubset)for(var c=r.length-1;c>=e.minChars;c--){if(o=t[r.substr(0,c)]){a=[];return $.each(o,function(e,t){n(t.value,r)&&(a[a.length]=t)}),a}}return null}}},$.Autocompleter.Select=function(e,t,s,n){var r,a,i,o,c={ACTIVE:"ac_over"},u=-1,l="",p=!0;function d(e){for(var t=e.target;t&&"LI"!=t.tagName;)t=t.parentNode;return t||[]}function f(t){r.slice(u,u+1).removeClass(c.ACTIVE),function(e){(u+=e)<0?u=r.length-1:u>=r.length&&(u=0)}(t);var s=r.slice(u,u+1).addClass(c.ACTIVE);if(e.scroll){var n=0;r.slice(0,u).each(function(){n+=this.offsetHeight}),n+s[0].offsetHeight-o.scrollTop()>o[0].clientHeight?o.scrollTop(n+s[0].offsetHeight-o.innerHeight()):n<o.scrollTop()&&o.scrollTop(n)}}function h(){o.empty();for(var t,s=(t=a.length,e.max&&e.max<t?e.max:t),n=0;n<s;n++)if(a[n]){var i=e.formatItem(a[n],n+1,s);if(!1!==i){var p=$("<li/>").html(e.highlight(i,l)).addClass(n%2==0?"ac_even":"ac_odd").appendTo(o)[0];$.data(p,"ac_data",a[n])}}r=o.find("li"),e.selectFirst&&(r.slice(0,1).addClass(c.ACTIVE),u=0),$.fn.bgiframe&&o.bgiframe()}return{display:function(r,f){p&&(i=$("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(document.body),o=$("<ul/>").appendTo(i).mouseover(function(e){d(e).nodeName&&"LI"==d(e).nodeName.toUpperCase()&&(u=$("li",o).removeClass(c.ACTIVE).index(d(e)),$(d(e)).addClass(c.ACTIVE))}).click(function(e){return $(d(e)).addClass(c.ACTIVE),s(),t.focus(),!1}).mousedown(function(){n.mouseDownOnSelect=!0}).mouseup(function(){n.mouseDownOnSelect=!1}),e.width>0&&i.css("width",e.width),p=!1),a=r,l=f,h()},next:function(){f(1)},prev:function(){f(-1)},pageUp:function(){f(0!=u&&u-8<0?-u:-8)},pageDown:function(){u!=r.length-1&&u+8>r.length?f(r.length-1-u):f(8)},hide:function(){i&&i.hide(),r&&r.removeClass(c.ACTIVE),u=-1},visible:function(){return i&&i.is(":visible")},current:function(){return this.visible()&&(r.filter("."+c.ACTIVE)[0]||e.selectFirst&&r[0])},show:function(){var s="$anchor"in e&&e.$anchor?e.$anchor.offset():$(t).offset();if(i.css({width:"string"==typeof e.width||e.width>0?e.width:$(t).width(),top:s.top+t.offsetHeight,left:s.left}).show(),e.scroll&&(o.scrollTop(0),o.css({maxHeight:e.scrollHeight,overflow:"auto"}),-1!=navigator.userAgent.indexOf("MSIE")&&"undefined"===typeof document.body.style.maxHeight)){var n=0;r.each(function(){n+=this.offsetHeight});var a=n>e.scrollHeight;o.css("height",a?e.scrollHeight:n),a||r.width(o.width()-parseInt(r.css("padding-left"))-parseInt(r.css("padding-right")))}},selected:function(){var e=r&&r.filter("."+c.ACTIVE).removeClass(c.ACTIVE);return e&&e.length&&$.data(e[0],"ac_data")},emptyList:function(){o&&o.empty()},unbind:function(){i&&i.remove()}}},$.fn.selection=function(e,t){if(void 0!==e)return this.each(function(){if(this.createTextRange){var s=this.createTextRange();void 0===t||e==t?(s.move("character",e),s.select()):(s.collapse(!0),s.moveStart("character",e),s.moveEnd("character",t),s.select())}else this.setSelectionRange?this.setSelectionRange(e,t):this.selectionStart&&(this.selectionStart=e,this.selectionEnd=t)});var s=this[0];if(s.createTextRange){var n=document.selection.createRange(),r=s.value,a=n.text.length;n.text="<->";var i=s.value.indexOf("<->");return s.value=r,this.selection(i,i+a),{start:i,end:i+a}}return void 0!==s.selectionStart?{start:s.selectionStart,end:s.selectionEnd}:void 0}},"./app/assets/javascripts/vendor/jquery.cacheimage.js":function(e,t){!function(e){e.extend(e,{cacheImage:function(t,s){if("object"!==typeof t){var n=new Image;return s=s||{},e.each(["load","error","abort"],function(){var t=String(this);"function"===typeof s[t]&&e(n).bind(t,s[t]),"function"===typeof s.complete&&e(n).bind(t,s.complete)}),n.src=t,n}e.each(t,function(){e.cacheImage(String(this),s)})}}),e.extend(e.fn,{cacheImage:function(t){return this.each(function(){e.cacheImage(this.src,t)})}})}(jQuery)},"./app/assets/javascripts/vendor/jquery.color.js":function(e,t){!function(e){function t(t){var n;return t&&t.constructor==Array&&3==t.length?t:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])]:(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3])]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]:(n=/rgba\(0, 0, 0, 0\)/.exec(t))?s.transparent:s[e.trim(t).toLowerCase()]}e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(s,n){e.fx.step[n]=function(s){s.colorInit||(s.start=function(s,n){var r;do{if(""!=(r=e.css(s,n))&&"transparent"!=r||e.nodeName(s,"body"))break;n="backgroundColor"}while(s=s.parentNode);return t(r)}(s.elem,n),s.end=t(s.end),s.colorInit=!0),s.elem.style[n]="rgb("+[Math.max(Math.min(parseInt(s.pos*(s.end[0]-s.start[0])+s.start[0]),255),0),Math.max(Math.min(parseInt(s.pos*(s.end[1]-s.start[1])+s.start[1]),255),0),Math.max(Math.min(parseInt(s.pos*(s.end[2]-s.start[2])+s.start[2]),255),0)].join(",")+")"}});var s={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]}}(jQuery)},"./app/assets/javascripts/vendor/jquery.cursor_message.js":function(e,t){jQuery&&function(e){e.cursorMessageData={},e(window).ready(function(t){0==e("#cursorMessageDiv").length&&(e("body").append('<div id="cursorMessageDiv">&nbsp;</div>'),e("#cursorMessageDiv").hide()),e("body").mousemove(function(t){e.cursorMessageData.mouseX=t.pageX,e.cursorMessageData.mouseY=t.pageY,void 0!=e.cursorMessageData.options&&e._showCursorMessage()})}),e.extend({cursorMessage:function(t,s){void 0==t&&(t="<div class='ajax-loading cursor' />"),void 0==s&&(s={}),void 0==s.offsetX&&(s.offsetX=5),void 0==s.offsetY&&(s.offsetY=5),void 0==s.hideTimeout&&(s.hideTimeout=0),e("#cursorMessageDiv").html(t).show(),void 0!=jQuery.cursorMessageData.hideTimeoutId&&clearTimeout(jQuery.cursorMessageData.hideTimeoutId),s.hideTimeout>0&&(jQuery.cursorMessageData.hideTimeoutId=setTimeout(e.hideCursorMessage,s.hideTimeout)),jQuery.cursorMessageData.options=s,e._showCursorMessage()},hideCursorMessage:function(){e("#cursorMessageDiv").stop().hide()},_showCursorMessage:function(){e("#cursorMessageDiv").css({top:e.cursorMessageData.mouseY+e.cursorMessageData.options.offsetY+"px",left:e.cursorMessageData.mouseX+e.cursorMessageData.options.offsetX})}})}(jQuery)},"./app/assets/javascripts/vendor/jquery.detect_swipe.js":function(e,t){!function(e){e.detectSwipe={version:"2.1.1",enabled:"ontouchstart"in document.documentElement,preventDefault:!0,threshold:20};var t,s,n=!1;function r(){this.removeEventListener("touchmove",a),this.removeEventListener("touchend",r),n=!1}function a(a){if(e.detectSwipe.preventDefault&&a.preventDefault(),n){var i,o=a.touches[0].pageX,c=a.touches[0].pageY,u=t-o,l=s-c;if(Math.abs(u)>=e.detectSwipe.threshold/2&&Math.abs(l)>=e.detectSwipe.threshold/2)return;Math.abs(u)>=e.detectSwipe.threshold?i=u>0?"left":"right":Math.abs(l)>=e.detectSwipe.threshold&&(i=l>0?"down":"up"),i&&(r.call(this),e(this).trigger("swipe",i).trigger("swipe"+i))}}function i(e){1==e.touches.length&&(t=e.touches[0].pageX,s=e.touches[0].pageY,n=!0,this.addEventListener("touchmove",a,!1),this.addEventListener("touchend",r,!1))}e.event.special.swipe={setup:function(){this.addEventListener&&this.addEventListener("touchstart",i,!1)}},e.each(["left","up","down","right"],function(){e.event.special["swipe"+this]={setup:function(){e(this).on("swipe",e.noop)}}})}(jQuery)},"./app/assets/javascripts/vendor/jquery.featureList-1.0.0.js":function(e,t){!function(e){e.fn.featureList=function(t){var s=e(this),n=e(t.output);return new jQuery.featureList(s,n,t),this},e.featureList=function(t,s,n){function r(e){"undefined"==typeof e&&(e=(e=i+1)>=a?0:e),t.removeClass("current").filter(":eq("+e+")").addClass("current"),s.stop(!0,!0).filter(":visible").fadeOut(),s.filter(":eq("+e+")").fadeIn(function(){i=e})}n=n||{};var a=t.length,i=n.start_item||0;if(n.pause_on_hover=n.pause_on_hover||!0,n.transition_interval=n.transition_interval||5e3,s.hide().eq(i).show(),t.eq(i).addClass("current"),t.click(function(){if(e(this).hasClass("current"))return!1;r(t.index(this))}),n.transition_interval>0){var o=setInterval(function(){r()},n.transition_interval);n.pause_on_hover&&t.mouseenter(function(){clearInterval(o)}).mouseleave(function(){clearInterval(o),o=setInterval(function(){r()},n.transition_interval)})}}}(jQuery)},"./app/assets/javascripts/vendor/jquery.filedrop.js":function(e,t){!function(e){jQuery.event.addProp("dataTransfer");var t={fallback_id:"",url:"",refresh:1e3,paramname:"userfile",requestType:"POST",allowedfileextensions:[],allowedfiletypes:[],maxfiles:25,maxfilesize:1,queuefiles:0,queuewait:200,data:{},headers:{},drop:n,dragStart:n,dragEnter:n,dragOver:n,dragLeave:n,docEnter:n,docOver:n,docLeave:n,beforeEach:n,afterAll:n,rename:n,error:function(e,t,s,n){alert(e)},uploadStarted:n,uploadFinished:n,progressUpdated:n,globalProgressUpdated:n,speedUpdated:n},s=["BrowserNotSupported","TooManyFiles","FileTooLarge","FileTypeNotAllowed","NotFound","NotReadable","AbortError","ReadError","FileExtensionNotAllowed"];function n(){}e.fn.filedrop=function(n){var r,a,i=e.extend({},t,n),o=[],c=!1,u=0;function l(t,s,n,r){var a="\r\n",o="",c=i.paramname;if(i.data){var u=e.param(i.data).replace(/\+/g,"%20").split(/&/);e.each(u,function(){var e=this.split("=",2),t=decodeURIComponent(e[0]),s=decodeURIComponent(e[1]);2===e.length&&(o+="--",o+=r,o+=a,o+='Content-Disposition: form-data; name="'+t+'"',o+=a,o+=a,o+=s,o+=a)})}return jQuery.isFunction(c)&&(c=c(t)),o+="--",o+=r,o+=a,o+='Content-Disposition: form-data; name="'+(c||"")+'"',o+='; filename="'+encodeURIComponent(t)+'"',o+=a,o+="Content-Type: "+n,o+=a,o+=a,o+=s,o+=a,o+="--",o+=r,o+="--",o+=a}function p(e){if(e.lengthComputable){var t=Math.round(100*e.loaded/e.total);if(this.currentProgress!==t){this.currentProgress=t,i.progressUpdated(this.index,this.file,this.currentProgress),o[this.global_progress_index]=this.currentProgress,d();var s=(new Date).getTime(),n=s-this.currentStart;if(n>=i.refresh){var r=(e.loaded-this.startData)/n;i.speedUpdated(this.index,this.file,r),this.startData=e.loaded,this.currentStart=s}}}}function d(){if(0!==o.length){var e,t=0;for(e in o)o.hasOwnProperty(e)&&(t+=o[e]);i.globalProgressUpdated(Math.round(t/o.length))}}function f(){if(c=!1,!a)return i.error(s[0]),!1;if(i.allowedfiletypes.push&&i.allowedfiletypes.length)for(var t=a.length;t--;)if(!a[t].type||e.inArray(a[t].type,i.allowedfiletypes)<0)return i.error(s[3],a[t]),!1;if(i.allowedfileextensions.push&&i.allowedfileextensions.length)for(t=a.length;t--;){var n=!1;for(g=0;g<i.allowedfileextensions.length;g++)a[t].name.substr(a[t].name.length-i.allowedfileextensions[g].length).toLowerCase()==i.allowedfileextensions[g].toLowerCase()&&(n=!0);if(!n)return i.error(s[8],a[t]),!1}var r=0,f=0;if(u>i.maxfiles&&0===i.queuefiles)return i.error(s[1]),!1;for(var h=[],v=[],_=[],g=0;g<u;g++)h.push(g);var y=function(e){setTimeout(j,e)},j=function e(){var t,n;if(c)return!1;if(i.queuefiles>0&&v.length>=i.queuefiles)return y(i.queuewait);t=h[0],h.splice(0,1),v.push(t);try{if(!1!==(n=a[t],i.beforeEach(n))){if(t===u)return;var r=new FileReader,o=1048576*i.maxfilesize;if(r.index=t,a[t].size>o)throw s[2];r.onerror=function(e,t,n){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:return i.error(s[4]),!1;case e.target.error.NOT_READABLE_ERR:return i.error(s[5]),!1;case e.target.error.ABORT_ERR:return i.error(s[6]),!1;default:return i.error(s[7]),!1}},r.onloadend=i.beforeSend?function(e){i.beforeSend(a[t],t,function(){b(e)})}:b,r.readAsDataURL(a[t])}else f++}catch(l){v.forEach(function(e,s){e===t&&v.splice(s,1)}),i.error(l)}h.length>0?e():v.length||m()},b=function(t){var s=(t.srcElement||t.target).index;void 0===t.target.index&&(t.target.index=function(e){for(var t=0;t<u;t++)if(a[t].size===e)return t;return}(t.total));var n,h,g=new XMLHttpRequest,y=g.upload,j=a[t.target.index],b=t.target.index,w=(new Date).getTime(),$="------multipartformboundary"+(new Date).getTime(),k=o.length,x=(h=j.name,i.rename(h)),C=j.type;i.withCredentials&&(g.withCredentials=i.withCredentials);var O=atob(t.target.result.split(",")[1]);n=l("string"===typeof x?x:j.name,O,C,$),y.index=b,y.file=j,y.downloadStartTime=w,y.currentStart=w,y.currentProgress=0,y.global_progress_index=k,y.startData=0,y.addEventListener("progress",p,!1),jQuery.isFunction(i.url)?g.open(i.requestType,i.url(),!0):g.open(i.requestType,i.url,!0),g.setRequestHeader("content-type","multipart/form-data; boundary="+$),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.each(i.headers,function(e,t){g.setRequestHeader(e,t)}),g._sendAsBinary||(g._sendAsBinary=function(e){var t=Array.prototype.map.call(e,function(e){return 255&e.charCodeAt(0)}),s=new Uint8Array(t);this.send(s.buffer)}),g._sendAsBinary(n),o[k]=0,d(),i.uploadStarted(b,j,u),g.onload=function(){var e=null;if(g.responseText)try{e=jQuery.parseJSON(g.responseText)}catch(t){e=g.responseText}var n=(new Date).getTime()-w,a=i.uploadFinished(b,j,e,n,g);r++,v.forEach(function(e,t){e===s&&v.splice(t,1)}),_.push(s),o[k]=100,d(),r===u-f&&m(),!1===a&&(c=!0),(g.status<200||g.status>299)&&i.error(g.statusText,j,s,g.status,g.responseText)}};j()}function h(e){if(e.dataTransfer&&e.dataTransfer.types&&e.dataTransfer.types.length)for(var t=0;t<e.dataTransfer.types.length;t++)if("files"==e.dataTransfer.types[t].toLowerCase())return!1;return!0}function m(){return i.afterAll()}return i.fallback_id&&e("#"+i.fallback_id).css({display:"none",width:0,height:0}),this.on("drop",function(e,t){if(!1===i.drop.call(this,e))return!1;if(!t&&(!e.dataTransfer||h(e)))return void m();if(null===(a=t||e.dataTransfer.files)||void 0===a||0===a.length)return i.error(s[0]),m(),!1;return u=a.length,f(),e.preventDefault(),!1}).on("dragstart",i.dragStart).on("dragenter",function(e){if(h(e))return;clearTimeout(r),e.preventDefault(),i.dragEnter.call(this,e)}).on("dragover",function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(s){}if(e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",h(e))return;clearTimeout(r),e.preventDefault(),i.docOver.call(this,e),i.dragOver.call(this,e)}).on("dragleave",function(e){clearTimeout(r),i.dragLeave.call(this,e),e.stopPropagation()}),e(document).on("drop",function(e){if(h(e))return;return e.preventDefault(),i.docLeave.call(this,e),!1}).on("dragenter",function(e){if(h(e))return;return clearTimeout(r),e.preventDefault(),i.docEnter.call(this,e),!1}).on("dragover",function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(s){}if(e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",h(e))return;return clearTimeout(r),e.preventDefault(),i.docOver.call(this,e),!1}).on("dragleave",function(e){r=setTimeout((t=this,function(){i.docLeave.call(t,e)}),200);var t}),i.fallback_id&&this.on("click",function(t){e("#"+i.fallback_id).trigger(t)}),i.fallback_id&&e("#"+i.fallback_id).change(function(e){i.drop(e),a=e.target.files,u=a.length,f()}),this};try{if(XMLHttpRequest.prototype.sendAsBinary)return;XMLHttpRequest.prototype.sendAsBinary=function(e){var t=Array.prototype.map.call(e,function(e){return 255&e.charCodeAt(0)}),s=new Uint8Array(t);"ArrayBufferView"in window?this.send(s):this.send(s.buffer)}}catch(r){}}(jQuery)},"./app/assets/javascripts/vendor/jquery.injectCSS.js":function(module,exports){!function(jQuery){"use strict";function toCSS(jss,options){function jsonToCSS(e,t){for(var s in e&&!result[e]&&(result[e]={}),t){var n=t[s];if(n instanceof Array)for(var r=n,a=0;a<r.length;a++)addProperty(e,s,r[a]);else switch(typeof n){case"number":case"string":addProperty(e,s,n);break;case"object":var i=s.charAt(s.length-1);if(!e||"_"!==i&&"-"!==i)jsonToCSS(makeSelectorName(e,s),n);else{var o=n;for(var c in o)for(var u=c.split(/\s*,\s*/),l=0;l<u.length;l++){var p=o[c];if(p instanceof Array)for(var d=p,f=0;f<d.length;f++)addProperty(e,s+u[l],d[f]);else addProperty(e,s+u[l],o[c])}}}}}function makePropertyName(e){return e.replace(/_/g,"-")}function makeSelectorName(e,t){for(var s=[],n=t.split(/\s*,\s*/),r=e.split(/\s*,\s*/),a=0;a<r.length;a++)for(var i=r[a],o=0;o<n.length;o++){var c=n[o];"&"===c.charAt(0)?s.push(i+c.substr(1)):s.push(i?i+" "+c:c)}return s.join(", ")}function addProperty(e,t,s){"number"!==typeof s||options.useRawValues||(s+="px");for(var n=t.split(/\s*,\s*/),r=0;r<n.length;r++){var a=makePropertyName(n[r]);result[e][a]?result[e][a].push(s):result[e][a]=[s]}}var result={};if("string"===typeof jss)try{eval("var jss = {"+jss+"}")}catch(e){return"/*\nUnable to parse JSS: "+e+"\n*/"}jsonToCSS("",jss);var ret="";for(var a in result){var css=result[a];for(var i in ret+=a+" {\n",css)for(var values=css[i],j=0;j<values.length;j++)ret+="\t"+i+": "+values[j]+";\n";ret+="}\n"}return ret}var defaults={truncateFirst:!1,container:null,containerName:"injectCSSContainer",useRawValues:!1};jQuery.injectCSS=function(e,t){(t=jQuery.extend({},defaults,t)).media=t.media||"all";var s=t.container&&jQuery(t.container)||jQuery("#"+t.containerName);s.length||(s=jQuery("<style></style>").appendTo("head").attr({media:t.media,id:t.containerName,type:"text/css"}));var n=s[0],r=void 0!==n.styleSheet&&void 0!==n.styleSheet.cssText,a="";return t.truncateFirst||(a+=r?n.styleSheet.cssText:s.text()),a+=toCSS(e,t),r?n.styleSheet.cssText=a:s.text(a),s}}(jQuery)},"./app/assets/javascripts/vendor/jquery.mousewheel.js":function(e,t){!function(e){var t=["DOMMouseScroll","mousewheel"];function s(t){var s=t||window.event,n=[].slice.call(arguments,1),r=0,a=0,i=0;return(t=e.event.fix(s)).type="mousewheel",t.wheelDelta&&(r=t.wheelDelta/120),t.detail&&(r=-t.detail/3),i=r,void 0!==s.axis&&s.axis===s.HORIZONTAL_AXIS&&(i=0,a=-1*r),void 0==t.wheelDelta&&s.detail&&(t.wheelDelta=-1*s.detail),void 0!==s.wheelDeltaY&&(i=s.wheelDeltaY/120),void 0!==s.wheelDeltaX&&(a=-1*s.wheelDeltaX/120),n.unshift(t,r,a,i),e.event.handle.apply(this,n)}e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],s,!1);else this.onmousewheel=s},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],s,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery)},"./app/assets/javascripts/vendor/jquery.serialize-hash.js":function(e,t){!function(e){e.fn.serializeHash=function(){var t={};var s=e(this).find(":input").get();return e.each(s,function(){if(this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/hidden|text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color/i.test(this.type))){var s=e(this).val();e.extend(!0,t,function e(t,s){var n=t.lastIndexOf("[");if(-1==n){var r={};return r[t]=s,r}var a=t.substr(0,n),i={};return i[t.substring(n+1,t.length-1)]=s,e(a,i)}(this.name,s))}}),t}}(jQuery)},"./app/assets/javascripts/vendor/jquery.tipsy.js":function(e,t){!function(e,t,s){function n(e,t){return"function"===typeof e?e.call(t):e}function r(s){return e.contains(t.document.documentElement,s)}var a=0;function i(t,s){this.$element=e(t),this.options=s,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var t,s;if(r(this.$element[0])&&(t=this.$element,(!("object"===typeof HTMLElement?t instanceof HTMLElement:t&&"object"===typeof t&&1===t.nodeType&&"string"===typeof t.nodeName)||this.$element.is(":visible"))&&this.enabled&&(s=this.getTitle()))){var i=this.tip();i.find(".tipsy-inner"+this.options.theme)[this.options.html?"html":"text"](s),i[0].className="tipsy"+this.options.theme,this.options.className&&i.addClass(n(this.options.className,this.$element[0])),i.detach().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(this.options.prependTo).data("tipsy-pointee",this.$element[0]);var o=e.extend({},this.$element.offset());o=this.$element.parents("svg").length>0?e.extend(o,this.$element[0].getBBox()):this.options.prependTo!==document.body?e.extend(this.$element.position(),{width:this.$element.width(),height:this.$element.height()}):e.extend(o,{width:this.$element[0].offsetWidth||0,height:this.$element[0].offsetHeight||0});var c,u=i[0].offsetWidth,l=i[0].offsetHeight,p=n(this.options.gravity,this.$element[0]);switch(p.charAt(0)){case"n":c={top:o.top+o.height+this.options.offset+1,left:o.left+o.width/2-u/2};break;case"s":c={top:o.top-l-this.options.offset-1,left:o.left+o.width/2-u/2};break;case"e":c={top:o.top+o.height/2-l/2,left:o.left-u-this.options.offset-1};break;case"w":c={top:o.top+o.height/2-l/2,left:o.left+o.width+this.options.offset+1}}if(2===p.length&&("w"===p.charAt(1)?c.left=o.left+o.width/2-15:c.left=o.left+o.width/2-u+15),i.css(c).addClass("tipsy-"+p+this.options.theme),i.find(".tipsy-arrow"+this.options.theme)[0].className="tipsy-arrow"+this.options.theme+" tipsy-arrow-"+p.charAt(0)+this.options.theme,this.options.fade?(this.options.shadow&&i.find(".tipsy-inner").css({"box-shadow":"0 0 "+this.options.shadowBlur+"px "+this.options.shadowSpread+"px rgba(0, 0, 0, "+this.options.shadowOpacity+")","-webkit-box-shadow":"0 0 "+this.options.shadowBlur+"px "+this.options.shadowSpread+"px rgba(0, 0, 0, "+this.options.shadowOpacity+")"}),i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity},this.options.fadeInTime)):i.css({visibility:"visible",opacity:this.options.opacity}),this.options.aria){var d="tipsyuid"+a++;i.attr("id",d),this.$element.attr("aria-describedby",d)}}},hide:function(){this.options.fade?this.tip().stop().fadeOut(this.options.fadeOutTime,function(){e(this).detach()}):this.tip().detach(),this.options.aria&&this.$element.removeAttr("aria-describedby")},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!==typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,s=this.options;return this.fixTitle(),"string"===typeof s.title?e=t.attr("title"===s.title?"original-title":s.title):"function"===typeof s.title&&(e=s.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||s.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy'+this.options.theme+'"></div>').html('<div class="tipsy-arrow'+this.options.theme+'"></div><div class="tipsy-inner'+this.options.theme+'"></div>').attr("role","tooltip")),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){if(e.fn.tipsy.enable(),!0===t)return this.data("tipsy");if("string"===typeof t){var s=this.data("tipsy");return s&&s[t](),this}function n(s){var n=e.data(s,"tipsy");return n||(n=new i(s,e.fn.tipsy.elementOptions(s,t)),e.data(s,"tipsy",n)),n}function r(){if(!0===e.fn.tipsy.enabled){var s=n(this);s.hoverState="in",0===t.delayIn?s.show():(s.fixTitle(),setTimeout(function(){"in"===s.hoverState&&s.show()},t.delayIn))}}function a(){var e=n(this);e.hoverState="out",0===t.delayOut?e.hide():setTimeout(function(){"out"!==e.hoverState&&e.$element&&e.$element.is(":visible")||e.hide()},t.delayOut)}if((t=e.extend({},e.fn.tipsy.defaults,t)).theme=t.theme&&""!==t.theme?"-"+t.theme:"",t.live||this.each(function(){n(this)}),"manual"!==t.trigger){var o="hover"===t.trigger?"mouseenter mouseover":"focus",c="hover"===t.trigger?"mouseleave mouseout":"blur";if(t.live&&!0!==t.live)e(this).on(o,t.live,r),e(this).on(c,t.live,a);else{if(t.live&&!e.live)throw"Since jQuery 1.9, pass selector as live argument. eg. $(document).tipsy({live: 'a.live'});";var u=t.live?"live":"bind";this[u](o,r)[u](c,a)}}return this},e.fn.tipsy.defaults={aria:!1,className:null,delayIn:0,delayOut:0,fade:!1,fadeInTime:400,fadeOutTime:400,shadow:!1,shadowBlur:8,shadowOpacity:1,shadowSpread:0,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover",theme:"",prependTo:document.body},e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");t&&r(t)||e(this).remove()})},e.fn.tipsy.enable=function(){e.fn.tipsy.enabled=!0},e.fn.tipsy.disable=function(){e.fn.tipsy.enabled=!1},e.fn.tipsy.elementOptions=function(t,s){return e.metadata?e.extend({},s,e(t).metadata()):s},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(t).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(t).width()/2?"e":"w"},e.fn.tipsy.autoNWNE=function(){return e(this).offset().left>e(document).scrollLeft()+e(t).width()/2?"ne":"nw"},e.fn.tipsy.autoSWSE=function(){return e(this).offset().left>e(document).scrollLeft()+e(t).width()/2?"se":"sw"},e.fn.tipsy.autoBounds=function(s,n,r){return function(){var a={ns:r[0],ew:r.length>1&&r[1]},i=e(document).scrollTop()+s,o=e(document).scrollLeft()+n,c=e(this);return c.offset().top<i&&(a.ns="n"),c.offset().left<o&&(a.ew="w"),e(t).width()+e(document).scrollLeft()-c.offset().left<n&&(a.ew="e"),e(t).height()+e(document).scrollTop()-c.offset().top<s&&(a.ns="s"),a.ns+(a.ew?a.ew:"")}},e.fn.tipsy.autoBounds2=function(s,n){return function(){var r={},a=e(document).scrollTop()+s,i=e(document).scrollLeft()+s,o=e(this);return n.length>1?(r.ns=n[0],r.ew=n[1]):"e"===n[0]||"w"===n[0]?r.ew=n[0]:r.ns=n[0],o.offset().top<a&&(r.ns="n"),o.offset().left<i&&(r.ew="w"),e(t).width()+e(document).scrollLeft()-(o.offset().left+o.width())<s&&(r.ew="e"),e(t).height()+e(document).scrollTop()-(o.offset().top+o.height())<s&&(r.ns="s"),r.ns?r.ns+(r.ew?r.ew:""):r.ew}}}(jQuery,window)},"./app/assets/javascripts/vendor/jquery.tools.js":function(e,t){var s,n;!function(e){function t(t,s,n){var r=n.relative?t.position().top:t.offset().top,a=n.relative?t.position().left:t.offset().left,i=n.position[0];r-=s.outerHeight()-n.offset[0],a+=t.outerWidth()+n.offset[1],/iPad/i.test(navigator.userAgent)&&(r-=e(window).scrollTop());var o=s.outerHeight()+t.outerHeight();return"center"==i&&(r+=o/2),"bottom"==i&&(r+=o),i=n.position[1],t=s.outerWidth()+t.outerWidth(),"center"==i&&(a-=t/2),"left"==i&&(a-=t),{top:r,left:a}}function s(s,r){var a,i,o=this,c=s.add(o),u=0,l=0,p=s.attr("title"),d=s.attr("data-tooltip"),f=n[r.effect],h=s.is(":input"),m=h&&s.is(":checkbox, :radio, select, :button, :submit"),v=s.attr("type"),_=r.events[v]||r.events[h?m?"widget":"input":"def"];if(!f)throw'Nonexistent effect "'+r.effect+'"';if(2!=(_=_.split(/,\s*/)).length)throw"Tooltip: bad events configuration for "+v;s.bind(_[0],function(e){clearTimeout(u),r.predelay?l=setTimeout(function(){o.show(e)},r.predelay):o.show(e)}).bind(_[1],function(e){clearTimeout(l),r.delay?u=setTimeout(function(){o.hide(e)},r.delay):o.hide(e)}),p&&r.cancelDefault&&(s.removeAttr("title"),s.data("title",p)),e.extend(o,{show:function(n){if(!a&&(d?a=e(d):r.tip?a=e(r.tip).eq(0):p?a=e(r.layout).addClass(r.tipClass).appendTo(document.body).hide().append(p):(a=s.next()).length||(a=s.parent().next()),!a.length))throw"Cannot find tooltip for "+s;if(o.isShown())return o;a.stop(!0,!0);var h=t(s,a,r);return r.tip&&a.html(s.data("title")),(n=n||e.Event()).type="onBeforeShow",c.trigger(n,[h]),n.isDefaultPrevented()?o:(h=t(s,a,r),a.css({position:"absolute",top:h.top,left:h.left}),i=!0,f[0].call(o,function(){n.type="onShow",i="full",c.trigger(n)}),h=r.events.tooltip.split(/,\s*/),a.data("__set")||(a.bind(h[0],function(){clearTimeout(u),clearTimeout(l)}),h[1]&&!s.is("input:not(:checkbox, :radio), textarea")&&a.bind(h[1],function(e){e.relatedTarget!=s[0]&&s.trigger(_[1].split(" ")[0])}),a.data("__set",!0)),o)},hide:function(t){return a&&o.isShown()?((t=t||e.Event()).type="onBeforeHide",c.trigger(t),t.isDefaultPrevented()?void 0:(i=!1,n[r.effect][1].call(o,function(){t.type="onHide",c.trigger(t)}),o)):o},isShown:function(e){return e?"full"==i:i},getConf:function(){return r},getTip:function(){return a},getTrigger:function(){return s}}),e.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(t,s){e.isFunction(r[s])&&e(o).bind(s,r[s]),o[s]=function(t){return t&&e(o).bind(s,t),o}})}e.tools=e.tools||{version:"1.2.5"},e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(e,t,s){n[e]=[t,s]}};var n={toggle:[function(e){var t=this.getConf(),s=this.getTip();(t=t.opacity)<1&&s.css({opacity:t}),s.show(),e.call()},function(e){this.getTip().hide(),e.call()}],fade:[function(e){var t=this.getConf();this.getTip().fadeTo(t.fadeInSpeed,t.opacity,e)},function(e){this.getTip().fadeOut(this.getConf().fadeOutSpeed,e)}]};e.fn.tooltip=function(t){var n=this.data("tooltip");return n||("string"==typeof(t=e.extend(!0,{},e.tools.tooltip.conf,t)).position&&(t.position=t.position.split(/,?\s/)),this.each(function(){n=new s(e(this),t),e(this).data("tooltip",n)}),t.api?n:this)}}(jQuery),function(e){var t=e.tools.tooltip;e.extend(t.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!1});var s={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};t.addEffect("slide",function(e){var t=this.getConf(),n=this.getTip(),r=t.slideFade?{opacity:t.opacity}:{},a=s[t.direction]||s.up;r[a[1]]=a[0]+"="+t.slideOffset,t.slideFade&&n.css({opacity:0}),n.show().animate(r,t.slideInSpeed,e)},function(t){var n=this.getConf(),r=n.slideOffset,a=n.slideFade?{opacity:0}:{},i=s[n.direction]||s.up,o=""+i[0];n.bounce&&(o="+"==o?"-":"+"),a[i[1]]=o+"="+r,this.getTip().animate(a,n.slideOutSpeed,function(){e(this).hide(),t.call()})})}(jQuery),s=jQuery,(n=s.tools.tooltip).dynamic={conf:{classNames:"top right bottom left"}},s.fn.dynamic=function(e){"number"==typeof e&&(e={speed:e});var t,r=(e=s.extend({},n.dynamic.conf,e)).classNames.split(/\s/);return this.each(function(){var n=s(this).tooltip().onBeforeShow(function(n,a){n=this.getTip();var i=this.getConf();t||(t=[i.position[0],i.position[1],i.offset[0],i.offset[1],s.extend({},i)]),s.extend(i,t[4]),i.position=[t[0],t[1]],i.offset=[t[2],t[3]],n.css({visibility:"hidden",position:"absolute",top:a.top,left:a.left}).show(),function(e){for(var t=e.length;t--;)if(e[t])return!1;return!0}(a=function(e){var t=s(window),n=t.width()+t.scrollLeft(),r=t.height()+t.scrollTop();return[e.offset().top<=t.scrollTop(),n<=e.offset().left+e.width(),r<=e.offset().top+e.height(),t.scrollLeft()>=e.offset().left]}(n))||(a[2]&&(s.extend(i,e.top),i.position[0]="top",n.addClass(r[0])),a[3]&&(s.extend(i,e.right),i.position[1]="right",n.addClass(r[1])),a[0]&&(s.extend(i,e.bottom),i.position[0]="bottom",n.addClass(r[2])),a[1]&&(s.extend(i,e.left),i.position[1]="left",n.addClass(r[3])),(a[0]||a[2])&&(i.offset[0]*=-1),(a[1]||a[3])&&(i.offset[1]*=-1)),n.css({visibility:"visible"}).hide()});n.onBeforeShow(function(){var e=this.getConf();this.getTip(),setTimeout(function(){e.position=[t[0],t[1]],e.offset=[t[2],t[3]]},0)}),n.onHide(function(){this.getTip().removeClass(e.classNames)}),ret=n}),e.api?ret:this}},"./app/assets/javascripts/vendor/jquery.tooltip.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/delay/index.js"),r=s.n(n),a=s("./app/assets/javascripts/helpers/mobile_detect.js");!function(e){e.tools=e.tools||{version:"1.2.5"},e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip",ignoreSelector:""},addEffect:function(e,s,n){t[e]=[s,n]}};var t={toggle:[function(e){var t=this.getConf(),s=this.getTip(),n=t.opacity;n<1&&s.css({opacity:n}),s.show(),e.call()},function(e){this.getTip().hide(),e.call()}],fade:[function(e){var t=this.getConf();this.getTip().fadeTo(t.fadeInSpeed,t.opacity,e)},function(e){this.getTip().fadeOut(this.getConf().fadeOutSpeed,e)}]};function s(t,s,n,r){var a=void 0==t.data("relative")?n.relative:t.data("relative"),i=a?t.position().top:t.offset().top,o=a?t.position().left:t.offset().left,c=t.offset().left,u=t.offset().top,l=n.position[0];r||s.show(),s.removeClass("tooltip-bottom tooltip-center tooltip-moved"),i-=s.outerHeight()-n.offset[0]-(t.data("offset-top")||0),o+=t.outerWidth()+n.offset[1]-(t.data("offset-left")||0),c+=t.outerWidth()+n.offset[1],/iPad/i.test(navigator.userAgent)&&(i-=e(window).scrollTop());var p=s.outerHeight()+t.outerHeight();"center"==l&&(i+=p/2),"bottom"==l&&(i+=p),l=n.position[1];var d=s.outerWidth()+t.outerWidth();"center"==l&&(o-=d/2,c-=d/2),"left"==l&&(o-=d,c-=d);var f=s.find(".tooltip-arrow").outerWidth(),h=s.find(".tooltip-inner").outerWidth()+f,m=s.find(".tooltip-inner").outerHeight(),v=s.find(".dropshadow-left").outerWidth(),_=s.find(".dropshadow-top").outerHeight(),g=c+h+v-e(window).width();if(!t.data("no-align")&&(g>0||n.place_to_left||t.data("place-to-left"))){var y=o-(h+t.outerWidth()+f+2*(t.data("offset-left")||0)+(t.data("offset-left-right")||0));y>-(a?t.offset().left-t.position().left:0)||n.place_to_left||t.data("place-to-left")?(o=y+(n.offset[2]||0),s.addClass("tooltip-left")):-y<g?(o=0,s.addClass("tooltip-moved")):(o-=g+10,s.addClass("tooltip-moved"))}else s.removeClass("tooltip-left");var j=s.find(".tooltip-arrow");j.data("top")||j.data("top",parseInt(j.css("top"))),j.css("top",j.data("top"));var b=u+m+_-e(window).scrollTop()-e(window).height();if(!t.data("no-align")){var w=i;b>0&&!n.no_y_adjustment&&(i=[i-b+10,10].max()),w!=i&&j.css("top",j.data("top")+(w-i));var $=u-e(window).scrollTop();$<0&&(i=[i-$-10,10].max())}return n.moved&&s.addClass("tooltip-moved"),r||s.hide(),{top:i,left:o}}function n(n,i){var o,c,u=this,l=n.add(u),p=0,d=0,f=n.data("do-not-use-title")?null:n.attr("title"),h=n.attr("data-tooltip"),m=t[i.effect],v=n.is(":input"),_=v&&n.is(":checkbox, :radio, select, :button, :submit"),g=n.attr("type"),y=i.events[g]||i.events[v?_?"widget":"input":"def"];if(!m)throw'Nonexistent effect "'+i.effect+'"';if(2!=(y=y.split(/,\s*/)).length)throw"Tooltip: bad events configuration for "+g;n.on(y[0],function(e){clearTimeout(d);var t=n.data("predelay")||i.predelay;t?d=setTimeout(function(){u.show(e)},t):u.show(e)}).on(y[1],function(e){clearTimeout(d);var t=n.data("delay")||i.delay;t?p=setTimeout(function(){u.hide(e)},t):u.hide(e)}),i.ignoreSelector&&n.on("mouseover",i.ignoreSelector,function(e){r()().then(function(){clearTimeout(d),u.hide(e)})}).on("mouseout",i.ignoreSelector,function(t){(t.target==n[0]||e(t.target).closest(n))&&n.trigger("mouseover",[{target:n[0]}])}),f&&i.cancelDefault&&(n.removeAttr("title"),n.data("title",f)),e.extend(u,{show:function(t){if(t.target.classList.contains("mobile")||!("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0||Object(a.isMobile)())){if(!o){if(h)o=e(h);else if(i.tip)o=e(i.tip).eq(0);else if((n.data("tooltip_url")||n.data("href")||n.attr("href"))&&!n.data("local-tooltip")){o=e(i.defaultTemplate).addClass(i.tipClass).css("z-index",parseInt(n.parents(".tooltip").css("z-index"))||1).hide(),n.data("insert-tooltip-after")?o.insertAfter(n):o.appendTo(document.body),(t=t||e.Event()).type="onBeforeFetch",l.trigger(t,[]);var f=n.data("tooltip_url")||n.data("href")||n.attr("href").replace(/(\?|$)/,"/tooltip$1");o.find(".tooltip-details").load(f,function(){var t=e(this),a=t.find(".tooltip-desc");a.length&&""==a.html()&&t.find("img").length&&t.parents(".tooltip").addClass("tooltip-image"),t.process(),r()(50).then(function(){if("none"!=o.css("display")){var e=parseInt(o.css("top")),t=parseInt(o.css("left")),r=s(n,o,i,!0);(Math.abs(e-r.top)>20||Math.abs(t-r.left)>20)&&o.stop(!0,!0).css({top:r.top,left:r.left})}})}),n.attr("data-remote",null),n.attr("tooltip",null)}else(o=n.next()).length||(o=n.parent().next());if(!o.length)throw"Cannot find tooltip for "+n}if(u.isShown())return u;o.stop(!0,!0);var v=s(n,o,i);i.tip&&o.html(n.data("title")),(t=t||e.Event()).type="onBeforeShow",l.trigger(t,[v]),v=s(n,o,i),o.css({position:"absolute",top:v.top,left:v.left}),c=!0,m[0].call(u,function(){t.type="onShow",c="full",l.trigger(t)});var _=i.events.tooltip.split(/,\s*/);return o.data("__set")||(o.on(_[0],function(){clearTimeout(p),clearTimeout(d)}),_[1]&&!n.is("input:not(:checkbox, :radio), textarea")&&o.on(_[1],function(e){e.relatedTarget!=n[0]&&n.trigger(y[1].split(" ")[0])}),o.data("__set",!0)),u}},hide:function(s){return o&&u.isShown()?((s=s||e.Event()).type="onBeforeHide",l.trigger(s),c=!1,t[i.effect][1].call(u,function(){s.type="onHide",l.trigger(s)}),u):u},isShown:function(e){return e?"full"==c:c},getConf:function(){return i},getTip:function(){return o},getTrigger:function(){return n}}),e.each("onBeforeFetch,onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(t,s){e.isFunction(i[s])&&e(u).on(s,i[s]),u[s]=function(t){return t&&e(u).on(s,t),u}})}e.fn.tooltip=function(t){var s=this.data("tooltip");return s||("string"==typeof(t=e.extend(!0,{},e.tools.tooltip.conf,t)).position&&(t.position=t.position.split(/,?\s/)),this.each(function(){s=new n(e(this),t),e(this).data("tooltip",s)}),t.api?s:this)}}(jQuery)},"./app/assets/javascripts/vendor/modernizr.js":function(e,t){!function(e,t,s){var n=[],r=[],a={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var s=this;setTimeout(function(){t(s[e])},0)},addTest:function(e,t,s){r.push({name:e,fn:t,options:s})},addAsyncTest:function(e){r.push({name:null,fn:e})}},i=function(){};i.prototype=a,(i=new i).addTest("history",function(){var t=navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")||"file:"===location.protocol)&&(e.history&&"pushState"in e.history)}),i.addTest("webworkers","Worker"in e);var o=a._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];function c(e,t){return typeof e===t}a._prefixes=o;var u=t.documentElement,l="svg"===u.nodeName.toLowerCase();var p=a._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];a._domPrefixes=p;var d="CSS"in e&&"supports"in e.CSS,f="supportsCSS"in e;function h(){return"function"!==typeof t.createElement?t.createElement(arguments[0]):l?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function m(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,s){return t+s.toUpperCase()}).replace(/^-/,"")}function v(e,s,n,r){var a,i,o,c,p="modernizr",d=h("div"),f=function(){var e=t.body;return e||((e=h(l?"svg":"body")).fake=!0),e}();if(parseInt(n,10))for(;n--;)(o=h("div")).id=r?r[n]:p+(n+1),d.appendChild(o);return(a=h("style")).type="text/css",a.id="s"+p,(f.fake?f:d).appendChild(a),f.appendChild(d),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),d.id=p,f.fake&&(f.style.background="",f.style.overflow="hidden",c=u.style.overflow,u.style.overflow="hidden",u.appendChild(f)),i=s(d,e),f.fake?(f.parentNode.removeChild(f),u.style.overflow=c,u.offsetHeight):d.parentNode.removeChild(d),!!i}i.addTest("supports",d||f);var _,g,y,j=a.testStyles=v;(_=navigator.userAgent,g=_.match(/w(eb)?osbrowser/gi),y=_.match(/windows phone/gi)&&_.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9,g||y)?i.addTest("fontface",!1):j('@font-face {font-family:"font";src:url("https://")}',function(e,s){var n=t.getElementById("smodernizr"),r=n.sheet||n.styleSheet,a=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"",o=/src/i.test(a)&&0===a.indexOf(s.split(" ")[0]);i.addTest("fontface",o)});var b=a._config.usePrefixes?"Moz O ms Webkit".split(" "):[];a._cssomPrefixes=b;var w=function(t){var n,r=o.length,a=e.CSSRule;if("undefined"===typeof a)return s;if(!t)return!1;if((n=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in a)return"@"+t;for(var i=0;i<r;i++){var c=o[i];if(c.toUpperCase()+"_"+n in a)return"@-"+c.toLowerCase()+"-"+t}return!1};a.atRule=w;var $={elem:h("modernizr")};i._q.push(function(){delete $.elem});var k={style:$.elem.style};function x(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function C(t,n){var r=t.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(x(t[r]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];r--;)a.push("("+x(t[r])+":"+n+")");return v("@supports ("+(a=a.join(" or "))+") { #modernizr { position: absolute; } }",function(t){return"absolute"==function(t,s,n){var r;if("getComputedStyle"in e){r=getComputedStyle.call(e,t,s);var a=e.console;null!==r?n&&(r=r.getPropertyValue(n)):a&&a[a.error?"error":"log"].call(a,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else r=!s&&t.currentStyle&&t.currentStyle[n];return r}(t,null,"position")})}return s}function O(e,t,n,r){if(r=!c(r,"undefined")&&r,!c(n,"undefined")){var a=C(e,n);if(!c(a,"undefined"))return a}for(var i,o,u,l,p,d=["modernizr","tspan","samp"];!k.style&&d.length;)i=!0,k.modElem=h(d.shift()),k.style=k.modElem.style;function f(){i&&(delete k.style,delete k.modElem)}for(u=e.length,o=0;o<u;o++)if(l=e[o],p=k.style[l],~(""+l).indexOf("-")&&(l=m(l)),k.style[l]!==s){if(r||c(n,"undefined"))return f(),"pfx"!=t||l;try{k.style[l]=n}catch(v){}if(k.style[l]!=p)return f(),"pfx"!=t||l}return f(),!1}i._q.unshift(function(){delete k.style});a.testProp=function(e,t,n){return O([e],s,t,n)};function S(e,t){return function(){return e.apply(t,arguments)}}function T(e,t,s,n,r){var a=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+b.join(a+" ")+a).split(" ");return c(t,"string")||c(t,"undefined")?O(i,t,n,r):function(e,t,s){var n;for(var r in e)if(e[r]in t)return!1===s?e[r]:c(n=t[e[r]],"function")?S(n,s||t):n;return!1}(i=(e+" "+p.join(a+" ")+a).split(" "),t,s)}function P(e,t,n){return T(e,s,s,t,n)}a.testAllProps=T,a.testAllProps=P,i.addTest("cssanimations",P("animationName","a",!0)),i.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&P("transform","scale(1)",!0)}),i.addTest("csstransforms3d",function(){return!!P("perspective","1px",!0)}),i.addTest("csstransitions",P("transition","all",!0));var E=(a.prefixed=function(e,t,s){return 0===e.indexOf("@")?w(e):(-1!=e.indexOf("-")&&(e=m(e)),t?T(e,t,s):T(e,"pfx"))})("URL",e,!1);E=E&&e[E],i.addTest("bloburls",E&&"revokeObjectURL"in E&&"createObjectURL"in E),i.addTest("cssmask",P("maskRepeat","repeat-x",!0)),function(){var e,t,s,a,o,u;for(var l in r)if(r.hasOwnProperty(l)){if(e=[],(t=r[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(s=0;s<t.options.aliases.length;s++)e.push(t.options.aliases[s].toLowerCase());for(a=c(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)1===(u=e[o].split(".")).length?i[u[0]]=a:(!i[u[0]]||i[u[0]]instanceof Boolean||(i[u[0]]=new Boolean(i[u[0]])),i[u[0]][u[1]]=a),n.push((a?"":"no-")+u.join("-"))}}(),function(e){var t=u.className,s=i._config.classPrefix||"";if(l&&(t=t.baseVal),i._config.enableJSClass){var n=new RegExp("(^|\\s)"+s+"no-js(\\s|$)");t=t.replace(n,"$1"+s+"js$2")}i._config.enableClasses&&(t+=" "+s+e.join(" "+s),l?u.className.baseVal=t:u.className=t)}(n),delete a.addTest,delete a.addAsyncTest;for(var I=0;I<i._q.length;I++)i._q[I]();e.Modernizr=i}(window,document)},"./app/assets/javascripts/vendor/sugar.js":function(e,t,s){(function(t){(function(){"use strict";var s,n="Sugar",r="Object Number String Array Date RegExp Function",a=1,i=2,o=!(!Object.defineProperty||!Object.defineProperties),c="undefined"!==typeof t&&t.Object===Object?t:this,u=e.exports,l=!1,p={},d={},f=o?Object.defineProperty:function(e,t,s){e[t]=s.value},h=b("Chainable");function m(e){var t="Object"===e,n=b(e);function r(e,t,s){T(n,e,function(e,r,o){var c=_(e,r,o);return function(e,t,s,n,r){S(t,function(t,o){var c,u=t;n&&(u=g(t)),r&&(u.flags=r),s&i&&!t.instance&&(c=function(e,t){return t?g(e,!0):function(e){switch(e.length){case 0:case 1:return function(){return e(this)};case 2:return function(t){return e(this,t)};case 3:return function(t,s){return e(this,t,s)};case 4:return function(t,s,n){return e(this,t,s,n)};case 5:return function(t,s,n,r){return e(this,t,s,n,r)}}}(e)}(t,n),T(u,"instance",c)),s&a&&T(u,"static",!0),j(e,o,u),e.active&&e.extend(o)})}(n,c.methods,t,s,c.last),n})}return r("defineStatic",a),r("defineInstance",i),r("defineInstanceAndStatic",i|a),r("defineStaticWithArguments",a,!0),r("defineInstanceWithArguments",i,!0),T(n,"defineStaticPolyfill",function(t,s,r){var a=_(t,s,r);return y(c[e],a.methods,!0,a.last),n}),T(n,"defineInstancePolyfill",function(t,s,r){var a=_(t,s,r);return y(c[e].prototype,a.methods,!0,a.last),S(a.methods,function(e,t){w(n,t,e)}),n}),T(n,"alias",function(e,t){var s="string"===typeof t?n[t]:t;return j(n,e,s),n}),T(n,"extend",function(s){var r,a,i,o=c[e],u=o.prototype,p={},d={};function f(e,t){var n=s[e];if(n)for(var r,a=0;r=n[a];a++)if(r===t)return!0;return!1}function h(e,n,r){return!function(e,s){return t&&s===u&&(!l||"get"===e||"set"===e)}(e,r)&&!function(e,t,n){if(!t[e]||!n)return!1;for(var r=0;r<n.length;r++)if(!1===s[n[r]])return!0}(e,r,n.flags)&&!function(e){return f("except",e)}(e)}if(r=(s=s||{}).methods,!f("except",o)&&(i=o,!s[a="namespaces"]||f(a,i)))return t&&"boolean"===typeof s.objectPrototype&&(l=s.objectPrototype),S(r||n,function(e,t){r&&(e=n[t=e]),E(e,"instance")&&h(t,e,u)&&(d[t]=e.instance),E(e,"static")&&h(t,e,o)&&(p[t]=e)}),y(o,p),y(u,d),r||T(n,"active",!0),n}),p[e]=n,d["[object "+e+"]"]=n,k(e),function(e){S(s.Object&&s.Object.prototype,function(t,s){"function"===typeof t&&$(e,s,t)})}(n),s[e]=n}function v(){return n}function _(e,t,s){var n,r;return"string"===typeof e?((n={})[e]=t,r=s):(n=e,r=t),{last:r,methods:n}}function g(e,t){var s=e.length-1-(t?1:0);return function(){var n,r=[],a=[];t&&r.push(this),n=Math.max(arguments.length,s);for(var i=0;i<n;i++)i<s?r.push(arguments[i]):a.push(arguments[i]);return r.push(a),e.apply(this,r)}}function y(e,t,s,n){S(t,function(t,r){s&&!n&&e[r]||T(e,r,t)})}function j(e,t,s){e[t]=s,s.instance&&w(e,t,s.instance)}function b(e){var t=function(e,s){if(!(this instanceof t))return new t(e,s);this.constructor!==t&&(e=this.constructor.apply(e,arguments)),this.raw=e};return T(t,"toString",function(){return n+e}),T(t.prototype,"valueOf",function(){return this.raw}),t}function w(e,t,n){var r,a,i,o=function(e){return function(){return new h(e.apply(this.raw,arguments))}}(n);a=(r=(i=h.prototype)[t])&&r!==Object.prototype[t],r&&r.disambiguate||(i[t]=a?function(e){var t=function(){var t,n=this.raw;return null!=n&&(t=d[P(n)]),t||(t=s.Object),new t(n)[e].apply(this,arguments)};return t.disambiguate=!0,t}(t):o),e.prototype[t]=o,e===s.Object&&function(e,t){S(p,function(s){$(s,e,t)})}(t,o)}function $(e,t,s){var n=e.prototype;E(n,t)||(n[t]=s)}function k(e,t){var s=p[e],n=c[e].prototype;!t&&x&&(t=x(n)),S(t,function(e){if(!function(e){return"constructor"===e||"valueOf"===e||"__proto__"===e}(e)){try{var t=n[e];if("function"!==typeof t)return}catch(r){return}w(s,e,t)}})}var x=Object.getOwnPropertyNames,C=Object.prototype.toString,O=Object.prototype.hasOwnProperty,S=function(e,t){for(var s in e)if(E(e,s)&&!1===t.call(e,e[s],s,e))break};function T(e,t,s,n){f(e,t,{value:s,enumerable:!!n,configurable:!0,writable:!0})}function P(e){return C.call(e)}function E(e,t){return!!e&&O.call(e,t)}function I(e,t){if(E(e,t))return e[t]}!function(){if(!(s=c[n])){if(s=function(e){return S(s,function(t,s){E(p,s)&&t.extend(e)}),s},u)e.exports=s;else try{c[n]=s}catch(t){}S(r.split(" "),function(e){m(e)}),T(s,"extend",s),T(s,"toString",v),T(s,"createNamespace",m),T(s,"util",{hasOwn:E,getOwn:I,setProperty:T,classToString:P,defineProperty:f,forEachProperty:S,mapNativeToChainable:k})}}();var A,q,L,R,M,D,N,z,H,U,F,V="Boolean Number String Date RegExp Function Array Error Set Map",B=!("0"in Object("a")),W="_sugar_",G=/^(.*?)\[([-\d]*)\.\.([-\d]*)\](.*)$/,K=/([{}])\1|\{([^}]*)\}|(%)%|(%(\w*))/g,Y=48,Q=65296,X=".",J="\uff0e",Z=",",ee="{",te="}",se=s.Object,ne=s.Array,re=(s.Date,s.String),ae=s.Number,ie=s.Function,E=(s.RegExp,s.util.hasOwn),I=s.util.getOwn,T=s.util.setProperty,P=s.util.classToString,k=(f=s.util.defineProperty,S=s.util.forEachProperty,s.util.mapNativeToChainable);function oe(e,t,s){return s||(s=P(e)),s==="[object "+t+"]"}function ce(e){return function(t,s,n){t[e](s,n)}}var ue=ce("alias"),le=ce("defineStatic"),pe=ce("defineInstance"),de=ce("defineStaticPolyfill"),fe=ce("defineInstancePolyfill"),he=ce("defineInstanceAndStatic"),me=ce("defineInstanceWithArguments");function ve(e,t,s,n){he(e,function(e,t){var s={};R(e)&&(e=Fe(e));return Ve(e,function(e,n){t(s,e,n)}),s}(t,s),n)}function _e(e){var t=function(t){var s=arguments;return e(t,s[1],s[2],s.length-1)};return t.instance=function(t){var s=arguments;return e(this,t,s[1],s.length)},t}function ge(e,t,s){T(e,t,s)}function ye(e,t){var s=function(e){return t={},s=e,S(s,function(e,s){t[s]=e}),t;var t,s}(t);function n(e){return s[e]}return ge(e,"getOption",n),ge(e,"setOption",function(e,n){var r;1===arguments.length?r=e:(r={})[e]=n,S(r,function(e,n){null===e&&(e=t[n]),s[n]=e})}),n}function je(e){if(!N(e))throw new TypeError("Function is not callable")}function be(e){if(Ee(e))throw new TypeError("Property cannot be written")}function we(e){if((e=+e||0)<0||!L(e)||!isFinite(e))throw new RangeError("Invalid number");return Ge(e)}function $e(e){return void 0!==e}function ke(e){return void 0===e}function xe(e){var t=W+e;return function(e,s){return arguments.length>1?(T(e,t,s),e):e[t]}}function Ce(e){if(!Ee(e)){var t=P(e);if(D(e,t))return i=e,i=RegExp(i),function(e){return i.test(e)};if(M(e,t))return a=e.getTime(),function(e){return!(!e||!e.getTime)&&e.getTime()===a};if(N(e,t))return r=e,function(e,t,s){return e===r||r.call(s,e,t,s)};if(Ie(e,t))return s=e,n={},function(e,t,r){var a=!0;return!!Pe(e)&&(S(s,function(s,i){return n[i]=I(n,i)||Ce(s),!1===n[i].call(r,e[i],t,r)&&(a=!1),a}),a)}}var s,n,r,a,i;return function(e){return function(t){return Le(t,e)}}(e)}function Oe(e){return Object.keys(e)}function Se(e,t,s){return Te(e,t,s,!1)}function Te(e,t,s,n,r,a,i){var o,c,u,l,p,d,f,h,m;if(o=e||void 0,null!=t){if(Pe(t))c=[t];else{if(-1!==(t=String(t)).indexOf(".."))return function(e,t,s,n){var r,a,i,o,c,u,l;if(!(r=t.match(G)))return;l=$e(n),u=(o=r[1])?Te(e,o,s,!1,!!l,!0):e;if(function(e){if(!z(e))throw new TypeError("Array required")}(u),c=r[4],a=r[2]?+r[2]:0,i=-1===(i=r[3]?+r[3]:u.length)?u.length:i+1,l)for(var p=a;p<i;p++)Te(u,p+c,s,!1,!0,!1,n);else if(u=u.slice(a,i),c)return c.charAt(0)===X&&(c=c.slice(1)),u.map(function(e){return Te(e,c)});return u}(e,t,s,i);c=t.split("[")}p=$e(i);for(var v=0,_=c.length;v<_;v++){u=c[v],R(u)&&(u=u.split(X));for(var g=0,y=u.length;g<y;g++)if(d=v===_-1&&g===y-1,f=-1!==(l=(t=u[g]).indexOf("]")),h=_>1&&g===y-1,p&&0===l?t=o.length:f&&(t=t.slice(0,-1)),f&&t<0&&(t=+t+o.length),v||t||1===_){if(m=s?t in o:E(o,t),r&&(!d||a)&&!m){o=o[t]=h||a&&d?[]:{};continue}if(n){if(d||!m)return m}else p&&d&&(be(o),o[t]=i);o=m?o[t]:void 0}}return o}}function Pe(e,t){return!!e&&"object"===(t||typeof e)}function Ee(e,t){return t=t||typeof e,null==e||"string"===t||"number"===t||"boolean"===t}function Ie(e,t){return Pe(e)&&oe(e,"Object",t)&&function(e){var t="toString"in e,s="constructor"in e;return!s&&!t||s&&!E(e,"constructor")&&E(e.constructor.prototype,"isPrototypeOf")}(e)&&function(e){var t=Object.prototype;for(var s in e){var n=e[s];if(!E(e,s)&&n!==t[s])return!1}return!0}(e)}function Ae(e,t){for(var s=0;s<e;s++)t(s)}function qe(e){return Ee(e)&&(e=Object(e)),B&&R(e)&&function(e){var t,s=0;for(;t=e.charAt(s);)e[s++]=t}(e),e}function Le(e,t,s){var n,r;return e===t?0!==e||1/e===1/t:(n=P(e))===(r=P(t))&&(A(e,n)&&A(t,r)?function(e,t,s,n){var r,a;if(typeof e!==typeof t)return!1;if(Pe(e.valueOf())){if(e.length!==t.length)return!1;if(a=0,r=!0,Me(e,!1,n,function(e,s,n,i){return n||e in t&&Le(s,t[e],i)||(r=!1),a++,r}),!r||a!==Oe(t).length)return!1}return e.valueOf().toString()===t.valueOf().toString()}(e,t,0,s):H(e,n)&&H(t,r)?e.size===t.size&&Le(dt(e),dt(t),s):U(e,n)&&U(t,r)?e.size===t.size&&Le(ft(e),ft(t),s):!(!F(e,n)||!F(t,r))&&e.toString()===t.toString())}function Re(e,t,s){var n,r,a,i=typeof e;return Ee(e,i)&&!Ke(e)?i+e:(n=P(e),A(e,n)?(Pe(e)?r=function(e,t,s){var n="";return Me(e,!0,s,function(e,s,r,a){n+=r?"CYC":e+Re(s,t,a)}),n}(e,t,s)+e.toString():1/e===-1/0?r="-0":e.valueOf&&(r=e.valueOf()),i+n+r):(-1===(a=function(e,t){for(var s=0,n=e.length;s<n;s++)if(s in e&&e[s]===t)return s;return-1}(t,e))&&(a=t.length,t.push(e)),a))}function Me(e,t,s,n){function r(e,t){var r=!1;if(s.length>1)for(var a=s.length;a--;)s[a]===e&&(r=!0);s.push(e),n(t,e,r,s),s.pop()}s||(s=[]),t?function(){for(var t,s=Oe(e).sort(),n=0;n<s.length;n++)t=s[n],r(e[t],s[n])}():S(e,r)}function De(e){return e>>>0==e&&4294967295!=e}function Ne(e,t,s,n){for(var r,a=function(e,t,s,n){var r,a=[];for(r in e)De(r)&&(s||(n?r<=t:r>=t))&&a.push(+r);return a.sort(function(e,s){var n=e>t;return n!==s>t?n?-1:1:e-s}),a}(e,s,n),i=0,o=a.length;i<o;i++)r=a[i],t.call(e,e[r],r,e);return e}function ze(e,t,s,n){var r,a=e.length;return z(t)?(r=new Array(t.length),Ve(t,function(t,i){r[i]=He(e,t,a,s,n)}),r):He(e,t,a,s,n)}function He(e,t,s,n,r){return t=function(e,t,s){return e&&s&&(e%=t),e<0&&(e=t+e),e}(t,s,n),r?e.charAt(t):e[t]}function Ue(e,t,s,n){return t?t.apply?t.apply(s,n||[]):z(t)?t.map(function(t){return Ue(e,t,s,n)}):N(e[t])?e[t].call(e):Se(e,t):e}function Fe(e){return e.split(" ")}function Ve(e,t){for(var s=0,n=e.length;s<n;s++){if(!(s in e))return Ne(e,t,s);t(e[s],s)}}var Be,We,Ge=Math.trunc||function(e){return 0!==e&&isFinite(e)?e<0?et(e):tt(e):e};function Ke(e){return null!=e&&e!==e}function Ye(e,t){var s,n;return s=e.replace(Be,function(e){var t=I(We,e);return t===X&&(n=!0),t}),n?parseFloat(s):parseInt(s,t||10)}var Qe=Math.abs,Xe=Math.pow,Je=Math.min,Ze=Math.max,et=Math.ceil,tt=Math.floor,st=Math.round,nt=String.fromCharCode;function rt(e){return e.trim()}function at(e){return e.charAt(0).toUpperCase()+e.slice(1)}var it={};function ot(e,t){var s="";function n(e,n){(e||t.indexOf(n)>-1)&&(s+=n)}return t=t||"",n(e.global,"g"),n(e.ignoreCase,"i"),n(e.multiline,"m"),n(e.sticky,"y"),s}function ct(e){return R(e)||(e=String(e)),e.replace(/([\\\/\'*+?|()\[\]{}.^$-])/g,"\\$1")}var ut,lt,pt=1e3;function dt(e){var t=new Array(e.size),s=0;return e.forEach(function(e){t[s++]=e}),t}function ft(e){var t=new Array(e.size),s=0;return e.forEach(function(e,n){t[s++]=[n,e]}),t}function ht(e,t){_t("plural",e,t=t||e),R(e)&&mt(t,e)}function mt(e,t){_t("singular",e,t)}function vt(e,t){var s=RegExp(e+"$","i"),n=RegExp(t+"$","i");ht(s,t),ht(n,t),mt(n,e),mt(s,e)}function _t(e,t,s){it[e]||(it[e]=new ut),it[e].add(t,s)}function gt(e){if(null==e)throw new TypeError("String required.");return String(e)}function yt(e){if(D(e))throw new TypeError;return String(e)}function jt(e){if(null==e)throw new TypeError("Object required.");return qe(e)}function bt(e,t){return Ke(e)?Ke(t):e===t&&(0!==e||1/e===1/t)}!function(){var e,t={};function s(e){t["[object "+e+"]"]=!0}function n(e,t){return t&&oe(new t,"Object")?(s=String(t),function(e){return String(e.constructor)===s}):function(e){return function(t,s){return oe(t,e,s)}}(e);var s}function r(e){var t=e.toLowerCase();return function(s){var n=typeof s;return n===t||"object"===n&&oe(s,e)}}e=Fe(V),q=r(e[0]),L=r(e[1]),R=r(e[2]),M=n(e[3]),D=n(e[4]),N=n(e[5]),z=Array.isArray||n(e[6]),F=n(e[7]),H=n(e[8],"undefined"!==typeof Set&&Set),U=n(e[9],"undefined"!==typeof Map&&Map),s("Arguments"),s(e[0]),s(e[1]),s(e[2]),s(e[3]),s(e[4]),s(e[6]),Ve(Fe("Int8 Uint8 Uint8Clamped Int16 Uint16 Int32 Uint32 Float32 Float64"),function(e){s(e+"Array")}),A=function(e,s){return function(e){return t[e]}(s=s||P(e))||Ie(e,s)}}(),function(){var e=J,t=X,s=Z,n="";We={};for(var r,a=0;a<=9;a++)n+=r=nt(a+Q),We[r]=nt(a+Y);We[s]="",We[e]=t,We[t]=t,Be=RegExp("["+(n+e+s+t)+"]","g"),n}(),fe(re,{includes:function(e){arguments.length;var t=arguments[1],s=gt(this);return e=yt(e),-1!==s.indexOf(e,t)},startsWith:function(e){arguments.length;var t,s,n,r,a,i=arguments[1];return t=gt(this),e=yt(e),n=+i||0,r=t.length,s=Je(Ze(n,0),r),!((a=e.length)+s>r)&&t.substr(s,a)===e},endsWith:function(e){arguments.length;var t,s,n,r,a,i=arguments[1];return t=gt(this),e=yt(e),n=r=t.length,$e(i)&&(n=+i||0),!((s=Je(Ze(n,0),r)-(a=e.length))<0)&&t.substr(s,a)===e},repeat:function(e){return function(e,t){var s="";for(e=e.toString();t>0;)1&t&&(s+=e),(t>>=1)&&(e+=e);return s}(this,e=we(e))}}),de(ae,{isNaN:function(e){return Ke(e)}}),de(ne,{from:function(e){arguments.length;var t,s,n=arguments[1],r=arguments[2];if($e(n)&&je(n),e=jt(e),!De(t=Ge(Ze(0,e.length||0))))throw new RangeError("Invalid array length");N(this)?(s=new this(t)).length=t:s=new Array(t);for(var a=0;a<t;a++)T(s,a,$e(n)?n.call(r,e[a],a):e[a],!0);return s}}),fe(ne,{find:function(e){arguments.length;var t=arguments[1];je(e);for(var s=0,n=this.length;s<n;s++)if(e.call(t,this[s],s,this))return this[s]},findIndex:function(e){arguments.length;var t=arguments[1];je(e);for(var s=0,n=this.length;s<n;s++)if(e.call(t,this[s],s,this))return s;return-1}}),fe(ne,{includes:function(e){arguments.length;var t,s=arguments[1],n=this;if(R(n))return n.includes(e,s);s=s?s.valueOf():0,t=n.length,s<0&&(s=Ze(0,s+t));for(var r=s;r<t;r++)if(bt(e,n[r]))return!0;return!1}});var wt=/[^\u0000-\u0040\u005B-\u0060\u007B-\u007F]+('s)?/g,$t=/(^|_)([^_]+)/g,kt=String.prototype.includes,xt=function(e,t,s){var n,r,a,i=K,o=(n=function(e){var t,s=[],n=0;for(i.lastIndex=0;t=i.exec(e);)u(s,e,n,t.index),c(s,t),n=i.lastIndex;return u(s,e,n,e.length),s},r={},a=0,function(e){return E(r,e)?r[e]:(a===pt&&(r={},a=0),a++,r[e]=n(e))});function c(n,r){var a,i,o,c,u,l=r[2],p=r[3],d=r[5];r[4]&&t?(i=d,a=t):l?(i=l,a=e):o=p&&t?p:r[1]||r[0],a&&(function(e,t,s){if(e&&!e(t,s))throw new TypeError("Invalid token "+(t||s)+" in format string")}(s,l,d),c=function(e,t){return a(e,i,t)}),n.push(c||(u=o,function(){return u}))}function u(e,t,s,n){if(n>s){var r=t.slice(s,n);l(r,ee),l(r,te),e.push(function(){return r})}}function l(e,t){if(-1!==e.indexOf(t))throw new TypeError("Unmatched "+t+" in format string")}return function(e,t,s){for(var n=o(e),r="",a=0;a<n.length;a++)r+=n[a](t,s);return r}}(Se);function Ct(e,t,s){var n,r,a,i=[];if(N(t)?(s=t,a=/[\s\S]/g):t?R(t)?a=RegExp(ct(t),"gi"):D(t)&&(a=RegExp(t.source,ot(t,"g"))):a=/[\s\S]/g,n=function(e,t){var s,n,r=[];for(;null!=(s=t.exec(e));)t.lastIndex===n?t.lastIndex+=1:r.push(s[0]),n=t.lastIndex;return r}(e,a))for(var o,c=0,u=n.length;c<u;c++)if(r=n[c],i[c]=r,s){if(!1===(o=s.call(e,r,c,n)))break;$e(o)&&(i[c]=o)}return i}function Ot(e,t){var s,n,r=new Array(e.length);for(s=0,n=e.length;s<n;s++){var a=e.charCodeAt(s);r[s]=a,t&&t.call(e,a,s,e)}return r}function St(e){var t=it.acronyms&&it.acronyms.reg;return e.replace(/[-\s]+/g,"_").replace(t,function(e,t){return(t>0?"_":"")+e.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()}function Tt(e,t){return(e=St(e)).replace($t,function(e,s,n,r){var a,i=!1!==t||r>0;return(a=function(e){return it.acronyms&&it.acronyms.find(e)}(n))&&i?a:i?Pt(n,!0):n})}function Pt(e,t,s){return t&&(e=e.toLowerCase()),s?e.replace(wt,at):at(e)}function Et(e,t,s){var n,r=0;return R(t)?t=RegExp(ct(t),"g"):t&&!t.global&&(t=RegExp(t.source,ot(t,"g"))),s?(n=s,s=function(){var e=n[r++];return null!=e?e:""}):s="",e.replace(t,s)}pe(re,{includes:_e(function(e,t,s){return D(t)?(s&&(e=e.slice(s)),t.test(e)):kt.call(e,t,s)})},["enhance","enhanceString"]),pe(re,{at:function(e,t,s){return ze(e,t,s,!0)},forEach:function(e,t,s){return Ct(e,t,s)},chars:function(e,t,s){return Ct(e,t,s)},codes:function(e,t){return Ot(e,t)},shift:function(e,t){var s="";return t=t||0,Ot(e,function(e){s+=nt(e+t)}),s},isBlank:function(e){return 0===rt(e).length},isEmpty:function(e){return 0===e.length},remove:function(e,t){return e.replace(t,"")},removeAll:function(e,t){return Et(e,t)},reverse:function(e){return function(e){return e.split("").reverse().join("")}(e)},compact:function(e){return rt(e).replace(/([\r\n\s\u3000])+/g,function(e,t){return"\u3000"===t?t:" "})},from:function(e,t){return e.slice(function(e,t,s){return R(t)&&-1===(t=e.indexOf(t))&&(t=s?e.length:0),t}(e,t,!0))},camelize:function(e,t){return Tt(e,t)},first:function(e,t){return ke(t)&&(t=1),e.substr(0,t)},last:function(e,t){ke(t)&&(t=1);var s=e.length-t<0?0:e.length-t;return e.substr(s)},capitalize:function(e,t,s){return Pt(e,t,s)},singularize:function(e){return lt("singular",String(e))},underscore:function(e){return St(e)}}),me(re,{replaceAll:function(e,t,s){return Et(e,t,s)},format:function(e,t){var s=t[0]&&t[0].valueOf();return 1===t.length&&Pe(s)&&(t=s),xt(e,t)}}),(ut=function(){this.map={},this.rules=[]}).prototype={add:function(e,t){R(e)?this.map[e]=t:this.rules.unshift({rule:e,replacement:t})},inflect:function(e){var t,s,n;return n=(t=e.split(" "))[s=t.length-1],t[s]=this.find(n)||this.runRules(n),t.join(" ")},find:function(e){return I(this.map,e)},runRules:function(e){for(var t,s=0;t=this.rules[s];s++)if(t.rule.test(e)){e=e.replace(t.rule,t.replacement);break}return e}},lt=function(e,t){return it[e]&&it[e].inflect(t)||t},ht(/$/,"s"),ht(/s$/i,"s"),ht(/(ax|test)is$/i,"$1es"),ht(/(octop|fung|foc|radi|alumn|cact)(i|us)$/i,"$1i"),ht(/(census|alias|status|fetus|genius|virus)$/i,"$1es"),ht(/(bu)s$/i,"$1ses"),ht(/(buffal|tomat)o$/i,"$1oes"),ht(/([ti])um$/i,"$1a"),ht(/([ti])a$/i,"$1a"),ht(/sis$/i,"ses"),ht(/f+e?$/i,"ves"),ht(/(cuff|roof)$/i,"$1s"),ht(/([ht]ive)$/i,"$1s"),ht(/([^aeiouy]o)$/i,"$1es"),ht(/([^aeiouy]|qu)y$/i,"$1ies"),ht(/(x|ch|ss|sh)$/i,"$1es"),ht(/(tr|vert)(?:ix|ex)$/i,"$1ices"),ht(/([ml])ouse$/i,"$1ice"),ht(/([ml])ice$/i,"$1ice"),ht(/^(ox)$/i,"$1en"),ht(/^(oxen)$/i,"$1"),ht(/(quiz)$/i,"$1zes"),ht(/(phot|cant|hom|zer|pian|portic|pr|quart|kimon)o$/i,"$1os"),ht(/(craft)$/i,"$1"),ht(/([ft])[eo]{2}(th?)$/i,"$1ee$2"),mt(/s$/i,""),mt(/([pst][aiu]s)$/i,"$1"),mt(/([aeiouy])ss$/i,"$1ss"),mt(/(n)ews$/i,"$1ews"),mt(/([ti])a$/i,"$1um"),mt(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"),mt(/(^analy)ses$/i,"$1sis"),mt(/(i)(f|ves)$/i,"$1fe"),mt(/([aeolr]f?)(f|ves)$/i,"$1f"),mt(/([ht]ive)s$/i,"$1"),mt(/([^aeiouy]|qu)ies$/i,"$1y"),mt(/(s)eries$/i,"$1eries"),mt(/(m)ovies$/i,"$1ovie"),mt(/(x|ch|ss|sh)es$/i,"$1"),mt(/([ml])(ous|ic)e$/i,"$1ouse"),mt(/(bus)(es)?$/i,"$1"),mt(/(o)es$/i,"$1"),mt(/(shoe)s?$/i,"$1"),mt(/(cris|ax|test)[ie]s$/i,"$1is"),mt(/(octop|fung|foc|radi|alumn|cact)(i|us)$/i,"$1us"),mt(/(census|alias|status|fetus|genius|virus)(es)?$/i,"$1"),mt(/^(ox)(en)?/i,"$1"),mt(/(vert)(ex|ices)$/i,"$1ex"),mt(/tr(ix|ices)$/i,"trix"),mt(/(quiz)(zes)?$/i,"$1"),mt(/(database)s?$/i,"$1"),mt(/ee(th?)$/i,"oo$1"),vt("person","people"),vt("man","men"),vt("human","humans"),vt("child","children"),vt("sex","sexes"),vt("move","moves"),vt("save","saves"),vt("goose","geese"),vt("zombie","zombies"),Ve(Fe("equipment information rice money species series fish deer sheep jeans"),function(e){ht(e)});var It,At,qt=57,Lt=65305,Rt=!("0"in[].concat(void 0).concat()),Mt={sortIgnore:null,sortNatural:!0,sortIgnoreCase:!0,sortOrder:function(e,t){for(var s=[],n=0,r=e.length;n<r;n++)n in e&&s.push(t(e[n],n));return s}("A\xc1\xc0\xc2\xc3\u0104BC\u0106\u010c\xc7D\u010e\xd0E\xc9\xc8\u011a\xca\xcb\u0118FG\u011eH\u0131I\xcd\xcc\u0130\xce\xcfJKL\u0141MN\u0143\u0147\xd1O\xd3\xd2\xd4PQR\u0158S\u015a\u0160\u015eT\u0164U\xda\xd9\u016e\xdb\xdcVWXY\xddZ\u0179\u017b\u017d\xde\xc6\u0152\xd8\xd5\xc5\xc4\xd6".split(""),function(e){return e+e.toLowerCase()}).join(""),sortCollate:function(e,t){var s,n,r,a,i,o,c=0,u=0,l=Dt("sortOrder"),p=Dt("sortIgnore"),d=Dt("sortNatural"),f=Dt("sortIgnoreCase"),h=Dt("sortEquivalents");e=Wt(e,p,f),t=Wt(t,p,f);do{r=Gt(e,c,h),a=Gt(t,c,h),s=Kt(r,l),n=Kt(a,l),-1===s||-1===n?(s=e.charCodeAt(c)||null,n=t.charCodeAt(c)||null,d&&Bt(s)&&Bt(n)&&(s=Ye(e.slice(c)),n=Ye(t.slice(c)))):(i=r!==e.charAt(c),o=a!==t.charAt(c),i!==o&&0===u&&(u=i-o)),c+=1}while(null!=s&&null!=n&&s===n);return s===n?u:s-n},sortEquivalents:(It={},Ve(Fe("A\xc1\xc0\xc2\xc3\xc4 C\xc7 E\xc9\xc8\xca\xcb I\xcd\xcc\u0130\xce\xcf O\xd3\xd2\xd4\xd5\xd6 S\xdf U\xda\xd9\xdb\xdc"),function(e){var t=e.charAt(0);Ve(e.slice(1).split(""),function(e){It[e]=t,It[e.toLowerCase()]=t.toLowerCase()})}),It)},Dt=ye(ne,Mt);function Nt(e,t){var s;return!function(e){return e&&e.constructor&&z(e.constructor.prototype)}(e)?Pe(e)||R(e)?s=Array.from(e):$e(e)&&(s=[e]):s=t?zt(e):e,s||[]}function zt(e){var t=new Array(e.length);return Ve(e,function(e,s){t[s]=e}),t}function Ht(e,t){return Rt?function(e,t){var s,n=zt(e),r=n.length;return s=z(t)?t:[t],n.length+=s.length,Ve(s,function(e,t){n[r+t]=e}),n}(e,t):e.concat(t)}function Ut(e,t,s){var n;return s=+s,isNaN(s)&&(s=e.length),n=[s,0],$e(t)&&(n=n.concat(t)),e.splice.apply(e,n),e}function Ft(e,t){var s=[],n={},r=[];return Ve(e,function(a,i){var o=Re(t?Ue(a,t,e,[a,i,e]):a,r);E(n,o)||(s.push(a),n[o]=!0)}),s}function Vt(e,t,s){var n=[],r={},a=[];return z(t)||(t=function(e){var t=[];return t.push(e),t}(t)),Ve(t,function(e){r[Re(e,a)]=!0}),Ve(e,function(e){var t=Re(e,a);E(r,t)!==s&&(delete r[t],n.push(e))}),n}function Bt(e){return e>=Y&&e<=qt||e>=Q&&e<=Lt}function Wt(e,t,s){return R(e)||(e=String(e)),s&&(e=e.toLowerCase()),t&&(e=e.replace(t,"")),e}function Gt(e,t,s){var n=e.charAt(t);return I(s,n)||n}function Kt(e,t){return e?t.indexOf(e):null}le(ne,{create:function(e,t){return Nt(e,t)},construct:function(e,t){return e=we(e),Array.from(new Array(e),function(e,s){return t&&t(s)})}}),pe(ne,{isEmpty:function(e){return 0===e.length},isEqual:function(e,t){return Le(e,t)},clone:function(e){return zt(e)},at:function(e,t,s){return ze(e,t,s)},add:function(e,t,s){return Ut(zt(e),t,s)},subtract:function(e,t){return Vt(e,t,!0)},append:function(e,t,s){return Ut(e,t,s)},removeAt:function(e,t,s){return ke(t)?e:(ke(s)&&(s=t),e.splice(t,s-t+1),e)},unique:function(e,t){return Ft(e,t)},flatten:function(e,t){return function e(t,s,n){var r=[];return s=s||1/0,n=n||0,Ve(t,function(t){z(t)&&n<s?r=r.concat(e(t,s,n+1)):r.push(t)}),r}(e,t)},first:function(e,t){return ke(t)?e[0]:(t<0&&(t=0),e.slice(0,t))},last:function(e,t){if(ke(t))return e[e.length-1];var s=e.length-t<0?0:e.length-t;return e.slice(s)},from:function(e,t){return e.slice(t)},to:function(e,t){return ke(t)&&(t=e.length),e.slice(0,t)},compact:function(e,t){return function(e,t){return function(e,t){for(var s=[],n=0,r=e.length;n<r;n++){var a=e[n];n in e&&t(a,n)&&s.push(a)}return s}(e,function(e){return e||!t&&null!=e&&e.valueOf()===e.valueOf()})}(e,t)},groupBy:function(e,t,s){return function(e,t,s){var n,r={};return Ve(e,function(s,a){n=Ue(s,t,e,[s,a,e]),E(r,n)||(r[n]=[]),r[n].push(s)}),s&&S(r,s),r}(e,t,s)},inGroups:function(e,t,s){var n=$e(s),r=new Array(t),a=et(e.length/t);return Ae(t,function(t){var i=t*a,o=e.slice(i,i+a);n&&o.length<a&&Ae(a-o.length,function(){o.push(s)}),r[t]=o}),r},inGroupsOf:function(e,t,s){var n,r=[],a=e.length;return 0===a||0===t?e:(ke(t)&&(t=1),ke(s)&&(s=null),Ae(et(a/t),function(a){for(n=e.slice(t*a,t*a+t);n.length<t;)n.push(s);r.push(n)}),r)},shuffle:function(e){return function(e){for(var t,s,n=(e=zt(e)).length;n;)t=Math.random()*n|0,s=e[--n],e[n]=e[t],e[t]=s;return e}(e)},sample:function(e,t,s){var n,r,a,i=[];q(t)?r=t:(n=t,r=s),ke(n)&&(n=1,a=!0),r||(e=zt(e)),n=Je(n,e.length);for(var o,c=0;c<n;c++)o=Ge(Math.random()*e.length),i.push(e[o]),e.splice(o,1);return a?i[0]:i},sortBy:function(e,t,s){return e.sort(function(n,r){return function e(t,s){var n,r;if(R(t)&&R(s))return Dt("sortCollate")(t,s);if(z(t)&&z(s)){if(t.length<s.length)return-1;if(t.length>s.length)return 1;for(r=0;r<t.length;r++)if(0!==(n=e(t[r],s[r])))return n;return 0}return t<s?-1:t>s?1:0}(Ue(n,t,e,[n]),Ue(r,t,e,[r]))*(s?-1:1)}),e},remove:function(e,t){return function(e,t){for(var s=Ce(t),n=0;n<e.length;)s(e[n],n,e)?e.splice(n,1):n++;return e}(e,t)},exclude:function(e,t){return function(e,t){for(var s=[],n=Ce(t),r=0;r<e.length;r++)n(e[r],r,e)||s.push(e[r]);return s}(e,t)},union:function(e,t){return Ft(Ht(e,t))},intersect:function(e,t){return Vt(e,t,!1)}}),ue(ne,"insert","append"),At=Nt,ne.prototype.constructor=function(){return At.apply(this,arguments)};var Yt,Qt=Object.getOwnPropertyNames,Xt=Object.getOwnPropertySymbols,Jt=Object.getOwnPropertyDescriptor;function Zt(e,t,s){return ts(e,t,(s=s||{}).deep,s.resolve,s.hidden,s.descriptor)}function es(e,t,s,n){for(var r,a=e(t),i=0;r=a[i];i++)(Jt(t,r).enumerable||n)&&s(t[r],r)}function ts(e,t,n,r,a,i){var o=N(r),c=!1!==r;return ke(e)?e=ss(t):c&&M(e)&&M(t)&&e.setTime(t.getTime()),Ee(e)?t:(Ee(t)&&(t=qe(t)),function(e,t,s){Qt&&e?es(Qt,t,s,e):S(t,s),Xt&&es(Xt,t,s,e)}(a,t,function(u,l){var p,d,h,m,v;if(p=t[l],d=I(e,l),o){if(ke(v=r(l,d,p,e,t)))return;$e(v)&&v!==s&&(p=v,h=!0)}else if(ke(p))return;((m=!h&&n&&Pe(p)&&!D(p))||c||!$e(d))&&(m&&(p=ts(d,p,n,r,a,i)),Qt&&i?function(e,t,s,n){var r=Jt(t,s);$e(r.value)&&(r.value=n),f(e,s,r)}(e,t,l,p):e[l]=p)}),e)}function ss(e){var t=P(e);if(z(e,t))return[];if(Ie(e,t))return{};if(M(e,t))return new Date(e.getTime());if(D(e,t))return RegExp(e.source,ot(e));if(Ee(e&&e.valueOf()))return e;throw new TypeError("Must be a basic data type")}function ns(e,t){return ts(ss(e),e,t,!0,!0,!0)}function rs(e){return function(e){return Oe(qe(e))}(e).length}function as(e,t,s){var n,r={};return t=[].concat(t),S(e,function(e,a){n=!1;for(var i=0;i<t.length;i++)is(t[i],a)&&(n=!0);n===s&&(r[a]=e)}),r}function is(e,t){return D(e)?e.test(t):Pe(e)?t in e:t===String(e)}function os(e,t,s,n,r){var a,i,o,c,u=[];return q(t)?(o=t,c=s):c=t,ls(e,c,function(t,s){if(ke(t))throw new TypeError("Cannot compare with undefined");a=r?s:e[s],t===i?u.push(a):(ke(i)||n&&t>i||!n&&t<i)&&(u=[a],i=t)}),us(u,e,o,r)}function cs(e,t,s,n,r){var a,i,o,c,u={},l=[];return q(t)?(o=t,c=s):c=t,ls(e,c,function(t,s){var n=Re(t,l),a=I(u,n)||[];a.push(r?s:e[s]),u[n]=a}),a=os(u,!!o,"length",n,!0),o?(i=[],S(a,function(e){i=i.concat(e)})):i=I(u,a),us(i,e,o,r)}function us(e,t,s,n){return n&&s?e.reduce(function(e,s){return e[s]=t[s],e},{}):(e&&!s&&(e=e[0]),e)}function ls(e,t,s){var n=z(e);S(e,function(r,a){if(n){if(!De(a))return;a=+a}var i=Ue(r,t,e,[r,a,e]);s(i,a)})}he(se,{size:function(e){return rs(e)},isEmpty:function(e){return 0===rs(e)},isEqual:function(e,t){return Le(e,t)},merge:function(e,t,s){return Zt(e,t,s)},add:function(e,t,s){return Zt(ns(e),t,s)},intersect:function(e,t){return function(e,t,s){return Pe(e)?(t=qe(t),ts({},e,!1,function(e,n,r){if((e in t&&Le(r,t[e]))!==s)return r})):s?e:{}}(e,t,!1)},clone:function(e,t){return ns(e,t)},values:function(e){return function(e){var t=[];return S(e,function(e){t.push(e)}),t}(e)},isObject:function(e){return Ie(e)},remove:function(e,t){return function(e,t){var s=Ce(t);return S(e,function(t,n){s(t,n,e)&&delete e[n]}),e}(e,t)},exclude:function(e,t){return function(e,t){var s={},n=Ce(t);return S(e,function(t,r){n(t,r,e)||(s[r]=t)}),s}(e,t)},select:function(e,t){return function(e,t){return as(e,t,!0)}(e,t)},reject:function(e,t){return function(e,t){return as(e,t,!1)}(e,t)}}),pe(se,{keys:function(e){return Oe(e)}}),Yt=[q,L,R,M,D,N,z,F,H,U],ve(se,V,function(e,t,s){e["is"+t]=Yt[s]});var ps=js("map",gs),ds=_s("find"),fs=_s("some"),hs=_s("every"),ms=_s("filter"),vs=_s("findIndex");function _s(e){return js(e,ys)}function gs(e,t){return N(e)?e:e?function(s,n,r){return Ue(s,e,t,[s,n,r])}:void 0}function ys(e){var t;return N(e)?e:(t=Ce(e),function(e,s,n){return t(e,s,n)})}function js(e,t){var s=Array.prototype[e];return function(e,n,r,a){var i=new Array(2);return function(e){if(!e)throw new TypeError("Argument required")}(a>0),i[0]=t(n,r),i[1]=r,s.apply(e,i)}}pe(ne,{map:_e(ps),some:_e(fs),every:_e(hs),filter:_e(ms),find:_e(ds),findIndex:_e(vs)},["enhance","enhanceArray"]),pe(ne,{none:_e(function(){return!fs.apply(this,arguments)}),count:_e(function(e,t){return ke(t)?e.length:ms.apply(this,arguments).length}),min:function(e,t,s){return os(e,t,s)},max:function(e,t,s){return os(e,t,s,!0)},least:function(e,t,s){return cs(e,t,s)},most:function(e,t,s){return cs(e,t,s,!0)},sum:function(e,t){return function(e,t){var s=0;return ls(e,t,function(e){s+=e}),s}(e,t)},average:function(e,t){return function(e,t){var s=0,n=0;return ls(e,t,function(e){s+=e,n++}),s/(n||1)}(e,t)},median:function(e,t){return function(e,t){var s,n,r=[];return ls(e,t,function(e){r.push(e)}),(n=r.length)?(r.sort(function(e,t){return(e||0)-(t||0)}),s=Ge(n/2),n%2?r[s]:(r[s-1]+r[s])/2):0}(e,t)}});var bs=ks("some"),ws=ks("find"),$s=ks("every");function ks(e){var t=Array.prototype[e];return function(e,s){var n=Ce(s);return t.call(Oe(e),function(t){return n(e[t],t,e)})}}he(se,{forEach:function(e,t){return function(e,t){return je(t),S(e,function(s,n){t(s,n,e)}),e}(e,t)},map:function(e,t){return function(e,t){var s={};return S(e,function(n,r){s[r]=Ue(n,t,e,[n,r,e])}),s}(e,t)},some:bs,every:$s,filter:function(e,t){return function(e,t){var s=Ce(t),n={};return S(e,function(t,r){s(t,r,e)&&(n[r]=t)}),n}(e,t)},reduce:function(e,t,s){return function(e,t,s){var n=$e(s);return S(e,function(r,a){if(!n)return s=r,void(n=!0);s=t(s,r,a,e)}),s}(e,t,s)},find:ws,none:function(e,t){return function(e,t){return!bs(e,t)}(e,t)},min:function(e,t,s){return os(e,t,s,!1,!0)},max:function(e,t,s){return os(e,t,s,!0,!0)}});ye(ae,{decimal:X,thousands:Z});function xs(e){return function(t,s){return s?function(e,t,s){var n=Xe(10,Qe(t||0));return t<0&&(n=1/n),(s=s||st)(e*n)/n}(t,s,e):e(t)}}pe(ae,{round:xs(st),ceil:xs(et),floor:xs(tt)});var Cs=xe("lock"),Os=xe("partial"),Ss=Object.create||function(e){var t=function(){};return t.prototype=e,new t};me(ie,{partial:function(e,t){var s=t.length,n=function n(){var r,a,i=0,o=[],c=this,u=Cs(n);for(a=0;a<s;a++){var l=t[a];$e(l)?o[a]=l:o[a]=arguments[i++]}for(a=i;a<arguments.length;a++)o.push(arguments[a]);return null===u&&(u=s),L(u)&&(o.length=Je(o.length,u)),c instanceof n?(c=Ss(e.prototype),Pe(r=e.apply(c,o))?r:c):e.apply(c,o)};return Os(n,!0),n}})}).call(this)}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./app/assets/javascripts/views sync recursive ^\\.\\/.*$":function(e,t,s){var n={"./ads/mytarget":"./app/assets/javascripts/views/ads/mytarget.coffee","./ads/mytarget.coffee":"./app/assets/javascripts/views/ads/mytarget.coffee","./ads/view":"./app/assets/javascripts/views/ads/view.coffee","./ads/view.coffee":"./app/assets/javascripts/views/ads/view.coffee","./ads/yandex":"./app/assets/javascripts/views/ads/yandex.coffee","./ads/yandex.coffee":"./app/assets/javascripts/views/ads/yandex.coffee","./animes/catalog_filters":"./app/assets/javascripts/views/animes/catalog_filters.coffee","./animes/catalog_filters.coffee":"./app/assets/javascripts/views/animes/catalog_filters.coffee","./animes/cosplay":"./app/assets/javascripts/views/animes/cosplay.js","./animes/cosplay.js":"./app/assets/javascripts/views/animes/cosplay.js","./animes/menu":"./app/assets/javascripts/views/animes/menu.js","./animes/menu.js":"./app/assets/javascripts/views/animes/menu.js","./animes/paginated_catalog":"./app/assets/javascripts/views/animes/paginated_catalog.js","./animes/paginated_catalog.js":"./app/assets/javascripts/views/animes/paginated_catalog.js","./application/date_picker":"./app/assets/javascripts/views/application/date_picker.js","./application/date_picker.js":"./app/assets/javascripts/views/application/date_picker.js","./application/favorite_star":"./app/assets/javascripts/views/application/favorite_star.js","./application/favorite_star.js":"./app/assets/javascripts/views/application/favorite_star.js","./application/shiki_editable":"./app/assets/javascripts/views/application/shiki_editable.coffee","./application/shiki_editable.coffee":"./app/assets/javascripts/views/application/shiki_editable.coffee","./application/shiki_editor":"./app/assets/javascripts/views/application/shiki_editor.coffee","./application/shiki_editor.coffee":"./app/assets/javascripts/views/application/shiki_editor.coffee","./application/shiki_gallery":"./app/assets/javascripts/views/application/shiki_gallery.js","./application/shiki_gallery.js":"./app/assets/javascripts/views/application/shiki_gallery.js","./application/shiki_html5_video":"./app/assets/javascripts/views/application/shiki_html5_video.js","./application/shiki_html5_video.js":"./app/assets/javascripts/views/application/shiki_html5_video.js","./application/shiki_modal":"./app/assets/javascripts/views/application/shiki_modal.js","./application/shiki_modal.js":"./app/assets/javascripts/views/application/shiki_modal.js","./application/shiki_view":"./app/assets/javascripts/views/application/shiki_view.coffee","./application/shiki_view.coffee":"./app/assets/javascripts/views/application/shiki_view.coffee","./application/view":"./app/assets/javascripts/views/application/view.coffee","./application/view.coffee":"./app/assets/javascripts/views/application/view.coffee","./comments/ban_form":"./app/assets/javascripts/views/comments/ban_form.js","./comments/ban_form.js":"./app/assets/javascripts/views/comments/ban_form.js","./contests/match":"./app/assets/javascripts/views/contests/match.js","./contests/match.js":"./app/assets/javascripts/views/contests/match.js","./contests/round":"./app/assets/javascripts/views/contests/round.js","./contests/round.js":"./app/assets/javascripts/views/contests/round.js","./images/imageboard_gallery":"./app/assets/javascripts/views/images/imageboard_gallery.js","./images/imageboard_gallery.js":"./app/assets/javascripts/views/images/imageboard_gallery.js","./images/preloaded_gallery":"./app/assets/javascripts/views/images/preloaded_gallery.js","./images/preloaded_gallery.js":"./app/assets/javascripts/views/images/preloaded_gallery.js","./polls/view":"./app/assets/javascripts/views/polls/view.js","./polls/view.js":"./app/assets/javascripts/views/polls/view.js","./search/autocomplete_engine":"./app/assets/javascripts/views/search/autocomplete_engine.js","./search/autocomplete_engine.js":"./app/assets/javascripts/views/search/autocomplete_engine.js","./search/collection":"./app/assets/javascripts/views/search/collection.js","./search/collection.js":"./app/assets/javascripts/views/search/collection.js","./search/global":"./app/assets/javascripts/views/search/global.js","./search/global.js":"./app/assets/javascripts/views/search/global.js","./search/index_engine":"./app/assets/javascripts/views/search/index_engine.js","./search/index_engine.js":"./app/assets/javascripts/views/search/index_engine.js","./styles/body_background":"./app/assets/javascripts/views/styles/body_background.js","./styles/body_background.js":"./app/assets/javascripts/views/styles/body_background.js","./styles/edit":"./app/assets/javascripts/views/styles/edit.js","./styles/edit.js":"./app/assets/javascripts/views/styles/edit.js","./styles/page_background_color":"./app/assets/javascripts/views/styles/page_background_color.js","./styles/page_background_color.js":"./app/assets/javascripts/views/styles/page_background_color.js","./styles/predefined_checkbox":"./app/assets/javascripts/views/styles/predefined_checkbox.js","./styles/predefined_checkbox.js":"./app/assets/javascripts/views/styles/predefined_checkbox.js","./wall/cluster":"./app/assets/javascripts/views/wall/cluster.js","./wall/cluster.js":"./app/assets/javascripts/views/wall/cluster.js","./wall/image":"./app/assets/javascripts/views/wall/image.js","./wall/image.js":"./app/assets/javascripts/views/wall/image.js","./wall/video":"./app/assets/javascripts/views/wall/video.js","./wall/video.js":"./app/assets/javascripts/views/wall/video.js","./wall/view":"./app/assets/javascripts/views/wall/view.js","./wall/view.js":"./app/assets/javascripts/views/wall/view.js"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="./app/assets/javascripts/views sync recursive ^\\.\\/.*$"},"./app/assets/javascripts/views/ads/mytarget.coffee":function(e,t,s){var n,r,a,i=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty;n=s("./node_modules/get-js/index.js"),s("./app/assets/javascripts/views/ads/view.coffee"),a=null,r=[],using("Ads"),Ads.Mytarget=function(e){var t;function s(){return this._render=i(this._render,this),s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)o.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,Ads.View),t={LOADED:"loaded",LOADING:"loading"},s.prototype.initialize=function(e,s){return this.html=e,this.css_class=s,a===t.LOADED?this._render():a===t.LOADING?this._schedule():null===a?this._load_js():void 0},s.prototype._load_js=function(){return a=t.LOADING,n("//ad.mail.ru/static/ads-async.js").then((e=this,function(){return a=t.LOADED,r.forEach(function(e){return e()}),e._render()}));var e},s.prototype._schedule=function(){return r.push(this._render)},s.prototype._render=function(){return this._replace_node(),(window.MRGtag=window.MRGtag||[]).push({})},s}()},"./app/assets/javascripts/views/ads/view.coffee":function(e,t,s){"use strict";s.r(t);var n,r,a=s("./node_modules/js-cookie/src/js.cookie.js"),i=s.n(a),o=s("./node_modules/delay/index.js"),c=s.n(o),u=s("./app/assets/javascripts/views/application/view.coffee"),l={}.hasOwnProperty;r=function(e){return console.log("remove ad "+e),$("."+e).remove()},n=null,using("Ads"),Ads.View=function(e){var t;function s(){return s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)l.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,u["default"]),t={LOADED:"loaded"},"<div class='close-ad'></div>",s.prototype.initialize=function(e,s,r){return this.html=e,this.css_class=s,this.ad_params=r,n!==t.LOADED&&this._load_ad_handler(),this._replace_node()},s.prototype._load_ad_handler=function(){return n=t.LOADED,$(window).on("message",function(e){var t;if("remove_ad"===(null!=(t=e.originalEvent.data)?t.type:void 0))return r(e.originalEvent.data.ad_class)})},s.prototype._replace_node=function(){var e,t,s;return t=$("<div class='close-ad'></div>"),i.a.get(this.css_class+"_disabled")?this.$node.remove():(e=$("<div>"+this.html+"</div>").addClass(this.css_class).append(t),this.$node.replaceWith(e),t.on("click",(s=this,function(){return i.a.set(s.css_class+"_disabled","1",{expires:7}),e.addClass("removing"),c()(1e3).then(function(){return r(s.css_class)})})))},s}()},"./app/assets/javascripts/views/ads/yandex.coffee":function(e,t,s){var n,r,a=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;s("./app/assets/javascripts/views/ads/view.coffee"),r=null,n=[],using("Ads"),Ads.Yandex=function(e){var t;function s(){return this._render=a(this._render,this),s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)i.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,Ads.View),t={LOADED:"loaded",LOADING:"loading"},s.prototype.initialize=function(e,s,n){return this.html=e,this.css_class=s,this.ad_params=n,r===t.LOADED?this._render():r===t.LOADING?this._schedule():this._load_js()},s.prototype._load_js=function(){return r=t.LOADING,this._schedule(),(e=this,function(s,a,i){var o,c;return s[i]=s[i]||[],s[i].push(function(){return r=t.LOADED,n.forEach(function(e){return e()}),n=[]}),c=a.getElementsByTagName("script")[0],(o=a.createElement("script")).type="text/javascript",o.src="//an.yandex.ru/system/context.js",o.async=!0,o.onerror=function(){if("remove_ad"in window)return window.remove_ad(e.css_class)},c.parentNode.insertBefore(o,c)})(window,window.document,"yandexContextAsyncCallbacks");var e},s.prototype._schedule=function(){return n.push(this._render)},s.prototype._render=function(){return this._replace_node(),Ya.Context.AdvManager.render(this.ad_params)},s}()},"./app/assets/javascripts/views/animes/catalog_filters.coffee":function(e,t,s){"use strict";s.r(t);var n,r=s("./app/assets/javascripts/helpers/in_new_tab.js");n={kind:[],status:[],season:[],franchise:[],achievement:[],genre:[],studio:[],publisher:[],duration:[],rating:[],score:[],options:[],mylist:[],search:[],"order-by":[]},t.default=function(e,t,s){var a,i,o,c,u;return a=$(".b-collection-filters"),o=function(e){var t,s,n,r;return(t=e.attr("class").match(/([\w\-]+)-([\w.\-]+)/))?(n=t[1],r=t[2],(n.match(/genre-\d+/)||n.match(/studio-\d+/)||n.match(/publisher-\d+/)||n.match(/kind-\w+/)||n.match(/rating-\w+/)||n.match(/score-\d+/)||n.match(/duration-\w+/))&&(s=n.split("-"),n=s[0],r=s.slice(1).join("-")+"-"+r),{type:n,value:r}):null},u=function(e){return e.replace(/^!/,"").replace(/\?.*/,"")},i=function(e,t){var s,n,r,i;return i=(t=u(t)).replace(/^\d+-/,""),r=null,"publisher"===e&&i.match(/-/)?i=i.replace(/-/g," "):"season"===e&&t.match(/^\d+$/)&&(r=parseInt(t,10),i=t+" \u0433\u043e\u0434"),t=t.replace(/\./g,""),s=$("<li class='"+e+"-"+t+"'><input type='checkbox'/>"+i+"</li>"),r?(n=$("ul.seasons li",a).filter(function(e){var t,s;return!!(t=this.className.match(/season-(\d+)/))&&((s=parseInt(t[1],10))<1e3&&(s*=10),s<r)})).length?s.insertBefore(n.first()):$(".anime-params."+e+"s",a).append(s):$(".anime-params."+e+"s",a).prepend(s).parent().removeClass("hidden"),s},$(".anime-params",a).on("click","li",function(e){var t,n;if(!Object(r.a)(e)&&!e.target.classList.contains("b-question"))return t=this.classList.contains("selected"),!(n=o($(this)))||(t?c.remove(n.type,n.value):"type"in e.target&&"checkbox"===e.target.type?c.add(n.type,n.value):c.set(n.type,n.value),s(c.compile()),"type"in e.target&&"checkbox"===e.target.type&&void 0)}),$(".anime-params-block .block-filter",a).on("click",function(e){var t,n;return t=$(this).closest(".anime-params-block"),n=$(this).hasClass("item-sign")?t.find("li").length===t.find(".item-add").length:$(this).hasClass("item-add"),t.find("li").map(function(){return o($(this))}).each(function(e,t){return c.params[t.type][e]=n?"!"+t.value:t.value}),s(c.compile()),c.parse(c.compile())}),$(".anime-params li",a).on("click",".filter",function(e){var t,n,r;return n=$(this).hasClass("item-add"),$(this).removeClass(n?"item-add":"item-minus").addClass(n?"item-minus":"item-add"),t=o($(this).parent()),r=c.params[t.type].indexOf(n?t.value:"!"+t.value),c.params[t.type][r]=n?"!"+t.value:t.value,s(c.compile()),!1}),(c={params:null,set:function(e,t){var s;return s=this,this.params[e].forEach(function(t){return s.remove(e,t)}),this.add(e,t)},add:function(e,t){var s,n,r;if(e===Object.keys(this.params).last()&&this.params[e].length>0?this.set(e,t):this.params[e].push(t),"search"!==e)return(r=$("li."+e+"-"+u(t),a)).length||(r=i(e,t)),"none"===r.css("display")&&r.css({display:"block"}),r.addClass("selected"),(n=r.children("input")).length?(n.attr({checked:!0}),(s=r.children(".filter")).length?s.removeClass("item-add").removeClass("item-minus").addClass("!"===t[0]?"item-minus":"item-add").show():r.prepend('<span class="filter '+("!"===t[0]?"item-minus":"item-add")+'"></span>')):void 0},remove:function(e,t){var s;t=u(t),this.params[e]=this.params[e].subtract([t,"!"+t]);try{return(s=$("."+e+"-"+t,a)).removeClass("selected"),s.children("input").attr({checked:!1}),s.children(".filter").hide()}catch(n){}},compile:function(){var t;return t=Object.reduce(this.params,function(e,t,s){return t&&("order-by"!==s||"ranked"!==t[0]||location.href.match(/\/list\/(anime|manga)/))&&t.length?e+"/"+s+"/"+t.join(","):e},""),this.last_compiled=e+t+location.search},last_compiled:null,parse:function(t){var s;if($(".anime-params .selected",a).toggleClass("selected"),$(".anime-params input[type=checkbox]:checked",a).attr({checked:!1}),$(".anime-params .filter",a).hide(),this.params=JSON.parse(JSON.stringify(n)),(t.replace(location.protocol+"//"+location.hostname,"").replace(":"+location.port,"").replace(e,"").replace(/\?.*/,"").match(/[\w\-]+\/[^\/]+/g)||[]).forEach((s=this,function(e){var t;if("page"!==(t=e.split("/")[0])&&t in n)return e.split("/")[1].split(",").forEach(function(e){try{return s.add(t,e)}catch(n){if("order-by"===t)return s.add("order-by","ranked")}})})),Object.isEmpty(this.params["order-by"]))return this.add("order-by","ranked")}}).parse(t),c.params.genre.length&&a.find(".genres .b-spoiler").spoiler().trigger("spoiler:open"),c}},"./app/assets/javascripts/views/animes/cosplay.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return u});var n=s("./app/assets/javascripts/views/application/view.coffee"),r=s("./app/assets/javascripts/views/application/shiki_gallery.js");function a(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,o(t).apply(this,arguments))}var s,u,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,n["default"]),s=t,(u=[{key:"initialize",value:function(){var e=this;this._initGalleries(),this.on("postloader:success",function(){return e._initGalleries()})}},{key:"_initGalleries",value:function(){this.$(".b-gallery:not(.processed)").each(function(){new r.default(this),this.classList.add("processed")})}}])&&a(s.prototype,u),l&&a(s,l),t}()},"./app/assets/javascripts/views/animes/menu.js":function(e,t,s){"use strict";s.r(t),function(e){s.d(t,"default",function(){return v});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./app/assets/javascripts/views/application/view.coffee"),c=s("./app/assets/javascripts/helpers/tooltip_options.coffee"),u=s("./app/assets/javascripts/helpers/axios.js");function l(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function p(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){l(a,n,r,i,o,"next",e)}function o(e){l(a,n,r,i,o,"throw",e)}i(void 0)})}}function d(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(t){function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),f(this,h(s).apply(this,arguments))}var n,a,l,v;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,o["default"]),n=s,(a=[{key:"initialize",value:(v=p(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._scoresStatsBar(),this._statusesStatsBar(),e.next=4,i()(100);case 4:this._history();case 5:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"_scoresStatsBar",value:function(){this.$("#rates_scores_stats").empty().bar({filter:function(e,t){return t>=2},no_data:function(t){t.html("<p class='b-nothing_here'>".concat(e.t("frontend.pages.p_animes.no_data"),"</p>"))}})}},{key:"_statusesStatsBar",value:function(){this.$("#rates_statuses_stats").empty().bar({title:function(e,t){return t>15?e.value:""},no_data:function(t){t.html("<p class='b-nothing_here'>".concat(e.t("frontend.pages.p_animes.no_data"),"</p>"))}})}},{key:"_history",value:function(){var e=this,t=this.$node.attr("data-history_source_url");t&&(this.$historyBlock.one("mouseover",p(r.a.mark(function s(){var n,a;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,u.a.get(t);case 2:n=s.sent,a=n.data,e._tooltipContent(a);case 5:case"end":return s.stop()}},s)}))),$(".person-tooltip",this.$historyBlock).tooltip(Object.add(c.a,{position:"top right",offset:[-28,59],relative:!0,place_to_left:!0,predelay:100,delay:100,effect:"toggle"})))}},{key:"_tooltipContent",value:function(e){Object.forEach(e,function(e,t){var s=$(".tooltip-details","#history-entry-".concat(t,"-tooltip"));s.length&&(e.length?s.html(e.map(function(e){return"<a class='b-link' href=\"".concat(e.link,'">').concat(e.title,"</a>")}).join("")):$("#history-entry-".concat(t,"-tooltip")).children().remove())})}},{key:"isHistoryAllowed",get:function(){return window.SHIKI_USER.isSignedIn&&window.SHIKI_USER.isYearRegistered}},{key:"$historyBlock",get:function(){return this.$(".history")}}])&&d(n.prototype,a),l&&d(n,l),s}()}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/views/animes/paginated_catalog.js":function(e,t,s){"use strict";s.r(t),function(e){s.d(t,"default",function(){return m});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/turbolinks/dist/turbolinks.js"),i=s.n(a),o=s("./app/assets/javascripts/services/user_rates/tracker.coffee"),c=s("./app/assets/javascripts/services/ajax_cacher.js"),u=s("./app/assets/javascripts/services/flash.js"),l=s("./app/assets/javascripts/dynamic_elements/_parser.js"),p=s("./app/assets/javascripts/views/animes/catalog_filters.coffee"),d=s("./app/assets/javascripts/helpers/in_new_tab.js");function f(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function h(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=function(){function t(e){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.$content=$(".l-content"),this.$pagination=$(".pagination"),this.$linkCurrent=this.$pagination.find(".link-current"),this.$linkNext=this.$pagination.find(".link-next"),this.$linkPrev=this.$pagination.find(".link-prev"),this.$linkTotal=this.$pagination.find(".link-total"),this.$linkTitle=this.$pagination.find(".link-title"),this.$linkNext.hasClass("disabled")&&this.$linkPrev.hasClass("disabled")&&this.$pagination.hide(),this.pagesLimit=15,this.pageChange={},this.$content.on("postloader:before",function(e,t,n){return s._onPageLoadByScroll(t,n)}),this.$pagination.on("click",".link",function(e){return s._onPaginationLinkClick(e)}).on("click",".no-hover",function(e){return s._onPaginationPageSelect(e)}),this.filters=new p.default(e,window.location.href,this.load.bind(this))}var s,n,a,m,v;return s=t,(n=[{key:"load",value:function(e){window.history.pushState({turbolinks:!0,url:e},"",e),this.filters.parse(e),this._fetch(e)}},{key:"_onPaginationLinkClick",value:function(e){if(!Object(d.a)(e)){e.preventDefault();var t=$(e.target);t.hasClass("disabled")||($(window).scrollTop()>400&&$.scrollTo(".head"),this.load(t.attr("href")))}}},{key:"_onPaginationPageSelect",value:function(e){var t=this,s=e.currentTarget,n=$(s).find(".link-current");n.has("input").length||(this.pageChange.priorValue=parseInt(n.html()),this.pageChange.maxValue=parseInt(this.$linkTotal.html()),n.addClass("active").html("<input type='number' min='1' max='".concat(this.pageChange.maxValue,"' value='").concat(this.pageChange.priorValue,"' />")),this.pageChange.$input=n.children().focus().on("blur",function(){return t._changePage(!1)}).on("keydown",function(e){27===e.keyCode&&t._changePage(!0)}).on("keypress",function(e){13===e.keyCode&&t._changePage(!1)}))}},{key:"_onPageLoadByScroll",value:function(e,t){this.$linkCurrent.html(this.$linkCurrent.html().replace(/-\d+|$/,"-".concat(t.page))),this.$linkTitle.html(this.$linkTitle.data("text")),this.$linkTotal.html(t.pages_count),this.$linkPrev.attr({href:t.prev_page_url||"",action:t.prev_page_url}),this.$linkNext.attr({href:t.next_page_url||"",action:t.next_page_url}),this.$linkPrev.toggleClass("disabled",!t.prev_page_url),this.$linkNext.toggleClass("disabled",!t.next_page_url),this.isPagesLimit&&e.find(".b-postloader").data({locked:!0})}},{key:"_changePage",value:function(e){var t=parseInt(this.pageChange.$input.val())||1;if(this.$linkCurrent.removeClass("active"),e||t===this.pageChange.priorValue)this.$linkCurrent.html(this.pageChange.priorValue);else{var s=this.$linkNext.add(this.$linkPrev).filter(":not(.disabled)").first();this.$linkCurrent.html(t),this.load(s.attr("href").replace(/\/\d+$/,"/".concat(t)))}this.pageChange.$input=null}},{key:"_fetch",value:(m=r.a.mark(function t(s){var n,a,o,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s,-1===s.indexOf("".concat(window.location.protocol,"//").concat(window.location.host))&&(n="".concat(window.location.protocol,"//").concat(window.location.host).concat(s)),this._showAjax(),t.next=5,c.a.fetch(n);case 5:if(a=t.sent,o=a.data,l=a.status,this._hideAjax(),200===l){t.next=12;break}return 451===l?i.a.visit(window.location.href):u.a.error(e.t("frontend.lib.paginated_catalog.please_try_again_later")),t.abrupt("return");case 12:window.location.href===n&&this._processResponse(o,n);case 13:case"end":return t.stop()}},t,this)}),v=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=m.apply(e,t);function a(e){f(r,s,n,a,i,"next",e)}function i(e){f(r,s,n,a,i,"throw",e)}a(void 0)})},function(e){return v.apply(this,arguments)})},{key:"_processResponse",value:function(e,t){document.title="".concat(e.title);var s=$(e.content);o.a.track(Object.clone(e.JS_EXPORTS),s),this.$content.data("dynamic")&&this.$content.addClass(l.a.PENDING_CLASS),this.$content.html(s).process(),$(".head h1").html(e.title),e.notice&&$(".head .notice").html(e.notice),this.$linkCurrent.html(e.page),this.$linkTotal.html(e.pages_count),this.$linkPrev.attr({href:e.prev_page_url||"",action:e.prev_page_url}),e.prev_page_url?this.$linkPrev.removeClass("disabled"):this.$linkPrev.addClass("disabled"),this.$linkNext.attr({href:e.next_page_url||"",action:e.next_page_url}),e.next_page_url?this.$linkNext.removeClass("disabled"):this.$linkNext.addClass("disabled"),this.$pagination.toggle(!(this.$linkNext.hasClass("disabled")&&this.$linkPrev.hasClass("disabled"))),t&&("_gaq"in window&&window._gaq.push(["_trackPageview",t]),"yaCounter7915231"in window&&window.yaCounter7915231.hit(t))}},{key:"_showAjax",value:function(){this.$content.addClass("b-ajax")}},{key:"_hideAjax",value:function(){this.$content.removeClass("b-ajax")}},{key:"isPagesLimit",get:function(){return this.$content.children().length>=this.pagesLimit}}])&&h(s.prototype,n),a&&h(s,a),t}()}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/views/application/date_picker.js":function(e,t,s){"use strict";s.r(t),s.d(t,"DatePicker",function(){return h});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/moment/moment.js"),i=s.n(a),o=s("./app/assets/javascripts/views/application/view.coffee");function c(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function u(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){c(a,n,r,i,o,"next",e)}function o(e){c(a,n,r,i,o,"throw",e)}i(void 0)})}}function l(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var n,a,c,h,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o["default"]),n=t,(a=[{key:"initialize",value:(m=u(r.a.mark(function e(){var t=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all([s.e("vendors"),s.e("pikaday")]).then(s.t.bind(null,"./node_modules/pikaday/scss/pikaday.scss",7)),this.initPromise=Promise.all([s.e("vendors"),s.e("pikaday")]).then(s.t.bind(null,"./app/assets/javascripts/vendor/async/pikaday.js",7)).then(function(e){return t._initPicker(e.default)});case 2:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"set",value:(h=u(r.a.mark(function e(t,s){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:t&&(n=i()(t).format("YYYY-MM-DD")),this.root.value=n,s||this.$root.trigger("date:picked");case 5:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"_initPicker",value:function(e){var t,s=this;new e({field:this.root,onSelect:function(e){return s.set(e)},firstDay:1,maxDate:new Date,i18n:this._i18n()}),this.root.value&&(t=i()(this.root.value).toDate()),t&&this.set(t,!0),this.$root.on("keypress",function(e){13===e.keyCode&&s.$root.trigger("date:picked")})}},{key:"_i18n",value:function(){return{months:i.a.months(),weekdays:i.a.weekdays(),weekdaysShort:i.a.weekdaysShort()}}}])&&l(n.prototype,a),c&&l(n,c),t}()},"./app/assets/javascripts/views/application/favorite_star.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return v});var n,r=s("./node_modules/decko/dist/decko.js"),a=s("./app/assets/javascripts/views/application/view.coffee");function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l,p,d,f,h,m,v=(l=(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,c(t).apply(this,arguments))}var s,n,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,a["default"]),s=t,(n=[{key:"initialize",value:function(e){this.addText=this.$root.data("add_text"),this.removeText=this.$root.data("remove_text"),this._update(e),this.on("ajax:success",this._ajaxSuccess)}},{key:"_ajaxSuccess",value:function(){this._update(this.root.classList.contains("fav-add"))}},{key:"_update",value:function(e){e?this.$root.removeClass("fav-add").addClass("fav-remove").attr({title:this.removeText,"original-title":this.removeText,"data-text":this.removeText}).data("method","delete"):this.$root.removeClass("fav-remove").addClass("fav-add").attr({title:this.addText,"original-title":this.addText,"data-text":this.addText}).data("method","post")}}])&&i(s.prototype,n),r&&i(s,r),t}()).prototype,p="_ajaxSuccess",d=[r.bind],f=Object.getOwnPropertyDescriptor(n.prototype,"_ajaxSuccess"),h=n.prototype,m={},Object.keys(f).forEach(function(e){m[e]=f[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce(function(e,t){return t(l,p,e)||e},m),h&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(h):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,p,m),m=null),n)},"./app/assets/javascripts/views/application/shiki_editable.coffee":function(e,t,s){"use strict";s.r(t),function(e){var n=s("./node_modules/delay/index.js"),r=s.n(n),a=s("./app/assets/javascripts/helpers/get_selection_text.js"),i=s("./app/assets/javascripts/helpers/axios.js"),o=s("./app/assets/javascripts/views/application/shiki_view.coffee"),c=function(e,t){return function(){return e.apply(t,arguments)}},u={}.hasOwnProperty;t.default=function(t){var s;function n(){return this._reload_url=c(this._reload_url,this),n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)u.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(n,o["default"]),s=[".item-ignore",".item-quote",".item-reply",".item-edit",".item-summary",".item-offtopic",".item-cancel"],n.prototype._initialize=function(){var t,a;return n.__super__._initialize.apply(this,arguments),t=$(".b-new_marker",this.$inner),this.$(s.join(","),this.$inner).on("click",(a=this,function(){return a._close_aside()})),$(".item-delete",this.$inner).on("click",function(e){return function(){return $(".main-controls",e.$inner).hide(),$(".delete-controls",e.$inner).show()}}(this)),$(".item-delete-confirm",this.$inner).on("ajax:loading",function(e){return function(t,s,n,a){return $.hideCursorMessage(),e.$root.animatedCollapse(),r()(500).then(function(){return e.$root.remove()})}}(this)),$(".item-delete-cancel",this.$inner).on("click",function(e){return function(){return e._close_aside()}}(this)),$(".item-mobile",this.$inner).on("click",function(e){return function(){return e.$root.toggleClass("aside-expanded"),$(".item-mobile",e.$inner).toggleClass("selected"),e.$root.find(">.b-height_shortener").click()}}(this)),t.on("click",function(e){return function(){var s;return(t=$(".b-new_marker.active",e.$inner)).hasClass("off")?(t.removeClass("off").data({click_activated:!0}).trigger("reappear"),i.a.post(t.data("reappear_url"),{ids:e.$root.attr("id")})):t.data("click_activated")?(t.addClass("off").trigger("disappear"),i.a.post(t.data("appear_url"),{ids:e.$root.attr("id")})):(s=e.$(".b-appear_marker.active")).trigger("appear",[s,!0])}}(this)),this.on("faye:"+this._type()+":updated",function(t){return function(s,n){var r;return $(".was_updated",t.$inner).remove(),r="message"===t._type()?t._type_label()+" "+e.t("frontend.shiki_editable.message_changed"):t._type_label()+" "+e.t("frontend.shiki_editable.changed"),$("<div class='was_updated'> <div><span>"+r+"</span><a class='actor b-user16' href='/"+n.actor+"'><img src='"+n.actor_avatar+"' srcset='"+n.actor_avatar_2x+" 2x' /><span>"+n.actor+"</span></a>.</div> <div>"+e.t("frontend.shiki_editable.click_to_reload")+"</div> </div>").appendTo(t.$inner).on("click",function(e){if(!$(e.target).closest(".actor").exists())return t._reload()}),!1}}(this)),this.on("faye:"+this._type()+":deleted",function(t){return function(s,n){var r;return r="message"===t._type()?t._type_label()+" "+e.t("frontend.shiki_editable.message_deleted"):t._type_label()+" "+e.t("frontend.shiki_editable.deleted"),t._replace("<div class='b-comment-info b-"+t._type()+"'><span>"+r+"</span><a class='b-user16' href='/"+n.actor+"'><img src='"+n.actor_avatar+"' srcset='"+n.actor_avatar_2x+" 2x' /><span>"+n.actor+"</span></a></div>"),!1}}(this))},n.prototype._after_initialize=function(){if(n.__super__._after_initialize.call(this),this.$body)return this.$body.on("mouseup",(e=this,function(){var t,s;if(s=Object(a.a)())return $(".item-quote").hide(),e.$root.data({selected_text:s}),t=$(".item-quote",e.$inner).css({display:"inline-block"}),r()().then(function(){return $(document).one("click",function(){return Object(a.a)().length?r()(250).then(function(){if(!Object(a.a)().length)return t.hide()}):t.hide()})})})),$(".item-quote",this.$inner).on("click",function(e){return function(t){var s,n,r;return s=[e.$root.prop("id"),e.$root.data("user_id"),e.$root.data("user_nickname")],r=e.$root.data("selected_text"),n="[quote="+e._type()[0]+s.join(";")+"]"+r+"[/quote]\n",e.$root.trigger("comment:reply",[n,"function"===typeof e._is_offtopic?e._is_offtopic():void 0])}}(this));var e},n.prototype._activate_appear_marker=function(){return this.$inner.children(".b-appear_marker").addClass("active"),this.$inner.children(".markers").find(".b-new_marker").addClass("active")},n.prototype._close_aside=function(){return $(".item-mobile",this.$inner).is(".selected")&&$("> .item-mobile",this.$inner).click(),$(".main-controls",this.$inner).show(),$(".delete-controls",this.$inner).hide(),$(".moderation-controls",this.$inner).hide()},n.prototype._reload_url=function(){return"/"+this._type()+"s/"+this.$root.attr("id")},n}()}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/views/application/shiki_editor.coffee":function(e,t,s){"use strict";s.r(t),function(e){var n=s("./node_modules/delay/index.js"),r=s.n(n),a=s("./node_modules/autosize/dist/autosize.js"),i=s.n(a),o=s("./app/assets/javascripts/helpers/axios.js"),c=s("./app/assets/javascripts/views/application/shiki_view.coffee"),u=s("./app/assets/javascripts/helpers/mobile_detect.js"),l=s("./app/assets/javascripts/services/flash.js"),p=function(e,t){return function(){return e.apply(t,arguments)}},d={}.hasOwnProperty;t.default=function(t){function s(){return this._hide_preview=p(this._hide_preview,this),s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)d.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,c["default"]),s.prototype.initialize=function(){var t,s,n,a;return t=this.$root,this.$form=this.$("form"),this.$form.exists()?this.is_inner_form=!0:(this.$form=t.closest("form"),this.is_inner_form=!1),this.$textarea=this.$("textarea"),this.on("focus",(a=this,function(){return a.$textarea.trigger("focus")})),this.$textarea.one("focus",function(e){return function(){return r()().then(function(){return i()(e.$textarea[0])})}}(this)),this.$textarea.on("keypress keydown",function(e){return function(t){if(27===t.keyCode)return e.$textarea.blur(),!1;if(t.metaKey||t.ctrlKey){if(10===t.keyCode||13===t.keyCode)return e.$form.submit(),!1;if(66===t.keyCode)return e.$(".editor-bold").click(),!1;if(73===t.keyCode)return e.$(".editor-italic").click(),!1;if(85===t.keyCode)return e.$(".editor-underline").click(),!1;if(83===t.keyCode)return e.$(".editor-spoiler").click(),!1;if(79===t.keyCode)return e.$textarea.insertAtCaret("[code]","[/code]"),!1}}}(this)),this.$form.on("ajax:before",function(t){return function(){return t.$textarea.val().replace(/\n| |\r|\t/g,"")?t._shade():(l.a.error(e.t("frontend.shiki_editor.text_cant_be_blank")),!1)}}(this)).on("ajax:complete",this._unshade).on("ajax:success",function(e){return function(){return e._hide_preview(),r()().then(function(){return e.$textarea[0].dispatchEvent(new Event("autosize:update"))})}}(this)),this.$(".editor-controls span").on("click",function(e){return function(t){if(!$(t.target).hasClass("selected"))return e.$(".editor-controls span.selected").trigger("click")}}(this)),this.$(".editor-bold").on("click",function(e){return function(){return e.$textarea.insertAtCaret("[b]","[/b]")}}(this)),this.$(".editor-italic").on("click",function(e){return function(){return e.$textarea.insertAtCaret("[i]","[/i]")}}(this)),this.$(".editor-underline").on("click",function(e){return function(){return e.$textarea.insertAtCaret("[u]","[/u]")}}(this)),this.$(".editor-strike").on("click",function(e){return function(){return e.$textarea.insertAtCaret("[s]","[/s]")}}(this)),this.$(".editor-spoiler").on("click",function(t){return function(){return t.$textarea.insertAtCaret("[spoiler="+e.t("frontend.shiki_editor.spoiler")+"]","[/spoiler]")}}(this)),["smiley","link","image","quote","upload"].forEach(function(e){return function(t){return e.$(".editor-"+t).on("click",function(s){var n,r;return r=$(s.target),n=e.$("."+t+"s"),r.hasClass("selected")?n.addClass("hidden"):(n.removeClass("hidden"),n.trigger("click:open")),r.toggleClass("selected")})}}(this)),this.$(".b-button.ok").on("click",function(e){return function(t){var s,n;return n=$(t.target).data("type"),s=e.$("."+n+" input[type=text]"),"images"===n?s.trigger("keypress",[!0]):s.trigger("autocomplete:text",[s.val()])}}(this)),this.$(".links").on("click:open",function(e){return function(){return $(".links input[type=text]",t).val(""),$(e.$('[name="link_type"]:checked')[0]||e.$('[name="link_type"]')[0]).prop("checked",!0).trigger("change")}}(this)),this.$(".links input[type=text]").completable().on("autocomplete:success autocomplete:text",function(e){return function(t,s){var n,r,a;if(a=(n=e.$(".links input[type=radio]:checked")).prop("id").replace("link_type_",""),r=Object.isString(s)?"url"===a?s:void 0:{id:s.id,text:s.name,type:a})return n.trigger("tag:build",r)}}(this)),this.$(".links input[type=radio]").on("change",function(){var e,s;return s=$(this),(e=$(".links input[type=text]",t)).attr({placeholder:s.data("placeholder")}),s.data("autocomplete")?e.data({autocomplete:s.data("autocomplete")}):e.data({autocomplete:null}),e.trigger("flushCache").focus()}),this.$(".links input[type=radio]").on("tag:build",function(e){return function(t,s){return e.$(".editor-link").trigger("click")}}(this)),this.$(".images").on("click:open",function(e){return function(){return e.$(".images input[type=text]").val("").focus()}}(this)),this.$(".images input[type=text]").on("keypress",function(e){return function(t,s){if(10===t.keyCode||13===t.keyCode||s)return e.$textarea.insertAtCaret("","[img]"+$(t.target).val()+"[/img]"),e.$(".editor-image").trigger("click"),!1}}(this)),this.$(".quotes").on("click:open",function(e){return function(){return e.$(".quotes input[type=text]").val("").focus()}}(this)),this.$(".quotes input[type=text]").on("keypress",function(e){return function(t){if(10===t.keyCode||13===t.keyCode)return e.$textarea.insertAtCaret("[quote"+(!e.value||e.value.isBlank()?"":"="+e.value)+"]","[/quote]"),e.$(".editor-quote").trigger("click"),!1}}(this)),this.$(".quotes input[type=text]").completable().on("autocomplete:success autocomplete:text",function(e){return function(t,s){var n;return n=Object.isString(s)?s:s.value,e.$textarea.insertAtCaret("[quote"+(!n||n.isBlank()?"":"="+n)+"]","[/quote]"),e.$(".editor-quote").trigger("click")}}(this)),this.$(".links #link_type_url").on("tag:build",function(e){return function(t,s){return e.$textarea.insertAtCaret("[url="+s+"]","[/url]",s.replace(/^https?:\/\/|\/.*/g,""))}}(this)),s=[".links #link_type_anime",".links #link_type_manga",".links #link_type_ranobe",".links #link_type_character",".links #link_type_person"],this.$(s.join(",")).on("tag:build",function(e){return function(t,s){return e.$textarea.insertAtCaret("["+s.type+"="+s.id+"]","[/"+s.type+"]",s.text)}}(this)),this.$(".smileys").on("click:open",function(e){return function(t){var s;if((s=$(t.target)).data("href"))return s.load(s.data("href"),function(){return s.data({href:null}),e.$(".smileys img").on("click",function(t){var s;return s=$(t.target).attr("alt"),e.$textarea.insertAtCaret("",s),e.$(".editor-smiley").trigger("click")})})}}(this)),this.$(".b-offtopic_marker").on("click",function(e){return function(){return e._mark_offtopic(e.$(".b-offtopic_marker").hasClass("off"))}}(this)),this.$(".b-summary_marker").on("click",function(e){return function(){return e._mark_review(e.$(".b-summary_marker").hasClass("off"))}}(this)),this.$("footer .unpreview").on("click",this._hide_preview),this.$("footer .preview").on("click",function(e){return function(){var t,s;return t={},s=e.is_inner_form?e.$form.serializeHash()[e._type()]:e.$root.triggerWithReturn("preview:params")||{body:e.$textarea.val()},t[e._type()]=s,e._shade(),o.a.post($("footer .preview",e.$root).data("preview_url"),t).then(function(t){return e._show_preview(t.data)}).catch().then(e._unshade)}}(this)),this.$(".item-apply").on("click",function(e){return function(t,s){return e.$form.submit()}}(this)),this.$textarea.val().length>0&&r()().then(function(e){return function(){return e.$textarea.focus(),e.$textarea.setCursorPosition(e.$textarea.val().length)}}(this)),n="["+e.t("frontend.shiki_editor.file")+" #@]",this.$textarea.shikiFile({progress:t.find(".b-upload_progress"),input:$(".editor-file input",t),maxfiles:6}).on("upload:started",function(e){return function(t,s){var r;return r=n.replace("@",s),e.$textarea.insertAtCaret("",r),e.$textarea.focus()}}(this)).on("upload:success",function(e){return function(t,s,r){var a,i;return a=n.replace("@",r),-1===e.$textarea.val().indexOf(a)?e.$textarea.insertAtCaret("","[image="+s.id+"]"):(i=s.id?"[image="+s.id+"]":"",e.$textarea.val(e.$textarea.val().replace(a,i))),e.$textarea.focus()}}(this)).on("upload:failed",function(e){return function(t,s,r){var a;return a=n.replace("@",r),-1!==e.$textarea.val().indexOf(a)&&e.$textarea.val(e.$textarea.val().replace(a,"")),e.$textarea.focus()}}(this))},s.prototype._show_preview=function(e){return this.$root.addClass("previewed"),$(".body .preview",this.$root).html(e).process().shikiEditor()},s.prototype._hide_preview=function(){if(this.$root.removeClass("previewed"),!this.$(".editor-controls").is(":appeared"))return $.scrollTo(this.$root)},s.prototype._mark_offtopic=function(e){return this.$("#comment_is_offtopic").val(e?"true":"false"),this.$(".b-offtopic_marker").toggleClass("off",!e)},s.prototype._mark_review=function(e){return this.$("#comment_is_summary").val(e?"true":"false"),this.$(".b-summary_marker").toggleClass("off",!e)},s.prototype.cleanup=function(){return this._mark_offtopic(!1),this._mark_review(!1),this.$textarea.val("").trigger("update")},s.prototype.reply_comment=function(e,t){return t&&this._mark_offtopic(!0),this.$textarea.val((this.$textarea.val()+"\n"+e).replace(/^\n+/,"")).focus().trigger("update").setCursorPosition(this.$textarea.val().length),setTimeout((s=this,function(){if((Object(u.isMobile)()||Object(u.isTablet)())&&!s.$textarea.is(":appeared"))return $.scrollTo(s.$form,null,function(){return s.$textarea.focus()})}));var s},s.prototype.edit_comment=function(e){var t,s;return t=e.children().detach(),e.append(this.$root),this.$(".cancel").on("click",(s=this,function(){return s.$root.remove(),e.append(t)})),this.on("ajax:success",function(t,s){return e.view()._replace(s.html,s.JS_EXPORTS)})},s.prototype._type=function(){return this.$textarea.data("item_type")},s}()}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/views/application/shiki_gallery.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return m});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./node_modules/packery/js/packery.js"),c=s.n(o),u=s("./app/assets/javascripts/views/application/view.coffee");function l(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function p(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var s,n,a,o,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,u["default"]),s=t,(n=[{key:"initialize",value:function(e){var t=this,s=e||{};this.$container=this.$(".container"),$(".b-image",this.$container).shikiImage(),this.$container.imagesLoaded(function(){t.packery=new c.a(t.$container[0],{columnWidth:".grid_sizer",containerStyle:null,gutter:0,isAnimated:!1,isResizeBound:!1,itemSelector:".b-image",transitionDuration:s.imageboard?0:"0.25s"}),t.$container.addClass("packery").data({packery:t.packery})}),s.shikiUpload&&this._addUpload(s.shikiUploadCustom)}},{key:"_addUpload",value:function(e){var t=this;this.$container.shikiFile({progress:this.$container.prev()}).on("upload:success",function(s,n){e||t._deployImage(n.html,50,"prepended")})}},{key:"_deployImage",value:(o=r.a.mark(function e(t,s,n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=$(t).shikiImage().css({left:-9999}).prependTo(this.$container),e.next=3,i()(s);case 3:this.packery[n](a[0]);case 4:case"end":return e.stop()}},e,this)}),m=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=o.apply(e,t);function a(e){l(r,s,n,a,i,"next",e)}function i(e){l(r,s,n,a,i,"throw",e)}a(void 0)})},function(e,t,s){return m.apply(this,arguments)})}])&&p(s.prototype,n),a&&p(s,a),t}()},"./app/assets/javascripts/views/application/shiki_html5_video.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return u});var n=s("./node_modules/js-storage/js.storage.js"),r=s("./app/assets/javascripts/views/application/view.coffee");function a(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,o(t).apply(this,arguments))}var s,u,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["default"]),s=t,(u=[{key:"initialize",value:function(){var e=this;this.root.volume=n.sessionStorage.get("video_volume")||1,this.on("click",function(){return e.click()}),this.on("volumechange",function(){return e.volumeChange()}),this.on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){return e.switchFullscreen()})}},{key:"click",value:function(){return this.root.paused?this.root.play():this.root.pause(),!1}},{key:"volumeChange",value:function(){n.sessionStorage.set("video_volume",this.root.volume)}},{key:"switchFullscreen",value:function(){document.fullscreenElement===this.root?this.root.classList.add("fullscreen"):this.root.classList.remove("fullscreen")}}])&&a(s.prototype,u),l&&a(s,l),t}()},"./app/assets/javascripts/views/application/shiki_modal.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return c});var n=s("./app/assets/javascripts/views/application/view.coffee");function r(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,i(t).apply(this,arguments))}var s,c,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,n["default"]),s=t,(c=[{key:"initialize",value:function(){var e=this;this.$modal=$('<div class="b-modal"><div class="inner"></div></div>'),this.$modal.find(".inner").append(this.$root),this.$modal.css("top",$(window).scrollTop()),this.$modal.children().css("top",$(window).scrollTop()),this.$modal.appendTo(document.body),this.checkCancel=this._onKeyPress.bind(this),$(window).on("keydown",this.checkCancel),this.$modal.on("click",".cancel",function(){return e.close()}),this._shade()}},{key:"close",value:function(){$(window).off("keydown",this.checkCancel),this.$modal.remove(),this._unshade()}},{key:"_shade",value:function(){var e=this;$(".b-shade").addClass("active").on("click",function(){return e.close()})}},{key:"_unshade",value:function(){var e=this;$(".b-shade").removeClass("active").off("click",function(){return e.close()})}},{key:"_onKeyPress",value:function(e){27===e.keyCode&&this.close()}}])&&r(s.prototype,c),u&&r(s,u),t}()},"./app/assets/javascripts/views/application/shiki_view.coffee":function(e,t,s){"use strict";s.r(t);var n=s("./app/assets/javascripts/views/application/view.coffee"),r=s("./app/assets/javascripts/helpers/axios.js"),a=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.default=function(e){function t(){return this._reload=a(this._reload,this),this._unshade=a(this._unshade,this),this._shade=a(this._shade,this),this._check_height=a(this._check_height,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var s in t)i.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,n["default"]),t.prototype.MAX_PREVIEW_HEIGHT=450,t.prototype.COLLAPSED_HEIGHT=150,t.prototype._initialize=function(){t.__super__._initialize.apply(this,arguments),this.$node.removeClass("unprocessed"),this.$inner=this.$(">.inner"),this.$inner.exists()},t.prototype._check_height=function(){if(window.SHIKI_USER.isCommentsAutoCollapsed)return this.$inner.checkHeight({max_height:this.MAX_PREVIEW_HEIGHT,collapsed_height:this.COLLAPSED_HEIGHT})},t.prototype._shade=function(){return this.$node.addClass("b-ajax")},t.prototype._unshade=function(){return this.$node.removeClass("b-ajax")},t.prototype._reload=function(){return this._shade(),r.a.get(this._reload_url()).then((e=this,function(t){return e._replace(t.data.content,t.data.JS_EXPORTS)}));var e},t.prototype._reload_url=function(){return this.$node.data("url")},t.prototype._replace=function(e,t){var s;return s=$(e),this.$node.replaceWith(s),s.process(t).yellowFade()},t}()},"./app/assets/javascripts/views/application/view.coffee":function(e,t,s){"use strict";s.r(t),t.default=function(){function e(e,t,s,n){this._initialize(e),this.initialize(t,s,n),this._after_initialize()}return e.prototype.on=function(){return this.$node.on.apply(this.$node,arguments)},e.prototype.trigger=function(){return this.$node.trigger.apply(this.$node,arguments)},e.prototype.$=function(e){return $(e,this.$node)},e.prototype.html=function(e){return this.$node.html(e)},e.prototype._initialize=function(e){return this.$node=this.$root=$(e),this.node=this.root=this.$node[0],this.$node.view(this)},e.prototype._after_initialize=function(){},e.prototype._set_root=function(e){return this.$root=this.$node=$(e),this.root=this.node=this.$root[0],this.$root.data({view_object:this})},e}()},"./app/assets/javascripts/views/comments/ban_form.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return c});var n=s("./app/assets/javascripts/views/application/view.coffee");function r(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,i(t).apply(this,arguments))}var s,c,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,n["default"]),s=t,(c=[{key:"initialize",value:function(){this.$root.on("click","[data-reason]",this._click)}},{key:"_click",value:function(e){var t=e.currentTarget;$(t).closest(".b-form").find('[name="ban[reason]"]').val($(t).data("reason"))}}])&&r(s.prototype,c),u&&r(s,u),t}()},"./app/assets/javascripts/views/contests/match.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return h});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./app/assets/javascripts/views/application/view.coffee"),c=s("./app/assets/javascripts/helpers/in_new_tab.js");function u(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function l(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var s,n,a,h,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o["default"]),s=t,(n=[{key:"initialize",value:function(e,t){var s=this;this.roundView=t,this.model=this.$root.data("model"),this.vote=e||{},this.$left=this.$('.match-member[data-variant="left"]'),this.$right=this.$('.match-member[data-variant="right"]'),this.$(".next-match").on("click",function(){return s._toNextMatch()}),this.$(".prev-match").on("click",function(){return s._toPrevMatch()}),this.$(".action .to-next-not-voted").on("click",function(){return s._toNextNotVotedMatch()}),this.$(".match-member img").on("click",function(e){return s._voteClick(e)}),this.$(".match-member").on("ajax:success",function(e){return s._voteMember(e)}),this.$(".action .abstain").on("ajax:success",function(){return s._abstain()}),this.isStarted&&(this.$(".match-member .b-catalog_entry").hover(function(e){s.vote.vote||(s.$(".match-member").addClass("unhovered"),$(e.target).closest(".match-member").removeClass("unhovered").addClass("hovered"))},function(){return s.$(".match-member").removeClass("hovered unhovered")}),this._setVote(this.vote.vote)),this.initialized=!0}},{key:"_toNextMatch",value:function(){this.roundView.switchMatch(this.roundView.nextMatchId(this.model.id))}},{key:"_toPrevMatch",value:function(){this.roundView.switchMatch(this.roundView.prevMatchId(this.model.id))}},{key:"_toNextNotVotedMatch",value:function(){this.roundView.switchMatch(this._nextMatchId())}},{key:"_abstain",value:function(){this._vote("abstain")}},{key:"_voteMember",value:function(e){var t=e.target;$(t).find(".b-catalog_entry").yellowFade(),this._vote($(t).data("variant"))}},{key:"_voteClick",value:function(e){Object(c.a)(e)||(e.preventDefault(),e.stopImmediatePropagation(),this.isStarted&&$(e.target).closest(".match-member").callRemote())}},{key:"_vote",value:(h=r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._setVote(t),!this._nextMatchId()){e.next=5;break}return e.next=4,i()(500);case 4:this._toNextNotVotedMatch();case 5:case"end":return e.stop()}},e,this)}),m=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=h.apply(e,t);function a(e){u(r,s,n,a,i,"next",e)}function i(e){u(r,s,n,a,i,"throw",e)}a(void 0)})},function(e){return m.apply(this,arguments)})},{key:"_setVote",value:function(e){this.roundView.setVote(this.model.id,e),this.vote.vote=e,this.$left.toggleClass("voted","left"===e).toggleClass("unvoted",!(!e||"left"===e)),this.$right.toggleClass("voted","right"===e).toggleClass("unvoted",!(!e||"right"===e)),this.$(".invitation").toggle(!e),this.$(".vote-voted").toggle(!(!e||"abstain"===e)),this.$(".vote-abstained").toggle("abstain"===e),this.$(".thanks").toggle(!(!e||this._nextMatchId())),this.$(".action .abstain").toggleClass("hidden","abstain"===e),this.$(".action .to-next-not-voted").toggleClass("hidden",!this._nextMatchId())}},{key:"_nextMatchId",value:function(){return this.roundView.nextNotVotedMatchId(this.model.id)}},{key:"isStarted",get:function(){return"started"===this.model.state}}])&&l(s.prototype,n),a&&l(s,a),t}()},"./app/assets/javascripts/views/contests/round.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return l});var n=s("./app/assets/javascripts/helpers/axios.js"),r=s("./app/assets/javascripts/views/application/view.coffee"),a=s("./app/assets/javascripts/views/contests/match.js");function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,c(t).apply(this,arguments))}var s,l,p;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["default"]),s=t,(l=[{key:"initialize",value:function(e){var t=this;this.model=this.$root.data("model"),this.votes=e||[],this.$matchContainer=this.$(".match-container"),this._setVotes(this.votes),this.switchMatch(this._initialMatchId()),this.$(".match-day .match-link").on("click",function(e){return t.switchMatch($(e.currentTarget).data("id"))})}},{key:"switchMatch",value:function(e){var t=this,s=this._$matchLine(e);this.$matchContainer.addClass("b-ajax"),n.a.get(s.data("match_url")).then(function(n){t.$(".match-link.active").removeClass("active"),s.addClass("active"),t._matchLoaded(e,n.data)})}},{key:"setVote",value:function(e,t){this._$matchLine(e).removeClass("voted-left voted-rigth voted-abstain").addClass("voted-".concat(t))}},{key:"nextMatchId",value:function(e){var t=this.model.matches.findIndex(function(t){return t.id===e});return(this.model.matches[t+1]||this.model.matches.first()).id}},{key:"prevMatchId",value:function(e){var t=this.model.matches.findIndex(function(t){return t.id===e});return(this.model.matches[t-1]||this.model.matches.last()).id}},{key:"nextNotVotedMatchId",value:function(e){var t=this.votes.find(function(t){return t.match_id!==e&&!t.vote});return t?t.match_id:null}},{key:"_setVotes",value:function(e){var t=this;Object.forEach(e,function(e){e.vote&&t.setVote(e.match_id,e.vote)})}},{key:"_$matchLine",value:function(e){return $(".match-day .match-link[data-id=".concat(e,"]"))}},{key:"_initialMatchId",value:function(){return this.$root.data("match_id")||this.$(".match-day .match-link.started:not(.voted-left):not(.voted-right):not(.voted-abstain)").first().data("id")||this.$(".match-day .match-link.started").first().data("id")||this.$(".match-day .match-link").first().data("id")}},{key:"_matchLoaded",value:function(e,t){var s=$(t).process(),n=s.filter(".b-contest_match"),r=this.votes.find(function(t){return t.match_id===e});this.$matchContainer.removeClass("b-ajax").html(s),new a.default(n,r,this);var i=this.$(".match-members .match-member").first();i.is(":appeared")||$.scrollTo(i);var o=n.data("page_url");o&&window.history.replaceState({turbolinks:!0,url:o},"",o)}}])&&i(s.prototype,l),p&&i(s,p),t}()},"./app/assets/javascripts/views/images/imageboard_gallery.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return d});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./app/assets/javascripts/views/images/preloaded_gallery.js");function i(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function o(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,s){return(u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,s){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(s):r.value}})(e,t,s||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,l(t).apply(this,arguments))}var n,d,f,h,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a["default"]),n=t,(d=[{key:"initialize",value:function(){u(l(t.prototype),"initialize",this).call(this),this.rel="imageboards"}},{key:"_buildLoader",value:(h=r.a.mark(function e(){var n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e(7).then(s.bind(null,"./app/assets/javascripts/services/images/imageboards_loader.js"));case 2:n=e.sent,a=n.ImageboardsLoader,(i=encodeURIComponent(this.$root.data("imageboard_tag")||"").trim())&&(this.loader=new a(t.BATCH_SIZE,i));case 6:case"end":return e.stop()}},e,this)}),m=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=h.apply(e,t);function a(e){i(r,s,n,a,o,"next",e)}function o(e){i(r,s,n,a,o,"throw",e)}a(void 0)})},function(){return m.apply(this,arguments)})}])&&o(n.prototype,d),f&&o(n,f),t}()},"./app/assets/javascripts/views/images/preloaded_gallery.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return v});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/delay/index.js"),i=s.n(a),o=s("./app/assets/javascripts/views/application/shiki_gallery.js"),c=s("./app/assets/javascripts/helpers/jst.js");function u(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function l(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){u(a,n,r,i,o,"next",e)}function o(e){u(a,n,r,i,o,"throw",e)}i(void 0)})}}function p(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,s){return(f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,s){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(s):r.value}})(e,t,s||e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,h(t).apply(this,arguments))}var n,a,u,v,_,g;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o["default"]),n=t,(a=[{key:"initialize",value:(g=l(r.a.mark(function e(){var s=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(h(t.prototype),"initialize",this).call(this,{shikiUpload:this.$root.data("can_upload"),shikiUploadCustom:!0}),this.rel=this.$root.data("rel"),this.canLoad=!0,this.destroyUrl=this.$container.data("destroy_url"),this.on("upload:success",function(e,t){return s._appendUploaded(t)}),this._cleanup(),e.next=8,this._buildLoader();case 8:this.loader.on(this.loader.FETCH_EVENT,function(e){s._imagesLoad(e)}),this._appearMarker(),this._fetch();case 11:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"_imagesLoad",value:function(e){var t=this,s=e.map(function(e){return t._imageToHtml(e)});$(s.join("")).imagesLoaded(function(e){return t._deployBatch(e)})}},{key:"_appendUploaded",value:function(e){var t=this,s=$(this._imageToHtml(e));s.imagesLoaded(function(){t._deployImage(s,0,"prepended")})}},{key:"_buildLoader",value:(_=l(r.a.mark(function e(){var n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e(8).then(s.bind(null,"./app/assets/javascripts/services/images/static_loader.js"));case 2:n=e.sent,a=n.StaticLoader,i=this.$container.data("images"),this.loader=new a(t.BATCH_SIZE,i);case 6:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"_appearMarker",value:function(){var e=this;this.$appearMarker=$('<p class="ajax-loading vk-like b-appear_marker active" data-appear-top-offset="900"></p>').insertAfter(this.$container),this.$appearMarker.on("appear",function(){return e._fetch()})}},{key:"_fetch",value:function(){this.canLoad&&(this.loader.fetch(),this._stopPostload())}},{key:"_cleanup",value:function(){this.$container.children(":not(.grid_sizer)").remove()}},{key:"_startPostload",value:function(){this.canLoad=!0,this.$appearMarker.is(":appeared")&&this._fetch()}},{key:"_stopPostload",value:function(){this.canLoad=!1}},{key:"_imageToHtml",value:function(e){return c.a["images/image"]({image:e,rel:this.rel,destroy_url:e.can_destroy?this.destroyUrl.replace("ID",e.id):void 0})}},{key:"_deployBatch",value:(v=l(r.a.mark(function e(t){var s=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.elements.forEach(function(e,t){s._deployImage(e,100*t,"appended")}),e.next=3,i()(100*(t.elements.length+1));case 3:this.loader.isFinished()?this.$appearMarker.remove():this._startPostload();case 4:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})}])&&p(n.prototype,a),u&&p(n,u),t}();v.BATCH_SIZE=5},"./app/assets/javascripts/views/polls/view.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return v});var n,r=s("./node_modules/@babel/runtime/regenerator/index.js"),a=s.n(r),i=s("./app/assets/javascripts/helpers/axios.js"),o=s("./app/assets/javascripts/views/application/view.coffee"),c=s("./app/assets/javascripts/helpers/jst.js"),u=s("./node_modules/decko/dist/decko.js");function l(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function p(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,s,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(m((n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var s,n,r,u,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o["default"]),s=t,(n=[{key:"initialize",value:function(e){this.model=e,this._render(),this.canVote&&(this.$vote=this.$(".poll-actions .vote"),this.$abstain=this.$(".poll-actions .abstain"),this._toggleActions(),this.$(".b-radio").on("click",this._radioClick),this.$vote.on("click",this._voteVariant),this.$abstain.on("click",this._abstain))}},{key:"_radioClick",value:function(e){e.preventDefault();var t=$(e.currentTarget).find("input");t.prop({checked:!t.prop("checked")}),this._toggleActions()}},{key:"_voteVariant",value:function(){var e=parseInt(this.checkedRadio.value),t=this.model.variants.find(function(t){return t.id===e});this.model.vote={is_abstained:!1,variant_id:t.id},t.votes_total+=1,this._vote(t.vote_for_url)}},{key:"_abstain",value:function(){this.model.vote={is_abstained:!0,variant_id:null},this._vote(this.model.vote_abstain_url)}},{key:"_render",value:function(){var e=this.$root;this._set_root(c.a["polls/poll"]({model:this.model,can_vote:this.canVote,bar_percent:this._variantPercent,bar_class:this._variantClass})),e.replaceWith(this.$root)}},{key:"_vote",value:(u=a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$root.addClass("b-ajax"),e.next=3,i.a.post(t);case 3:this.$root.removeClass("b-ajax"),this._render();case 5:case"end":return e.stop()}},e,this)}),m=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=u.apply(e,t);function a(e){l(r,s,n,a,i,"next",e)}function i(e){l(r,s,n,a,i,"throw",e)}a(void 0)})},function(e){return m.apply(this,arguments)})},{key:"_toggleActions",value:function(){this.checkedRadio?(this.$abstain.addClass("hidden"),this.$vote.removeClass("hidden")):(this.$abstain.removeClass("hidden"),this.$vote.addClass("hidden"))}},{key:"_variantPercent",value:function(e){var t=this.model.variants.sum("votes_total");return 0===t?0:(100*e.votes_total/t).round(2)}},{key:"_variantClass",value:function(e){var t=this._variantPercent(e);return t<=80&&t>60?"s1":t<=60&&t>30?"s2":t<=30?"s1":"s0"}},{key:"canVote",get:function(){return window.SHIKI_USER.isSignedIn&&"started"===this.model.state&&!this.model.vote.is_abstained&&!this.model.vote.variant_id}},{key:"checkedRadio",get:function(){return this.$("input[type=radio]:checked")[0]}}])&&p(s.prototype,n),r&&p(s,r),t}()).prototype,"_radioClick",[u.bind],Object.getOwnPropertyDescriptor(n.prototype,"_radioClick"),n.prototype),m(n.prototype,"_voteVariant",[u.bind],Object.getOwnPropertyDescriptor(n.prototype,"_voteVariant"),n.prototype),m(n.prototype,"_abstain",[u.bind],Object.getOwnPropertyDescriptor(n.prototype,"_abstain"),n.prototype),m(n.prototype,"_variantPercent",[u.bind],Object.getOwnPropertyDescriptor(n.prototype,"_variantPercent"),n.prototype),m(n.prototype,"_variantClass",[u.bind],Object.getOwnPropertyDescriptor(n.prototype,"_variantClass"),n.prototype),n)},"./app/assets/javascripts/views/search/autocomplete_engine.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return u});var n=s("./app/assets/javascripts/views/search/index_engine.js");function r(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e,t,s){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,s){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(s):r.value}})(e,t,s||e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e,s){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,o(t).call(this))).fetchUrl=e,n._$content=s,n.isAutocomplete=!0,n}var s,u,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,n["default"]),s=t,(u=[{key:"_responseToHtml",value:function(e){var s=$(i(o(t.prototype),"_responseToHtml",this).call(this,e));return s.find("a").changeTag("span"),s.find(".linkeable, .bubbled").removeClass("linkeable bubbled"),s.filter(".b-db_entry-variant-list_item").each(function(e,t){t.classList.add("linkeable"),t.setAttribute("href",$(t).find(".name .b-link").attr("href"))}),s}},{key:"_searchUrl",value:function(e){return this._url(this.fetchUrl,e)}},{key:"_changeUrl",value:function(e){}},{key:"$content",get:function(){return this._$content}},{key:"phrase",get:function(){return this._phrase},set:function(e){this._phrase=e,Object.isEmpty(this.phrase)||(this._showAjax(),this.debouncedSearch(this.phrase))}}])&&r(s.prototype,u),l&&r(s,l),t}()},"./app/assets/javascripts/views/search/collection.js":function(e,t,s){"use strict";s.r(t),function(e){s.d(t,"default",function(){return _});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/urijs/src/URI.js"),i=s.n(a),o=s("./node_modules/throttle-debounce/index.esm.js"),c=s("./app/assets/javascripts/services/ajax_cacher.js"),u=s("./app/assets/javascripts/services/flash.js"),l=s("./app/assets/javascripts/views/application/view.coffee"),p=s("./app/assets/javascripts/helpers/jst.js");function d(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function f(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(t){function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),h(this,m(s).apply(this,arguments))}var n,a,_,g,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,l["default"]),n=s,(a=[{key:"initialize",value:function(){var e=this;this.$input=this.$(".field input"),this.$clear=this.$(".field .clear"),this.isActive=!1,this.debouncedSearch=Object(o.a)(250,function(t){return e._search(t)}),this._phrase=this.inputSearchPhrase,this.$input.on("change blur paste",function(){return e._onChange()}),this.$input.on("keyup",function(t){return e._onKeyup(t)}),this.$clear.on("click",function(){return e._clearPhrase(!0)})}},{key:"_onKeyup",value:function(e){27!==e.keyCode?this.phrase=this.inputSearchPhrase:this._cancel()}},{key:"_onChange",value:function(){this.phrase=this.inputSearchPhrase}},{key:"_clearPhrase",value:function(e){this.$input.val("").trigger("change"),e&&this.$input.focus()}},{key:"_cancel",value:function(){Object.isEmpty(this.phrase)?this._deactivate():this._clearPhrase()}},{key:"_activate",value:function(){this._showAjax(),this.isActive=!0}},{key:"_deactivate",value:function(){this.$input.blur(),this.isActive=!1}},{key:"_search",value:(g=r.a.mark(function t(s){var n,a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.fetch(this._searchUrl(s));case 2:if(n=t.sent,a=n.data,i=n.status,this._hideAjax(),200===i){t.next=9;break}return u.a.error(e.t("frontend.lib.paginated_catalog.please_try_again_later")),t.abrupt("return");case 9:s===this.inputSearchPhrase.trim()&&(this._changeUrl(this._displayUrl(s)),this._processResponse(a));case 10:case"end":return t.stop()}},t,this)}),y=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=g.apply(e,t);function a(e){d(r,s,n,a,i,"next",e)}function i(e){d(r,s,n,a,i,"throw",e)}a(void 0)})},function(e){return y.apply(this,arguments)})},{key:"_changeUrl",value:function(e){window.history.replaceState({turbolinks:!0,url:e},"",e)}},{key:"_processResponse",value:function(e){var t;t=e.content?e.content+(e.postloader||""):Object.isEmpty(this.phrase)?"":p.a["search/nothing_found"]({isAutocomplete:!1}),this.$collection.html(t).process(e.JS_EXPORTS)}},{key:"_searchUrl",value:function(e){return this._url(e,"search")}},{key:"_displayUrl",value:function(e){return this._url(e,"display")||this._url(e,"search")}},{key:"_url",value:function(e,t){var s=this.$root.data("".concat(t,"_url"));if(!s)return null;var n=i()(s).removeQuery("phrase");return e?n.addQuery({phrase:e}):n}},{key:"_showAjax",value:function(){this.$collection.addClass("b-ajax")}},{key:"_hideAjax",value:function(){this.$collection.removeClass("b-ajax")}},{key:"$collection",get:function(){return this.$(".search-results")}},{key:"inputSearchPhrase",get:function(){return this.$input.val()}},{key:"phrase",get:function(){return this._phrase},set:function(e){var t=e.trim();if(this._phrase.trim()!==t){var s=this._phrase;this._phrase=e,void 0!==s&&(this._activate(),this.debouncedSearch(t)),this.$input.toggleClass("has-value",!Object.isEmpty(this._phrase))}}}])&&f(n.prototype,a),_&&f(n,_),s}()}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/views/search/global.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return C});var n,r=s("./node_modules/@babel/runtime/regenerator/index.js"),a=s.n(r),i=s("./node_modules/turbolinks/dist/turbolinks.js"),o=s.n(i),c=s("./node_modules/urijs/src/URI.js"),u=s.n(c),l=s("./node_modules/delay/index.js"),p=s.n(l),d=s("./node_modules/decko/dist/decko.js"),f=s("./app/assets/javascripts/views/application/view.coffee"),h=s("./app/assets/javascripts/views/search/autocomplete_engine.js"),m=s("./app/assets/javascripts/views/search/index_engine.js"),v=s("./app/assets/javascripts/helpers/global_handler.js"),_=s("./app/assets/javascripts/helpers/jst.js");function g(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function y(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,s,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x="".concat(".b-db_entry-variant-list_item",", .search-mode"),C=(k((n=function(e){function t(){var e,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(s=j(this,(e=b(t)).call.apply(e,[this].concat(r)))).isActive=!1,s}var s,n,r,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,f["default"]),s=t,(n=[{key:"initialize",value:function(){var e=this;this.$input=this.$(".field input"),this._phrase=this.inputSearchPhrase,this.currentMode=this.hasIndex?"index":this.$root.data("default-mode")||"anime",v.a.on("slash",this._onGlobalSlash),this.$input.on("focus",function(){return e._activate()}).on("change blur paste keyup",function(){return e.phrase=e.inputSearchPhrase}).on("blur",this._onBlur),this.$(".field .clear").on("click",function(){return e._clearPhrase(!0)}),this.$content.on("mousedown",".search-mode",function(t){var s=t.currentTarget;e._selectItem(s)}).on("mouseup",".search-mode",function(){e.$input.focus()}).on("focus mousemove",".b-db_entry-variant-list_item",function(t){var s=t.currentTarget;e.currentItem!==s&&e._selectItem(s,!1)})}},{key:"cancel",value:function(){this._deactivate()}},{key:"_activate",value:function(){this.isActive||(this.isActive=!0,this._toggleGlobalSearch(),this._renderModes(),v.a.on("enter",this._onEnter).on("up",this._onMoveUp).on("down",this._onMoveDown).on("esc",this._onEsc).on("focus",this._tryCloseOnFocus))}},{key:"_deactivate",value:function(){this.isActive&&(this.isActive=!1,this._toggleGlobalSearch(),this.$input.is(":focus")&&this.$input.blur(),v.a.off("enter",this._onEnter).off("esc",this._onEsc).off("up",this._onMoveUp).off("down",this._onMoveDown).off("focus",this._tryCloseOnFocus))}},{key:"_renderModes",value:function(){this.$content.html(_.a["search/options"]({currentMode:this.currentMode,hasIndex:this.hasIndex}))}},{key:"_clearPhrase",value:function(e){this.phrase="",e&&this.$input.focus()}},{key:"_selectItem",value:function(e,t){this._deselectItems(),this.isSearching?this.currentItem=e:this.currentMode=$(e).data("mode"),e.setAttribute("tabindex",0),e.classList.add("active");var s=this.$content.find("".concat(".b-db_entry-variant-list_item",":focus"))[0];s&&s!==e&&$(e).focus(),t&&this._scrollToItem($(e))}},{key:"_deselectItems",value:function(){var e=this.$activeItem[0];e&&(e.setAttribute("tabindex",-1),e.classList.remove("active"))}},{key:"_scrollToItem",value:function(e){var t=e.offset().top,s=e.outerHeight(),n=window.scrollY||document.documentElement.scrollTop,r=$(window).height();t<n?e.is(":first-child")?window.scrollTo(0,0):window.scrollTo(0,t-10):t+s>n+r&&window.scrollTo(0,n+(t+s)-(n+r)+10)}},{key:"_onBlur",value:(i=a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isIndexMode){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p()();case 4:this.$input.is(":focus")||this.$activeItem.is(":focus")||this._deactivate();case 5:case"end":return e.stop()}},e,this)}),c=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=i.apply(e,t);function a(e){g(r,s,n,a,o,"next",e)}function o(e){g(r,s,n,a,o,"throw",e)}a(void 0)})},function(){return c.apply(this,arguments)})},{key:"_toggleGlobalSearch",value:function(){var e=this.isActive&&(!this.isIndexMode||this.isIndexMode&&Object.isEmpty(this.phrase));$(".l-top_menu-v2").toggleClass("is-search-focus",this.isActive).toggleClass("is-search-shade",e),$(".b-shade").off("click",this._deactivate),e&&$(".b-shade").on("click",this._deactivate)}},{key:"_onGlobalSlash",value:function(e){var t=e.target||e.srcElement;t.isContentEditable||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||(e.preventDefault(),e.stopImmediatePropagation(),this.$input.focus(),this.$input[0].setSelectionRange(0,this.$input[0].value.length))}},{key:"_onEnter",value:function(e){var t;(e.preventDefault(),e.stopImmediatePropagation(),this.isIndexMode)||this.phrase.trim()&&(t=this.$activeItem.length?this.$activeItem.find(".name .b-link").attr("href"):u()(this.$node.data("search_".concat(this.currentMode,"_url"))).removeQuery("search").addQuery({search:this.phrase}),o.a.visit(t))}},{key:"_onEsc",value:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.cancel()}},{key:"_onMoveUp",value:function(e){var t=this.$activeItem.prev()[0];this.isActive&&(e.preventDefault(),e.stopImmediatePropagation()),t?this._selectItem(t,!0):this.isSearching&&(this._deselectItems(),this.$input.focus())}},{key:"_onMoveDown",value:function(e){var t=this.$activeItem,s=t.length?t.next()[0]:this.$content.find(x).first()[0];this.isActive&&(e.preventDefault(),e.stopImmediatePropagation()),s&&this._selectItem(s,!0)}},{key:"_tryCloseOnFocus",value:function(e){var t=e.target,s=$(t);!(t===this.root||s.closest(this.$root).length)&&s.parents("html").length&&this._deactivate()}},{key:"hasIndex",get:function(){return!!$(".b-search-results").length}},{key:"currentMode",get:function(){return this._currentMode},set:function(e){this._currentMode=e,this.isIndexMode?this.searchEngine=new m.default:this.searchEngine=new h.default(this.$node.data("autocomplete_".concat(this.currentMode,"_url")),this.$content)}},{key:"isIndexMode",get:function(){return"index"===this.currentMode}},{key:"$content",get:function(){return this.$root.find(".search-results")}},{key:"$activeItem",get:function(){return this.$content.find(x).filter(".active")}},{key:"isSearching",get:function(){return!Object.isEmpty(this.phrase)}},{key:"phrase",get:function(){return this._phrase},set:function(e){var t=e.trim();if(this._phrase.trim()!==t){var s=this._phrase;this._phrase=e,this.$input[0].value!==e&&(this.$input[0].value=e),this.$input.toggleClass("has-value",!Object.isEmpty(this.phrase)),void 0!==s&&(this.phrase?this.searchEngine.search(t):(this.searchEngine.cancel(),this._renderModes()),this._toggleGlobalSearch())}}},{key:"inputSearchPhrase",get:function(){return this.$input.val()}}])&&y(s.prototype,n),r&&y(s,r),t}()).prototype,"_deactivate",[d.bind],Object.getOwnPropertyDescriptor(n.prototype,"_deactivate"),n.prototype),k(n.prototype,"_onBlur",[d.bind],Object.getOwnPropertyDescriptor(n.prototype,"_onBlur"),n.prototype),k(n.prototype,"_onGlobalSlash",[d.bind],Object.getOwnPropertyDescriptor(n.prototype,"_onGlobalSlash"),n.prototype),k(n.prototype,"_onEnter",[d.bind],Object.getOwnPropertyDescriptor(n.prototype,"_onEnter"),n.prototype),k(n.prototype,"_onEsc",[d.bind],Object.getOwnPropertyDescriptor(n.prototype,"_onEsc"),n.prototype),k(n.prototype,"_onMoveUp",[d.bind],Object.getOwnPropertyDescriptor(n.prototype,"_onMoveUp"),n.prototype),k(n.prototype,"_onMoveDown",[d.bind],Object.getOwnPropertyDescriptor(n.prototype,"_onMoveDown"),n.prototype),k(n.prototype,"_tryCloseOnFocus",[d.bind],Object.getOwnPropertyDescriptor(n.prototype,"_tryCloseOnFocus"),n.prototype),n)},"./app/assets/javascripts/views/search/index_engine.js":function(e,t,s){"use strict";s.r(t),function(e){s.d(t,"default",function(){return f});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/urijs/src/URI.js"),i=s.n(a),o=s("./node_modules/throttle-debounce/index.esm.js"),c=s("./app/assets/javascripts/services/ajax_cacher.js"),u=s("./app/assets/javascripts/services/flash.js"),l=s("./app/assets/javascripts/helpers/jst.js");function p(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function d(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.isAutocomplete=!1,this.debouncedSearch=Object(o.a)(250,function(t){return e._search(t)})}var s,n,a,f,h;return s=t,(n=[{key:"cancel",value:function(){this.phrase=""}},{key:"search",value:function(e){this.phrase=e}},{key:"_search",value:(f=r.a.mark(function t(s){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.fetch(this._searchUrl(s));case 2:if(n=t.sent,a=n.data,200===n.status){t.next=9;break}return u.a.error(e.t("frontend.lib.paginated_catalog.please_try_again_later")),this._hideAjax(),t.abrupt("return");case 9:s===this.phrase&&(this._changeUrl(s),this._processResponse(a)),this._hideAjax();case 11:case"end":return t.stop()}},t,this)}),h=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=f.apply(e,t);function a(e){p(r,s,n,a,i,"next",e)}function i(e){p(r,s,n,a,i,"throw",e)}a(void 0)})},function(e){return h.apply(this,arguments)})},{key:"_processResponse",value:function(e){this.$content.html(this._responseToHtml(e)).process(e.JS_EXPORTS)}},{key:"_responseToHtml",value:function(e){return e.content?e.content+(e.postloader||""):Object.isEmpty(this.phrase)?"":l.a["search/nothing_found"]({isAutocomplete:this.isAutocomplete})}},{key:"_searchUrl",value:function(e){var t=i()(window.location.href.replace(/\/page\/\d+/,"")).removeQuery("search");return e?t.addQuery({search:e}):t}},{key:"_changeUrl",value:function(e){var t=this._searchUrl(e);window.history.replaceState({turbolinks:!0,url:t},"",t)}},{key:"_showAjax",value:function(){this.$content.addClass("b-ajax")}},{key:"_url",value:function(e,t){var s=i()(e).removeQuery("search");return t?s.addQuery({search:t}):s}},{key:"_hideAjax",value:function(){this.$content.removeClass("b-ajax")}},{key:"$content",get:function(){return $(".b-search-results")}},{key:"phrase",get:function(){return this._phrase},set:function(e){this._phrase=e,void 0!==this.phrase&&(this._showAjax(),Object.isEmpty(this.phrase)?this._search(this.phrase):this.debouncedSearch(this.phrase))}}])&&d(s.prototype,n),a&&d(s,a),t}()}.call(this,s("./node_modules/i18n-js/app/assets/javascripts/i18n.js"))},"./app/assets/javascripts/views/styles/body_background.js":function(e,t,s){"use strict";s.r(t),s.d(t,"BodyBackground",function(){return f});var n,r=s("./node_modules/decko/dist/decko.js"),a=s("./app/assets/javascripts/views/application/view.coffee");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(s.push(i.value),!t||s.length!==t);n=!0);}catch(c){r=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return s}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,s,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var d=/\/\* AUTO=body_background.*?body { background: url\((.+?)\)(.*)}.*[\r\n]?/,f=(p((n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var s,n,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,a["default"]),s=t,(n=[{key:"initialize",value:function(){this.cssTemplate=this.$root.data("css_template");var e=i(this.$("#body_background_input"),1);this.input=e[0];var t=i(this.$("#body_background_repeat"),1);this.repeat=t[0];var s=i(this.$("#body_background_fixed"),1);this.fixed=s[0];var n=i(this.$("#body_background_left"),1);this.left=n[0];var r=i(this.$("#body_background_top"),1);this.top=r[0];var a=i(this.$("#body_background_right"),1);this.right=a[0];var o=i(this.$("#body_background_bottom"),1);this.bottom=o[0],this.$("input").on("paste keyup change",this._syncState),this.$(".prepared-backgrounds li").on("click",this._preparedBackground)}},{key:"update",value:function(e){var t=i(Array.from(this._extract(e)),7);this.backgroundUrl=t[0],this.isRepeat=t[1],this.isFixed=t[2],this.isLef=t[3],this.isTop=t[4],this.isRight=t[5],this.is_bototm=t[6],this.input.value=this.backgroundUrl||"",this.repeat.checked=this.isRepeat,this.fixed.checked=this.isFixed,this.left.checked=this.isLef,this.top.checked=this.isTop,this.right.checked=this.isRight,this.bottom.checked=this.isBottom}},{key:"_syncState",value:function(){this.backgroundUrl=this.input.value,this.isRepeat=this.repeat.checked,this.isFixed=this.fixed.checked,this.isLef=this.left.checked,this.isTop=this.top.checked,this.isRight=this.right.checked,this.isBottom=this.bottom.checked,this.trigger("component:update",[d,this._compile()])}},{key:"_preparedBackground",value:function(e){this.input.value=$(e.target).data("background"),this.repeat.checked=!0,this.fixed.checked=!1,this.left.checked=!1,this.top.checked=!1,this.right.checked=!1,this.bottom.checked=!1,this._syncState()}},{key:"_extract",value:function(e){var t=e.match(d);return t?[t[1],t[2].match(/ repeat\b/,""),t[2].match(/ fixed\b/,""),t[2].match(/ left\b/,""),t[2].match(/ top\b/,""),t[2].match(/ right\b/,""),t[2].match(/ bottom\b/,"")]:[]}},{key:"_compile",value:function(){if(!this.backgroundUrl)return"";var e=[this.isRepeat?"repeat":"no-repeat"];this.isFixed&&e.push("fixed"),this.isLef&&e.push("left"),this.isTop&&e.push("top"),this.isRight&&e.push("right"),this.isBottom&&e.push("bottom");var t="url(".concat(this.backgroundUrl,") ").concat(e.join(" "));return this.cssTemplate.replace(/%s/,t)}}])&&o(s.prototype,n),r&&o(s,r),t}()).prototype,"_syncState",[r.bind],Object.getOwnPropertyDescriptor(n.prototype,"_syncState"),n.prototype),p(n.prototype,"_preparedBackground",[r.bind],Object.getOwnPropertyDescriptor(n.prototype,"_preparedBackground"),n.prototype),n)},"./app/assets/javascripts/views/styles/edit.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return b});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/throttle-debounce/index.esm.js"),i=s("./node_modules/js-cookie/src/js.cookie.js"),o=s.n(i),c=s("./app/assets/javascripts/helpers/axios.js"),u=s("./app/assets/javascripts/views/application/view.coffee"),l=s("./app/assets/javascripts/views/styles/predefined_checkbox.js"),p=s("./app/assets/javascripts/views/styles/page_background_color.js"),d=s("./app/assets/javascripts/views/styles/body_background.js");function f(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function h(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){f(a,n,r,i,o,"next",e)}function o(e){f(a,n,r,i,o,"throw",e)}i(void 0)})}}function m(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=/\/\* AUTO=page_border \*\/ .*[\r\n]?/,j=/\/\* AUTO=sticky_menu \*\/ .*[\r\n]?/,b=function(e){function t(){var e,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(s=v(this,(e=_(t)).call.apply(e,[this].concat(r)))).cssCache={},s}var n,i,f,b,w,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,u["default"]),n=t,(i=[{key:"initialize",value:(k=h(r.a.mark(function e(){var t=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$form=this.$(".edit_style"),this.$preview=this.$(".preview"),this._loading(),this._toggleExpand(),this._debouncedPreview=Object(a.a)(500,function(){return t.preview()}),this._debouncedSync=Object(a.a)(500,function(){return t.sync()}),this.$form.on("ajax:before",function(){return t._loading()}),this.$form.on("ajax:complete",function(){return t._loaded()}),this.$root.on("component:update",function(e,s,n){return t._componentUpdated(s,n)}),this.$(".style_css .editor-expand").on("click",function(){return t._toggleExpand(!0)}),this.$(".style_css .editor-collapse").on("click",function(){return t._toggleExpand(!1)}),e.next=13,this._importComponents();case 13:this.editor=this._initEditor(this.CodeMirror),this.editor.on("change",this._debouncedSync),this.components=[new p.PageBackgroundColor(this.$(".page_background_color")),new l.PredefinedCheckbox(this.$(".page_border"),y),new l.PredefinedCheckbox(this.$(".sticky_menu"),j),new d.BodyBackground(this.$(".body_background"))],this._syncComponents();case 17:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"preview",value:function(){var e=this.editor.getValue().trim(),t=this.md5(e);this.cssCache[t]?this._replaceCustomCss(this.cssCache[t]):(this.$preview.show(),this._fetchPreview(e,t))}},{key:"sync",value:function(){this.$("#style_css").val(this.editor.getValue()),this.preview(),this._syncComponents()}},{key:"_importComponents",value:(w=h(r.a.mark(function e(){var t,n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([s.e("codemirror~coremirror"),s.e("codemirror")]).then(s.t.bind(null,"./node_modules/codemirror/lib/codemirror.js",7));case 2:return t=e.sent,n=t.default,e.next=6,Promise.all([s.e("codemirror~coremirror"),s.e("codemirror")]).then(s.t.bind(null,"./node_modules/blueimp-md5/js/md5.js",7));case 6:return a=e.sent,i=a.default,e.next=10,Promise.all([s.e("codemirror~coremirror"),s.e("coremirror")]).then(s.t.bind(null,"./node_modules/codemirror/addon/hint/show-hint.js",7));case 10:return e.next=12,Promise.all([s.e("codemirror~coremirror"),s.e("coremirror")]).then(s.t.bind(null,"./node_modules/codemirror/addon/hint/css-hint.js",7));case 12:return e.next=14,Promise.all([s.e("codemirror~coremirror"),s.e("coremirror")]).then(s.t.bind(null,"./node_modules/codemirror/addon/display/fullscreen.js",7));case 14:return e.next=16,Promise.all([s.e("codemirror~coremirror"),s.e("coremirror")]).then(s.t.bind(null,"./node_modules/codemirror/addon/dialog/dialog.js",7));case 16:return e.next=18,Promise.all([s.e("codemirror~coremirror"),s.e("coremirror")]).then(s.t.bind(null,"./node_modules/codemirror/addon/search/searchcursor.js",7));case 18:return e.next=20,Promise.all([s.e("codemirror~coremirror"),s.e("coremirror")]).then(s.t.bind(null,"./node_modules/codemirror/addon/search/search.js",7));case 20:return e.next=22,Promise.all([s.e("codemirror~coremirror"),s.e("coremirror")]).then(s.t.bind(null,"./node_modules/codemirror/addon/scroll/annotatescrollbar.js",7));case 22:return e.next=24,Promise.all([s.e("codemirror~coremirror"),s.e("coremirror")]).then(s.t.bind(null,"./node_modules/codemirror/addon/search/matchesonscrollbar.js",7));case 24:return e.next=26,Promise.all([s.e("codemirror~coremirror"),s.e("coremirror")]).then(s.t.bind(null,"./node_modules/codemirror/addon/search/jump-to-line.js",7));case 26:this.md5=i,this.CodeMirror=n;case 28:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"_loading",value:function(){this.$form.find(".editor-container").addClass("b-ajax")}},{key:"_loaded",value:function(){this.$form.find(".editor-container").removeClass("b-ajax")}},{key:"_initEditor",value:function(e){return this._loaded(),e.fromTextArea(this.$("#style_css")[0],{mode:"css",theme:"solarized light",lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,lineWrapping:!0,extraKeys:{F11:this._switchFullScreen,"Ctrl-F11":this._switchFullScreen,"Cmd-F11":this._switchFullScreen,Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}})}},{key:"_syncComponents",value:function(){var e=this.editor.getValue();this.components.forEach(function(t){return t.update(e),!0})}},{key:"_componentUpdated",value:function(e,t){var s=this.editor.getValue(),n=t?t+"\n":"";s.match(e)?this.editor.setValue(s.replace(e,n).trim(),1):t&&this.editor.setValue((n+s).trim(),1),this._debouncedPreview()}},{key:"_fetchPreview",value:(b=h(r.a.mark(function e(t,s){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post(this.$preview.data("url"),{style:{css:t}}).catch(function(){return{data:null}});case 2:n=e.sent,a=n.data,this.$preview.hide(),a&&(this.cssCache[s]=a.compiled_css,this._replaceCustomCss(a.compiled_css));case 6:case"end":return e.stop()}},e,this)})),function(e,t){return b.apply(this,arguments)})},{key:"_replaceCustomCss",value:function(e){var t=this.$root.data("custom_css_id");$("#".concat(t)).html(e)}},{key:"_switchFullScreen",value:function(e){var t=e.getOption("fullScreen");e.setOption("fullScreen",!t),$(".l-top_menu-v2").toggleClass("is-fullscreen-mode",!t)}},{key:"_toggleExpand",value:function(e){var t="1"===o.a.get("expanded-styles");void 0!==e&&(t=e,o.a.set("expanded-styles",t?"1":"0",{expires:730,path:"/"})),this.$root.toggleClass("expanded",t),this.$(".style_css .editor-expand").toggleClass("active",!t),this.$(".style_css .editor-collapse").toggleClass("active",t)}}])&&m(n.prototype,i),f&&m(n,f),t}()},"./app/assets/javascripts/views/styles/page_background_color.js":function(e,t,s){"use strict";s.r(t),s.d(t,"PageBackgroundColor",function(){return v});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./node_modules/throttle-debounce/index.esm.js"),i=s("./app/assets/javascripts/views/application/view.coffee");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(s.push(i.value),!t||s.length!==t);n=!0);}catch(c){r=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return s}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function u(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var a=e.apply(t,s);function i(e){c(a,n,r,i,o,"next",e)}function o(e){c(a,n,r,i,o,"throw",e)}i(void 0)})}}function l(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=/\/\* AUTO=page_background_color.*?rgba\((\d+), (\d+), (\d+), (\d+).*[\r\n]?/,m=[255,255,255,1],v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var n,c,v,_,g;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i["default"]),n=t,(c=[{key:"initialize",value:(g=u(r.a.mark(function e(){var t,n,a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.$(".range-slider"),n=o(t,1),this.slider=n[0],this.css_template=this.$root.data("css_template"),this.initPromise=s.e("nouislider.js").then(s.t.bind(null,"./node_modules/nouislider/distribute/nouislider.js",7)).then(function(e){return a._initSlider(e)});case 5:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"update",value:(_=u(r.a.mark(function e(t){var s,n=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:this.opacities=this._extract(t),s=255-this.opacities.first(),this._silenced(function(){return n.slider.noUiSlider.set(s)});case 5:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"_initSlider",value:function(e){var t=this;e.create(this.slider,{range:{min:0,max:12},start:0}),this._silenced(function(){return t.slider.noUiSlider.on("update",function(){return t._debouncedSync()})})}},{key:"_extract",value:function(e){var t=e.match(h);return t?t.slice(1,5).map(function(e){return parseFloat(e).round()}):m}},{key:"_debouncedSync",value:function(){var e=this;this._syncLambda||(this._syncLambda=Object(a.a)(100,function(){return e._syncState()})),this.isSilenced||this._syncLambda()}},{key:"_syncState",value:function(){var e=255-parseFloat(this.slider.noUiSlider.get()).round();this.opacities=[e,e,e,this.opacities[3]],this.trigger("component:update",[h,this._compile()])}},{key:"_compile",value:function(){return 255===this.opacities[0]?"":this.css_template.replace(/%d/,this.opacities[0]).replace(/%d/,this.opacities[1]).replace(/%d/,this.opacities[2]).replace(/%d/,this.opacities[3]).replace(/%d/,this.opacities[0]).replace(/%d/,this.opacities[1]).replace(/%d/,this.opacities[2])}},{key:"_silenced",value:function(e){this.isSilenced=!0,e(),this.isSilenced=!1}}])&&l(n.prototype,c),v&&l(n,v),t}()},"./app/assets/javascripts/views/styles/predefined_checkbox.js":function(e,t,s){"use strict";s.r(t),s.d(t,"PredefinedCheckbox",function(){return _});var n,r=s("./node_modules/decko/dist/decko.js"),a=s("./app/assets/javascripts/views/application/view.coffee");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(s.push(i.value),!t||s.length!==t);n=!0);}catch(c){r=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return s}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p,d,f,h,m,v,_=(p=(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var s,n,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,a["default"]),s=t,(n=[{key:"initialize",value:function(e){this.cssTemplate=this.$root.data("css_template"),this.regexp=e,this.$input=this.$("input");var t=i(this.$input,1);this.input=t[0],this.$input.on("change",this._syncState)}},{key:"update",value:function(e){this.hasBorder=this._extract(e),this.input.checked=this.hasBorder}},{key:"_extract",value:function(e){return!!e.match(this.regexp)}},{key:"_syncState",value:function(){this.hasBorder=this.input.checked,this.trigger("component:update",[this.regexp,this._compile()])}},{key:"_compile",value:function(){return this.hasBorder?this.cssTemplate:""}}])&&o(s.prototype,n),r&&o(s,r),t}()).prototype,d="_syncState",f=[r.bind],h=Object.getOwnPropertyDescriptor(n.prototype,"_syncState"),m=n.prototype,v={},Object.keys(h).forEach(function(e){v[e]=h[e]}),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=f.slice().reverse().reduce(function(e,t){return t(p,d,e)||e},v),m&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(m):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(p,d,v),v=null),n)},"./app/assets/javascripts/views/wall/cluster.js":function(e,t,s){"use strict";function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}s.r(t),s.d(t,"default",function(){return a});var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.images=t}return r(e,null,[{key:"initClass",value:function(){this.MARGIN=4}}]),r(e,[{key:"mason",value:function(e,t,s){var n=this;this.top=e,this.maxWidth=t,this.maxHeight=s,this.images.forEach(function(e){return e.normalize(n.maxWidth,n.maxHeight)}),this.images.forEach(function(e){return n._put(e)}),this.images.forEach(function(e){return e.apply()})}},{key:"width",value:function(){return this.images.map(function(e){return e.left+e.width}).max()||0}},{key:"height",value:function(){return this.images.map(function(e){return e.top+e.height}).max()||0}},{key:"_positioned",value:function(){return this.images.filter(function(e){return e.positioned})}},{key:"_put",value:function(t){var s=this._positioned().map(function(e){return e.left+e.width}).max();s?s+=e.MARGIN:s=0,t.position(s,this.top),this._flatten(),this._scale()}},{key:"_flatten",value:function(){var e=this,t=this._positioned();if(1!==t.length){var s=t.map(function(e){return e.height}),n=s.min();n!==s.max()&&(t.forEach(function(e){e.scaleHeight(n),e.positioned=!1}),t.forEach(function(t){return e._put(t)}))}}},{key:"_scale",value:function(){var t=this,s=this._positioned(),n=s.reduce(function(t,s){return t+s.width+e.MARGIN},0);n>this.maxWidth&&(s.forEach(function(e){e.scale(t.maxWidth/n),e.positioned=!1}),s.forEach(function(e){return t._put(e)}))}}]),e}();a.initClass()},"./app/assets/javascripts/views/wall/image.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return u});var n=s("./app/assets/javascripts/views/application/view.coffee");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(s.push(i.value),!t||s.length!==t);n=!0);}catch(c){r=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return s}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,o(t).apply(this,arguments))}var s,u,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,n["default"]),s=t,(u=[{key:"initialize",value:function(){this.$image=this.$node.find("img");var e=r(this._imageSizes(),2);this.width=e[0],this.height=e[1];var t=r(Array.from([this.width,this.height]),2);return this.originalWidth=t[0],this.original_height=t[1],this.ratio=this.width/this.height,this.reset()}},{key:"reset",value:function(){this.positioned=!1,this.left=0,this.top=0,this.width=this.originalWidth,this.height=this.original_height}},{key:"position",value:function(e,t){this.left=e,this.top=t,this.positioned=!0}},{key:"apply",value:function(){this.$image.css({width:this.width,height:this.height}),this.$node.css({top:this.top,left:this.left}),this._toShikiImage()}},{key:"normalize",value:function(e,t){this.width>e&&this.scaleWidth(e),this.height>t&&this.scaleHeight(t)}},{key:"scaleWidth",value:function(e){return this.height*=e/this.width,this.width=e}},{key:"scaleHeight",value:function(e){return this.width*=e/this.height,this.height=e}},{key:"scale",value:function(e){return this.width*=e,this.height*=e}},{key:"weight",value:function(){return this.ratio.round(1)}},{key:"_toShikiImage",value:function(){this.$node.shikiImage()}},{key:"_imageSizes",value:function(){return[1*this.$image[0].naturalWidth,1*this.$image[0].naturalHeight]}}])&&a(s.prototype,u),l&&a(s,l),t}()},"./app/assets/javascripts/views/wall/video.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return c});var n=s("./app/assets/javascripts/views/wall/image.js");function r(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,i(t).apply(this,arguments))}var s,c,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,n["default"]),s=t,(c=[{key:"_toShikiImage",value:function(){}}])&&r(s.prototype,c),u&&r(s,u),t}()},"./app/assets/javascripts/views/wall/view.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",function(){return v});var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=s.n(n),a=s("./app/assets/javascripts/views/application/view.coffee"),i=s("./app/assets/javascripts/views/wall/cluster.js"),o=s("./app/assets/javascripts/views/wall/image.js"),c=s("./app/assets/javascripts/views/wall/video.js");function u(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function l(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=80,m=0,v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var s,n,v,_,g;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a["default"]),s=t,(n=[{key:"initialize",value:(_=r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.id=m,m+=1,e.next=4,this.$root.imagesLoaded();case 4:this._prepare(),this._buildClusters(),this._mason();case 7:case"end":return e.stop()}},e,this)}),g=function(){var e=this,t=arguments;return new Promise(function(s,n){var r=_.apply(e,t);function a(e){u(r,s,n,a,i,"next",e)}function i(e){u(r,s,n,a,i,"throw",e)}a(void 0)})},function(){return g.apply(this,arguments)})},{key:"_prepare",value:function(){this.$node.css({width:"",height:""}),this.maxHeight=parseInt(this.$node.css("max-height")),this.maxWidth=parseInt(this.$node.css("width"));var e=this.$node.children("a, .b-video").attr({rel:"wall-".concat(this.id)}).css({width:"",height:""});e.children().removeClass("check-width"),this.images=e.toArray().map(function(e){return e.classList.contains("b-video")?new c.default($(e)):new o.default($(e))})}},{key:"_buildClusters",value:function(){if(this._isTwoClusters()){var e=[],t=[];this.images.reduce(function(s,n){return s>2.5?t.push(n):e.push(n),s+n.weight()},0),this.cluster_1=new i.default(e),this.cluster_2=new i.default(t)}this.cluster=new i.default(this.images)}},{key:"_mason",value:function(){var e,t;this._isTwoClusters()?(this._masonSecondCluster(!1),t=[this.cluster_1.width(),this.cluster_2.width()].max(),e=this.cluster_1.height()+i.default.MARGIN+this.cluster_2.height()):(this._masonFirstCluster(),t=this.cluster.width(),e=this.cluster.height()),this.$node.css({width:[t,this.maxWidth].min(),height:[e,this.maxHeight].min()})}},{key:"_isTwoClusters",value:function(){return this.images.sum(function(e){return e.weight()})>5.8}},{key:"_clusterFirstHeight",value:function(){return[this.maxHeight-h,h].max()}},{key:"_clusterSecondHeight",value:function(){return[(this.maxHeight-this.cluster_1.height()+i.default.MARGIN).round(),h].max()}},{key:"_masonFirstCluster",value:function(){return this.cluster.mason(0,this.maxWidth,this.maxHeight)}},{key:"_masonSecondCluster",value:function(e){if(this.cluster_1.mason(0,this.maxWidth,this._clusterFirstHeight()),this.cluster_2.mason(this.cluster_1.height()+i.default.MARGIN,this.maxWidth,this._clusterSecondHeight()),e)this.$node.css("max-height",this.cluster_2.height()+i.default.MARGIN,+this.cluster_1.height());else{var t=(.95*this.maxWidth).round();(this.cluster_2.width()<t||this.cluster_1.width()<t)&&(this.maxHeight=(1.3*this.maxHeight).round(),this.$node.css("max-height",this.maxHeight),this.images.forEach(function(e){return e.reset()}),this._masonSecondCluster(!0))}}}])&&l(s.prototype,n),v&&l(s,v),t}()},"./node_modules/moment/locale sync recursive ru":function(e,t,s){var n={"./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="./node_modules/moment/locale sync recursive ru"},0:function(e,t){}});
//# sourceMappingURL=application-b8f445596b1aa83933fb.js.map